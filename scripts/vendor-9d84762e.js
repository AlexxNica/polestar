/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */
!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e="length"in t&&t.length,n=Q.type(t);return"function"===n||Q.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function i(t,e,n){if(Q.isFunction(e))return Q.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return Q.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(se.test(e))return Q.filter(e,t,n);e=Q.filter(e,t)}return Q.grep(t,function(t){return V.call(e,t)>=0!==n})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=pe[t]={};return Q.each(t.match(de)||[],function(t,n){e[n]=!0}),e}function a(){Z.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1),Q.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+s.uid++}function u(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(we,"-$1").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:be.test(n)?Q.parseJSON(n):n}catch(r){}ye.set(t,e,n)}else n=void 0;return n}function l(){return!0}function c(){return!1}function f(){try{return Z.activeElement}catch(t){}}function h(t,e){return Q.nodeName(t,"table")&&Q.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function d(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function p(t){var e=Re.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var n=0,i=t.length;i>n;n++)ve.set(t[n],"globalEval",!e||ve.get(e[n],"globalEval"))}function m(t,e){var n,i,r,o,a,s,u,l;if(1===e.nodeType){if(ve.hasData(t)&&(o=ve.access(t),a=ve.set(e,o),l=o.events)){delete a.handle,a.events={};for(r in l)for(n=0,i=l[r].length;i>n;n++)Q.event.add(e,r,l[r][n])}ye.hasData(t)&&(s=ye.access(t),u=Q.extend({},s),ye.set(e,u))}}function v(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&Q.nodeName(t,e)?Q.merge([t],n):n}function y(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Ce.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function b(e,n){var i,r=Q(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(i=t.getDefaultComputedStyle(r[0]))?i.display:Q.css(r[0],"display");return r.detach(),o}function w(t){var e=Z,n=He[t];return n||(n=b(t,e),"none"!==n&&n||(Fe=(Fe||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Fe[0].contentDocument,e.write(),e.close(),n=b(t,e),Fe.detach()),He[t]=n),n}function _(t,e,n){var i,r,o,a,s=t.style;return n=n||Ue(t),n&&(a=n.getPropertyValue(e)||n[e]),n&&(""!==a||Q.contains(t.ownerDocument,t)||(a=Q.style(t,e)),qe.test(a)&&ze.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function x(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function $(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),i=e,r=Ke.length;r--;)if(e=Ke[r]+n,e in t)return e;return i}function C(t,e,n){var i=Be.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function E(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=Q.css(t,n+xe[o],!0,r)),i?("content"===n&&(a-=Q.css(t,"padding"+xe[o],!0,r)),"margin"!==n&&(a-=Q.css(t,"border"+xe[o]+"Width",!0,r))):(a+=Q.css(t,"padding"+xe[o],!0,r),"padding"!==n&&(a+=Q.css(t,"border"+xe[o]+"Width",!0,r)));return a}function k(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=Ue(t),a="border-box"===Q.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=_(t,e,o),(0>r||null==r)&&(r=t.style[e]),qe.test(r))return r;i=a&&(G.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+E(t,e,n||(a?"border":"content"),i,o)+"px"}function S(t,e){for(var n,i,r,o=[],a=0,s=t.length;s>a;a++)i=t[a],i.style&&(o[a]=ve.get(i,"olddisplay"),n=i.style.display,e?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&$e(i)&&(o[a]=ve.access(i,"olddisplay",w(i.nodeName)))):(r=$e(i),"none"===n&&r||ve.set(i,"olddisplay",r?n:Q.css(i,"display"))));for(a=0;s>a;a++)i=t[a],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[a]||"":"none"));return t}function T(t,e,n,i,r){return new T.prototype.init(t,e,n,i,r)}function O(){return setTimeout(function(){Ge=void 0}),Ge=Q.now()}function M(t,e){var n,i=0,r={height:t};for(e=e?1:0;4>i;i+=2-e)n=xe[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function A(t,e,n){for(var i,r=(nn[e]||[]).concat(nn["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,e,t))return i}function D(t,e,n){var i,r,o,a,s,u,l,c,f=this,h={},d=t.style,p=t.nodeType&&$e(t),g=ve.get(t,"fxshow");n.queue||(s=Q._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,Q.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],l=Q.css(t,"display"),c="none"===l?ve.get(t,"olddisplay")||w(t.nodeName):l,"inline"===c&&"none"===Q.css(t,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],Je.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;p=!0}h[i]=g&&g[i]||Q.style(t,i)}else l=void 0;if(Q.isEmptyObject(h))"inline"===("none"===l?w(t.nodeName):l)&&(d.display=l);else{g?"hidden"in g&&(p=g.hidden):g=ve.access(t,"fxshow",{}),o&&(g.hidden=!p),p?Q(t).show():f.done(function(){Q(t).hide()}),f.done(function(){var e;ve.remove(t,"fxshow");for(e in h)Q.style(t,e,h[e])});for(i in h)a=A(p?g[i]:0,i,f),i in g||(g[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function I(t,e){var n,i,r,o,a;for(n in t)if(i=Q.camelCase(n),r=e[i],o=t[n],Q.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),a=Q.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function N(t,e,n){var i,r,o=0,a=en.length,s=Q.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var e=Ge||O(),n=Math.max(0,l.startTime+l.duration-e),i=n/l.duration||0,o=1-i,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(t,[l,o,n]),1>o&&u?n:(s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:Q.extend({},e),opts:Q.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Ge||O(),duration:n.duration,tweens:[],createTween:function(e,n){var i=Q.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)l.tweens[n].run(1);return e?s.resolveWith(t,[l,e]):s.rejectWith(t,[l,e]),this}}),c=l.props;for(I(c,l.opts.specialEasing);a>o;o++)if(i=en[o].call(l,t,c,l.opts))return i;return Q.map(c,A,l),Q.isFunction(l.opts.start)&&l.opts.start.call(t,l),Q.fx.timer(Q.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function P(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(de)||[];if(Q.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function R(t,e,n,i){function r(s){var u;return o[s]=!0,Q.each(t[s]||[],function(t,s){var l=s(e,n,i);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),u}var o={},a=t===wn;return r(e.dataTypes[0])||!o["*"]&&r("*")}function L(t,e){var n,i,r=Q.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&Q.extend(!0,t,i),t}function j(t,e,n){for(var i,r,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}a||(a=r)}o=o||a}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function F(t,e,n,i){var r,o,a,s,u,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(r in l)if(s=r.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[r]:l[r]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(f){return{state:"parsererror",error:a?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function H(t,e,n,i){var r;if(Q.isArray(e))Q.each(e,function(e,r){n||En.test(t)?i(t,r):H(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==Q.type(e))i(t,e);else for(r in e)H(t+"["+r+"]",e[r],n,i)}function z(t){return Q.isWindow(t)?t:9===t.nodeType&&t.defaultView}var q=[],U=q.slice,W=q.concat,B=q.push,V=q.indexOf,Y={},X=Y.toString,K=Y.hasOwnProperty,G={},Z=t.document,J="2.1.4",Q=function(t,e){return new Q.fn.init(t,e)},te=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ee=/^-ms-/,ne=/-([\da-z])/gi,ie=function(t,e){return e.toUpperCase()};Q.fn=Q.prototype={jquery:J,constructor:Q,selector:"",length:0,toArray:function(){return U.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:U.call(this)},pushStack:function(t){var e=Q.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Q.each(this,t,e)},map:function(t){return this.pushStack(Q.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(U.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:B,sort:q.sort,splice:q.splice},Q.extend=Q.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||Q.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],i=t[e],a!==i&&(l&&i&&(Q.isPlainObject(i)||(r=Q.isArray(i)))?(r?(r=!1,o=n&&Q.isArray(n)?n:[]):o=n&&Q.isPlainObject(n)?n:{},a[e]=Q.extend(l,o,i)):void 0!==i&&(a[e]=i));return a},Q.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Q.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!Q.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"!==Q.type(t)||t.nodeType||Q.isWindow(t)?!1:t.constructor&&!K.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Y[X.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=Q.trim(t),t&&(1===t.indexOf("use strict")?(e=Z.createElement("script"),e.text=t,Z.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(ee,"ms-").replace(ne,ie)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var r,o=0,a=t.length,s=n(t);if(i){if(s)for(;a>o&&(r=e.apply(t[o],i),r!==!1);o++);else for(o in t)if(r=e.apply(t[o],i),r===!1)break}else if(s)for(;a>o&&(r=e.call(t[o],o,t[o]),r!==!1);o++);else for(o in t)if(r=e.call(t[o],o,t[o]),r===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(te,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?Q.merge(i,"string"==typeof t?[t]:t):B.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:V.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,a=t.length,s=!n;a>o;o++)i=!e(t[o],o),i!==s&&r.push(t[o]);return r},map:function(t,e,i){var r,o=0,a=t.length,s=n(t),u=[];if(s)for(;a>o;o++)r=e(t[o],o,i),null!=r&&u.push(r);else for(o in t)r=e(t[o],o,i),null!=r&&u.push(r);return W.apply([],u)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),Q.isFunction(t)?(i=U.call(arguments,2),r=function(){return t.apply(e||this,i.concat(U.call(arguments)))},r.guid=t.guid=t.guid||Q.guid++,r):void 0},now:Date.now,support:G}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Y["[object "+e+"]"]=e.toLowerCase()});var re=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(t){function e(t,e,n,i){var r,o,a,s,u,l,f,d,p,g;if((e?e.ownerDocument||e:H)!==D&&A(e),e=e||D,n=n||[],s=e.nodeType,"string"!=typeof t||!t||1!==s&&9!==s&&11!==s)return n;if(!i&&N){if(11!==s&&(r=ye.exec(t)))if(a=r[1]){if(9===s){if(o=e.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&j(e,o)&&o.id===a)return n.push(o),n}else{if(r[2])return J.apply(n,e.getElementsByTagName(t)),n;if((a=r[3])&&_.getElementsByClassName)return J.apply(n,e.getElementsByClassName(a)),n}if(_.qsa&&(!P||!P.test(t))){if(d=f=F,p=e,g=1!==s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(l=E(t),(f=e.getAttribute("id"))?d=f.replace(we,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",u=l.length;u--;)l[u]=d+h(l[u]);p=be.test(t)&&c(e.parentNode)||e,g=l.join(",")}if(g)try{return J.apply(n,p.querySelectorAll(g)),n}catch(m){}finally{f||e.removeAttribute("id")}}}return S(t.replace(ue,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[F]=!0,t}function r(t){var e=D.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=t.length;i--;)x.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function f(){}function h(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function d(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=q++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,a){var s,u,l=[z,o];if(a){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(u=e[F]||(e[F]={}),(s=u[i])&&s[0]===z&&s[1]===o)return l[2]=s[2];if(u[i]=l,l[2]=t(e,n,a))return!0}}}function p(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,n,i){for(var r=0,o=n.length;o>r;r++)e(t,n[r],i);return i}function m(t,e,n,i,r){for(var o,a=[],s=0,u=t.length,l=null!=e;u>s;s++)(o=t[s])&&(!n||n(o,i,r))&&(a.push(o),l&&e.push(s));return a}function v(t,e,n,r,o,a){return r&&!r[F]&&(r=v(r)),o&&!o[F]&&(o=v(o,a)),i(function(i,a,s,u){var l,c,f,h=[],d=[],p=a.length,v=i||g(e||"*",s.nodeType?[s]:s,[]),y=!t||!i&&e?v:m(v,h,t,s,u),b=n?o||(i?t:p||r)?[]:a:y;if(n&&n(y,b,s,u),r)for(l=m(b,d),r(l,[],s,u),c=l.length;c--;)(f=l[c])&&(b[d[c]]=!(y[d[c]]=f));if(i){if(o||t){if(o){for(l=[],c=b.length;c--;)(f=b[c])&&l.push(y[c]=f);o(null,b=[],l,u)}for(c=b.length;c--;)(f=b[c])&&(l=o?te(i,f):h[c])>-1&&(i[l]=!(a[l]=f))}}else b=m(b===a?b.splice(p,b.length):b),o?o(null,a,b,u):J.apply(a,b)})}function y(t){for(var e,n,i,r=t.length,o=x.relative[t[0].type],a=o||x.relative[" "],s=o?1:0,u=d(function(t){return t===e},a,!0),l=d(function(t){return te(e,t)>-1},a,!0),c=[function(t,n,i){var r=!o&&(i||n!==T)||((e=n).nodeType?u(t,n,i):l(t,n,i));return e=null,r}];r>s;s++)if(n=x.relative[t[s].type])c=[d(p(c),n)];else{if(n=x.filter[t[s].type].apply(null,t[s].matches),n[F]){for(i=++s;r>i&&!x.relative[t[i].type];i++);return v(s>1&&p(c),s>1&&h(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ue,"$1"),n,i>s&&y(t.slice(s,i)),r>i&&y(t=t.slice(i)),r>i&&h(t))}c.push(n)}return p(c)}function b(t,n){var r=n.length>0,o=t.length>0,a=function(i,a,s,u,l){var c,f,h,d=0,p="0",g=i&&[],v=[],y=T,b=i||o&&x.find.TAG("*",l),w=z+=null==y?1:Math.random()||.1,_=b.length;for(l&&(T=a!==D&&a);p!==_&&null!=(c=b[p]);p++){if(o&&c){for(f=0;h=t[f++];)if(h(c,a,s)){u.push(c);break}l&&(z=w)}r&&((c=!h&&c)&&d--,i&&g.push(c))}if(d+=p,r&&p!==d){for(f=0;h=n[f++];)h(g,v,a,s);if(i){if(d>0)for(;p--;)g[p]||v[p]||(v[p]=G.call(u));v=m(v)}J.apply(u,v),l&&!i&&v.length>0&&d+n.length>1&&e.uniqueSort(u)}return l&&(z=w,T=y),g};return r?i(a):a}var w,_,x,$,C,E,k,S,T,O,M,A,D,I,N,P,R,L,j,F="sizzle"+1*new Date,H=t.document,z=0,q=0,U=n(),W=n(),B=n(),V=function(t,e){return t===e&&(M=!0),0},Y=1<<31,X={}.hasOwnProperty,K=[],G=K.pop,Z=K.push,J=K.push,Q=K.slice,te=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ie.replace("w","w#"),oe="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),fe=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(ae),de=new RegExp("^"+re+"$"),pe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,we=/'|\\/g,_e=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),xe=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},$e=function(){A()};try{J.apply(K=Q.call(H.childNodes),H.childNodes),K[H.childNodes.length].nodeType}catch(Ce){J={apply:K.length?function(t,e){Z.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}_=e.support={},C=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},A=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:H;return i!==D&&9===i.nodeType&&i.documentElement?(D=i,I=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",$e,!1):n.attachEvent&&n.attachEvent("onunload",$e)),N=!C(i),_.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),_.getElementsByTagName=r(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),_.getElementsByClassName=ve.test(i.getElementsByClassName),_.getById=r(function(t){return I.appendChild(t).id=F,!i.getElementsByName||!i.getElementsByName(F).length}),_.getById?(x.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&N){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(t){var e=t.replace(_e,xe);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(_e,xe);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),x.find.TAG=_.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):_.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},x.find.CLASS=_.getElementsByClassName&&function(t,e){return N?e.getElementsByClassName(t):void 0},R=[],P=[],(_.qsa=ve.test(i.querySelectorAll))&&(r(function(t){I.appendChild(t).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+ne+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||P.push("\\["+ne+"*(?:value|"+ee+")"),t.querySelectorAll("[id~="+F+"-]").length||P.push("~="),t.querySelectorAll(":checked").length||P.push(":checked"),t.querySelectorAll("a#"+F+"+*").length||P.push(".#.+[+~]")}),r(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&P.push("name"+ne+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),P.push(",.*:")})),(_.matchesSelector=ve.test(L=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&r(function(t){_.disconnectedMatch=L.call(t,"div"),L.call(t,"[s!='']:x"),R.push("!=",ae)}),P=P.length&&new RegExp(P.join("|")),R=R.length&&new RegExp(R.join("|")),e=ve.test(I.compareDocumentPosition),j=e||ve.test(I.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return M=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!_.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===H&&j(H,t)?-1:e===i||e.ownerDocument===H&&j(H,e)?1:O?te(O,t)-te(O,e):0:4&n?-1:1)}:function(t,e){if(t===e)return M=!0,0;var n,r=0,o=t.parentNode,s=e.parentNode,u=[t],l=[e];if(!o||!s)return t===i?-1:e===i?1:o?-1:s?1:O?te(O,t)-te(O,e):0;if(o===s)return a(t,e);for(n=t;n=n.parentNode;)u.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;u[r]===l[r];)r++;return r?a(u[r],l[r]):u[r]===H?-1:l[r]===H?1:0},i):D},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==D&&A(t),n=n.replace(fe,"='$1']"),!(!_.matchesSelector||!N||R&&R.test(n)||P&&P.test(n)))try{var i=L.call(t,n);if(i||_.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,D,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==D&&A(t),j(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==D&&A(t);var n=x.attrHandle[e.toLowerCase()],i=n&&X.call(x.attrHandle,e.toLowerCase())?n(t,e,!N):void 0;return void 0!==i?i:_.attributes||!N?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(M=!_.detectDuplicates,O=!_.sortStable&&t.slice(0),t.sort(V),M){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return O=null,t},$=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=$(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=$(e);return n},x=e.selectors={cacheLength:50,createPseudo:i,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_e,xe),t[3]=(t[3]||t[4]||t[5]||"").replace(_e,xe),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pe.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&he.test(n)&&(e=E(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_e,xe).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=new RegExp("(^|"+ne+")"+t+"("+ne+"|$)"))&&U(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(se," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var l,c,f,h,d,p,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!u&&!s;if(m){if(o){for(;g;){for(f=e;f=f[g];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(c=m[F]||(m[F]={}),l=c[t]||[],d=l[0]===z&&l[1],h=l[0]===z&&l[2],f=d&&m.childNodes[d];f=++d&&f&&f[g]||(h=d=0)||p.pop();)if(1===f.nodeType&&++h&&f===e){c[t]=[z,d,h];break}}else if(y&&(l=(e[F]||(e[F]={}))[t])&&l[0]===z)h=l[1];else for(;(f=++d&&f&&f[g]||(h=d=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++h||(y&&((f[F]||(f[F]={}))[t]=[z,h]),f!==e)););return h-=r,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(t,n){var r,o=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[F]?o(n):o.length>1?(r=[t,t,"",n],x.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),a=r.length;a--;)i=te(t,r[a]),t[i]=!(e[i]=r[a])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=k(t.replace(ue,"$1"));return r[F]?i(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(_e,xe),function(e){return(e.textContent||e.innerText||$(e)).indexOf(t)>-1}}),lang:i(function(t){return de.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(_e,xe).toLowerCase(),function(e){var n;do if(n=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===I},focus:function(t){return t===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return me.test(t.nodeName)},input:function(t){return ge.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[0>n?n+e:n]}),even:l(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:l(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},x.pseudos.nth=x.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=u(w);return f.prototype=x.filters=x.pseudos,x.setFilters=new f,E=e.tokenize=function(t,n){var i,r,o,a,s,u,l,c=W[t+" "];if(c)return n?0:c.slice(0);for(s=t,u=[],l=x.preFilter;s;){(!i||(r=le.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),i=!1,(r=ce.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ue," ")}),s=s.slice(i.length));for(a in x.filter)!(r=pe[a].exec(s))||l[a]&&!(r=l[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):W(t,u).slice(0)},k=e.compile=function(t,e){var n,i=[],r=[],o=B[t+" "];if(!o){for(e||(e=E(t)),n=e.length;n--;)o=y(e[n]),o[F]?i.push(o):r.push(o);o=B(t,b(r,i)),o.selector=t}return o},S=e.select=function(t,e,n,i){var r,o,a,s,u,l="function"==typeof t&&t,f=!i&&E(t=l.selector||t);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&_.getById&&9===e.nodeType&&N&&x.relative[o[1].type]){if(e=(x.find.ID(a.matches[0].replace(_e,xe),e)||[])[0],!e)return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pe.needsContext.test(t)?0:o.length;r--&&(a=o[r],!x.relative[s=a.type]);)if((u=x.find[s])&&(i=u(a.matches[0].replace(_e,xe),be.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&h(o),!t)return J.apply(n,i),n;break}}return(l||k(t,f))(i,e,!N,n,be.test(t)&&c(e.parentNode)||e),n},_.sortStable=F.split("").sort(V).join("")===F,_.detectDuplicates=!!M,A(),_.sortDetached=r(function(t){return 1&t.compareDocumentPosition(D.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),_.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(ee,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);Q.find=re,Q.expr=re.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=re.uniqueSort,Q.text=re.getText,Q.isXMLDoc=re.isXML,Q.contains=re.contains;var oe=Q.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;Q.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?Q.find.matchesSelector(i,t)?[i]:[]:Q.find.matches(t,Q.grep(e,function(t){return 1===t.nodeType}))},Q.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(Q(t).filter(function(){for(e=0;n>e;e++)if(Q.contains(r[e],this))return!0}));for(e=0;n>e;e++)Q.find(t,r[e],i);return i=this.pushStack(n>1?Q.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&oe.test(t)?Q(t):t||[],!1).length}});var ue,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=Q.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:le.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||ue).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof Q?e[0]:e,Q.merge(this,Q.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:Z,!0)),ae.test(n[1])&&Q.isPlainObject(e))for(n in e)Q.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return i=Z.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=Z,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Q.isFunction(t)?"undefined"!=typeof ue.ready?ue.ready(t):t(Q):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Q.makeArray(t,this))};ce.prototype=Q.fn,ue=Q(Z);var fe=/^(?:parents|prev(?:Until|All))/,he={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&Q(t).is(n))break;i.push(t)}return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),Q.fn.extend({has:function(t){var e=Q(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(Q.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],a=oe.test(t)||"string"!=typeof t?Q(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Q.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?Q.unique(o):o)},index:function(t){return t?"string"==typeof t?V.call(Q(t),this[0]):V.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Q.unique(Q.merge(this.get(),Q(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Q.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Q.dir(t,"parentNode")},parentsUntil:function(t,e,n){return Q.dir(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return Q.dir(t,"nextSibling")},prevAll:function(t){return Q.dir(t,"previousSibling")},nextUntil:function(t,e,n){return Q.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return Q.dir(t,"previousSibling",n)},siblings:function(t){return Q.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Q.sibling(t.firstChild)},contents:function(t){return t.contentDocument||Q.merge([],t.childNodes)}},function(t,e){Q.fn[t]=function(n,i){var r=Q.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=Q.filter(i,r)),this.length>1&&(he[t]||Q.unique(r),fe.test(t)&&r.reverse()),this.pushStack(r)}});var de=/\S+/g,pe={};Q.Callbacks=function(t){t="string"==typeof t?pe[t]||o(t):Q.extend({},t);var e,n,i,r,a,s,u=[],l=!t.once&&[],c=function(o){for(e=t.memory&&o,n=!0,s=r||0,r=0,a=u.length,i=!0;u&&a>s;s++)if(u[s].apply(o[0],o[1])===!1&&t.stopOnFalse){e=!1;break}i=!1,u&&(l?l.length&&c(l.shift()):e?u=[]:f.disable())},f={add:function(){if(u){var n=u.length;!function o(e){Q.each(e,function(e,n){var i=Q.type(n);"function"===i?t.unique&&f.has(n)||u.push(n):n&&n.length&&"string"!==i&&o(n)})}(arguments),i?a=u.length:e&&(r=n,c(e))}return this},remove:function(){return u&&Q.each(arguments,function(t,e){for(var n;(n=Q.inArray(e,u,n))>-1;)u.splice(n,1),i&&(a>=n&&a--,s>=n&&s--)}),this},has:function(t){return t?Q.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],a=0,this},disable:function(){return u=l=e=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,e||f.disable(),this},locked:function(){return!l},fireWith:function(t,e){return!u||n&&!l||(e=e||[],e=[t,e.slice?e.slice():e],i?l.push(e):c(e)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!n}};return f},Q.extend({Deferred:function(t){var e=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Q.Deferred(function(n){Q.each(e,function(e,o){var a=Q.isFunction(t[e])&&t[e];r[o[1]](function(){var t=a&&a.apply(this,arguments);t&&Q.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?Q.extend(t,i):i}},r={};return i.pipe=i.then,Q.each(e,function(t,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=U.call(arguments),a=o.length,s=1!==a||t&&Q.isFunction(t.promise)?a:0,u=1===s?t:Q.Deferred(),l=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?U.call(arguments):r,i===e?u.notifyWith(n,i):--s||u.resolveWith(n,i)}};if(a>1)for(e=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&Q.isFunction(o[r].promise)?o[r].promise().done(l(r,i,o)).fail(u.reject).progress(l(r,n,e)):--s;return s||u.resolveWith(i,o),u.promise()}});var ge;Q.fn.ready=function(t){return Q.ready.promise().done(t),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Q.readyWait++:Q.ready(!0)},ready:function(t){(t===!0?--Q.readyWait:Q.isReady)||(Q.isReady=!0,t!==!0&&--Q.readyWait>0||(ge.resolveWith(Z,[Q]),Q.fn.triggerHandler&&(Q(Z).triggerHandler("ready"),Q(Z).off("ready"))))}}),Q.ready.promise=function(e){return ge||(ge=Q.Deferred(),"complete"===Z.readyState?setTimeout(Q.ready):(Z.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1))),ge.promise(e)},Q.ready.promise();var me=Q.access=function(t,e,n,i,r,o,a){var s=0,u=t.length,l=null==n;if("object"===Q.type(n)){r=!0;for(s in n)Q.access(t,e,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,Q.isFunction(i)||(a=!0),l&&(a?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(Q(t),n)})),e))for(;u>s;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:l?e.call(t):u?e(t[0],n):o};Q.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},s.uid=1,s.accepts=Q.acceptData,s.prototype={key:function(t){if(!s.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=s.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(i){e[this.expando]=n,Q.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var i,r=this.key(t),o=this.cache[r];if("string"==typeof e)o[e]=n;else if(Q.isEmptyObject(o))Q.extend(this.cache[r],e);else for(i in e)o[i]=e[i];return o},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,Q.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,o=this.key(t),a=this.cache[o];if(void 0===e)this.cache[o]={};else{Q.isArray(e)?i=e.concat(e.map(Q.camelCase)):(r=Q.camelCase(e),e in a?i=[e,r]:(i=r,i=i in a?[i]:i.match(de)||[])),n=i.length;for(;n--;)delete a[i[n]]}},hasData:function(t){return!Q.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var ve=new s,ye=new s,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,we=/([A-Z])/g;Q.extend({hasData:function(t){return ye.hasData(t)||ve.hasData(t)},data:function(t,e,n){return ye.access(t,e,n)},removeData:function(t,e){ye.remove(t,e)},_data:function(t,e,n){return ve.access(t,e,n)},_removeData:function(t,e){ve.remove(t,e)}}),Q.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=ye.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=Q.camelCase(i.slice(5)),u(o,i,r[i])));ve.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){ye.set(this,t)}):me(this,function(e){var n,i=Q.camelCase(t);if(o&&void 0===e){if(n=ye.get(o,t),void 0!==n)return n;if(n=ye.get(o,i),void 0!==n)return n;if(n=u(o,i,void 0),void 0!==n)return n}else this.each(function(){var n=ye.get(this,i);ye.set(this,i,e),-1!==t.indexOf("-")&&void 0!==n&&ye.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){ye.remove(this,t)})}}),Q.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=ve.get(t,e),n&&(!i||Q.isArray(n)?i=ve.access(t,e,Q.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=Q.queue(t,e),i=n.length,r=n.shift(),o=Q._queueHooks(t,e),a=function(){Q.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ve.get(t,n)||ve.access(t,n,{empty:Q.Callbacks("once memory").add(function(){ve.remove(t,[e+"queue",n])})})}}),Q.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?Q.queue(this[0],t):void 0===e?this:this.each(function(){var n=Q.queue(this,t,e);Q._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&Q.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Q.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=Q.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=ve.get(o[a],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var _e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xe=["Top","Right","Bottom","Left"],$e=function(t,e){return t=e||t,"none"===Q.css(t,"display")||!Q.contains(t.ownerDocument,t)},Ce=/^(?:checkbox|radio)$/i;!function(){var t=Z.createDocumentFragment(),e=t.appendChild(Z.createElement("div")),n=Z.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),G.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",G.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ee="undefined";G.focusinBubbles="onfocusin"in t;var ke=/^key/,Se=/^(?:mouse|pointer|contextmenu)|click/,Te=/^(?:focusinfocus|focusoutblur)$/,Oe=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(t,e,n,i,r){var o,a,s,u,l,c,f,h,d,p,g,m=ve.get(t);if(m)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=Q.guid++),(u=m.events)||(u=m.events={}),(a=m.handle)||(a=m.handle=function(e){return typeof Q!==Ee&&Q.event.triggered!==e.type?Q.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(de)||[""],l=e.length;l--;)s=Oe.exec(e[l])||[],d=g=s[1],p=(s[2]||"").split(".").sort(),d&&(f=Q.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,f=Q.event.special[d]||{},c=Q.extend({type:d,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&Q.expr.match.needsContext.test(r),namespace:p.join(".")},o),(h=u[d])||(h=u[d]=[],h.delegateCount=0,f.setup&&f.setup.call(t,i,p,a)!==!1||t.addEventListener&&t.addEventListener(d,a,!1)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,c):h.push(c),Q.event.global[d]=!0)},remove:function(t,e,n,i,r){var o,a,s,u,l,c,f,h,d,p,g,m=ve.hasData(t)&&ve.get(t);if(m&&(u=m.events)){for(e=(e||"").match(de)||[""],l=e.length;l--;)if(s=Oe.exec(e[l])||[],d=g=s[1],p=(s[2]||"").split(".").sort(),d){for(f=Q.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,h=u[d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)c=h[o],!r&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,f.remove&&f.remove.call(t,c));a&&!h.length&&(f.teardown&&f.teardown.call(t,p,m.handle)!==!1||Q.removeEvent(t,d,m.handle),delete u[d])}else for(d in u)Q.event.remove(t,d+e[l],n,i,!0);Q.isEmptyObject(u)&&(delete m.handle,ve.remove(t,"events"))}},trigger:function(e,n,i,r){var o,a,s,u,l,c,f,h=[i||Z],d=K.call(e,"type")?e.type:e,p=K.call(e,"namespace")?e.namespace.split("."):[];if(a=s=i=i||Z,3!==i.nodeType&&8!==i.nodeType&&!Te.test(d+Q.event.triggered)&&(d.indexOf(".")>=0&&(p=d.split("."),d=p.shift(),p.sort()),l=d.indexOf(":")<0&&"on"+d,e=e[Q.expando]?e:new Q.Event(d,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:Q.makeArray(n,[e]),f=Q.event.special[d]||{},r||!f.trigger||f.trigger.apply(i,n)!==!1)){if(!r&&!f.noBubble&&!Q.isWindow(i)){for(u=f.delegateType||d,Te.test(u+d)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;
s===(i.ownerDocument||Z)&&h.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=h[o++])&&!e.isPropagationStopped();)e.type=o>1?u:f.bindType||d,c=(ve.get(a,"events")||{})[e.type]&&ve.get(a,"handle"),c&&c.apply(a,n),c=l&&a[l],c&&c.apply&&Q.acceptData(a)&&(e.result=c.apply(a,n),e.result===!1&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||f._default&&f._default.apply(h.pop(),n)!==!1||!Q.acceptData(i)||l&&Q.isFunction(i[d])&&!Q.isWindow(i)&&(s=i[l],s&&(i[l]=null),Q.event.triggered=d,i[d](),Q.event.triggered=void 0,s&&(i[l]=s)),e.result}},dispatch:function(t){t=Q.event.fix(t);var e,n,i,r,o,a=[],s=U.call(arguments),u=(ve.get(this,"events")||{})[t.type]||[],l=Q.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(a=Q.event.handlers.call(this,t,u),e=0;(r=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,i=((Q.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,a=[],s=e.delegateCount,u=t.target;if(s&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==t.type){for(i=[],n=0;s>n;n++)o=e[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?Q(r,this).index(u)>=0:Q.find(r,this,null,[u]).length),i[r]&&i.push(o);i.length&&a.push({elem:u,handlers:i})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||Z,i=n.documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[Q.expando])return t;var e,n,i,r=t.type,o=t,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Se.test(r)?this.mouseHooks:ke.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new Q.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=Z),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==f()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Q.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return Q.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=Q.extend(new Q.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?Q.event.trigger(r,null,e):Q.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},Q.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},Q.Event=function(t,e){return this instanceof Q.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?l:c):this.type=t,e&&Q.extend(this,e),this.timeStamp=t&&t.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(t,e)},Q.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=l,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Q.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==i&&!Q.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),G.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){Q.event.simulate(e,t.target,Q.event.fix(t),!0)};Q.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=ve.access(i,e);r||i.addEventListener(t,n,!0),ve.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=ve.access(i,e)-1;r?ve.access(i,e,r):(i.removeEventListener(t,n,!0),ve.remove(i,e))}}}),Q.fn.extend({on:function(t,e,n,i,r){var o,a;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(a in t)this.on(a,e,n,t[a],r);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),i===!1)i=c;else if(!i)return this;return 1===r&&(o=i,i=function(t){return Q().off(t),o.apply(this,arguments)},i.guid=o.guid||(o.guid=Q.guid++)),this.each(function(){Q.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,Q(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=c),this.each(function(){Q.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){Q.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?Q.event.trigger(t,e,n,!0):void 0}});var Me=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ae=/<([\w:]+)/,De=/<|&#?\w+;/,Ie=/<(?:script|style|link)/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,Pe=/^$|\/(?:java|ecma)script/i,Re=/^true\/(.*)/,Le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,je={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};je.optgroup=je.option,je.tbody=je.tfoot=je.colgroup=je.caption=je.thead,je.th=je.td,Q.extend({clone:function(t,e,n){var i,r,o,a,s=t.cloneNode(!0),u=Q.contains(t.ownerDocument,t);if(!(G.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Q.isXMLDoc(t)))for(a=v(s),o=v(t),i=0,r=o.length;r>i;i++)y(o[i],a[i]);if(e)if(n)for(o=o||v(t),a=a||v(s),i=0,r=o.length;r>i;i++)m(o[i],a[i]);else m(t,s);return a=v(s,"script"),a.length>0&&g(a,!u&&v(t,"script")),s},buildFragment:function(t,e,n,i){for(var r,o,a,s,u,l,c=e.createDocumentFragment(),f=[],h=0,d=t.length;d>h;h++)if(r=t[h],r||0===r)if("object"===Q.type(r))Q.merge(f,r.nodeType?[r]:r);else if(De.test(r)){for(o=o||c.appendChild(e.createElement("div")),a=(Ae.exec(r)||["",""])[1].toLowerCase(),s=je[a]||je._default,o.innerHTML=s[1]+r.replace(Me,"<$1></$2>")+s[2],l=s[0];l--;)o=o.lastChild;Q.merge(f,o.childNodes),o=c.firstChild,o.textContent=""}else f.push(e.createTextNode(r));for(c.textContent="",h=0;r=f[h++];)if((!i||-1===Q.inArray(r,i))&&(u=Q.contains(r.ownerDocument,r),o=v(c.appendChild(r),"script"),u&&g(o),n))for(l=0;r=o[l++];)Pe.test(r.type||"")&&n.push(r);return c},cleanData:function(t){for(var e,n,i,r,o=Q.event.special,a=0;void 0!==(n=t[a]);a++){if(Q.acceptData(n)&&(r=n[ve.expando],r&&(e=ve.cache[r]))){if(e.events)for(i in e.events)o[i]?Q.event.remove(n,i):Q.removeEvent(n,i,e.handle);ve.cache[r]&&delete ve.cache[r]}delete ye.cache[n[ye.expando]]}}}),Q.fn.extend({text:function(t){return me(this,function(t){return void 0===t?Q.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?Q.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||Q.cleanData(v(n)),n.parentNode&&(e&&Q.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Q.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return Q.clone(this,t,e)})},html:function(t){return me(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ie.test(t)&&!je[(Ae.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Me,"<$1></$2>");try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(Q.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,Q.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=W.apply([],t);var n,i,r,o,a,s,u=0,l=this.length,c=this,f=l-1,h=t[0],g=Q.isFunction(h);if(g||l>1&&"string"==typeof h&&!G.checkClone&&Ne.test(h))return this.each(function(n){var i=c.eq(n);g&&(t[0]=h.call(this,n,i.html())),i.domManip(t,e)});if(l&&(n=Q.buildFragment(t,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(r=Q.map(v(n,"script"),d),o=r.length;l>u;u++)a=n,u!==f&&(a=Q.clone(a,!0,!0),o&&Q.merge(r,v(a,"script"))),e.call(this[u],a,u);if(o)for(s=r[r.length-1].ownerDocument,Q.map(r,p),u=0;o>u;u++)a=r[u],Pe.test(a.type||"")&&!ve.access(a,"globalEval")&&Q.contains(s,a)&&(a.src?Q._evalUrl&&Q._evalUrl(a.src):Q.globalEval(a.textContent.replace(Le,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Q.fn[t]=function(t){for(var n,i=[],r=Q(t),o=r.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),Q(r[a])[e](n),B.apply(i,n.get());return this.pushStack(i)}});var Fe,He={},ze=/^margin/,qe=new RegExp("^("+_e+")(?!px)[a-z%]+$","i"),Ue=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",r.appendChild(o);var e=t.getComputedStyle(a,null);n="1%"!==e.top,i="4px"===e.width,r.removeChild(o)}var n,i,r=Z.documentElement,o=Z.createElement("div"),a=Z.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",G.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),t.getComputedStyle&&Q.extend(G,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==i&&e(),i},reliableMarginRight:function(){var e,n=a.appendChild(Z.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",r.appendChild(o),e=!parseFloat(t.getComputedStyle(n,null).marginRight),r.removeChild(o),a.removeChild(n),e}}))}(),Q.swap=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=a[o];return r};var We=/^(none|table(?!-c[ea]).+)/,Be=new RegExp("^("+_e+")(.*)$","i"),Ve=new RegExp("^([+-])=("+_e+")","i"),Ye={position:"absolute",visibility:"hidden",display:"block"},Xe={letterSpacing:"0",fontWeight:"400"},Ke=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=_(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=Q.camelCase(e),u=t.style;return e=Q.cssProps[s]||(Q.cssProps[s]=$(u,s)),a=Q.cssHooks[e]||Q.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:u[e]:(o=typeof n,"string"===o&&(r=Ve.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(Q.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||Q.cssNumber[s]||(n+="px"),G.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(u[e]=n)),void 0)}},css:function(t,e,n,i){var r,o,a,s=Q.camelCase(e);return e=Q.cssProps[s]||(Q.cssProps[s]=$(t.style,s)),a=Q.cssHooks[e]||Q.cssHooks[s],a&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=_(t,e,i)),"normal"===r&&e in Xe&&(r=Xe[e]),""===n||n?(o=parseFloat(r),n===!0||Q.isNumeric(o)?o||0:r):r}}),Q.each(["height","width"],function(t,e){Q.cssHooks[e]={get:function(t,n,i){return n?We.test(Q.css(t,"display"))&&0===t.offsetWidth?Q.swap(t,Ye,function(){return k(t,e,i)}):k(t,e,i):void 0},set:function(t,n,i){var r=i&&Ue(t);return C(t,n,i?E(t,e,i,"border-box"===Q.css(t,"boxSizing",!1,r),r):0)}}}),Q.cssHooks.marginRight=x(G.reliableMarginRight,function(t,e){return e?Q.swap(t,{display:"inline-block"},_,[t,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(t,e){Q.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+xe[i]+e]=o[i]||o[i-2]||o[0];return r}},ze.test(t)||(Q.cssHooks[t+e].set=C)}),Q.fn.extend({css:function(t,e){return me(this,function(t,e,n){var i,r,o={},a=0;if(Q.isArray(e)){for(i=Ue(t),r=e.length;r>a;a++)o[e[a]]=Q.css(t,e[a],!1,i);return o}return void 0!==n?Q.style(t,e,n):Q.css(t,e)},t,e,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){$e(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=T,T.prototype={constructor:T,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(Q.cssNumber[n]?"":"px")},cur:function(){var t=T.propHooks[this.prop];return t&&t.get?t.get(this):T.propHooks._default.get(this)},run:function(t){var e,n=T.propHooks[this.prop];return this.pos=e=this.options.duration?Q.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):T.propHooks._default.set(this),this}},T.prototype.init.prototype=T.prototype,T.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Q.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Q.fx.step[t.prop]?Q.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Q.cssProps[t.prop]]||Q.cssHooks[t.prop])?Q.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},T.propHooks.scrollTop=T.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Q.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Q.fx=T.prototype.init,Q.fx.step={};var Ge,Ze,Je=/^(?:toggle|show|hide)$/,Qe=new RegExp("^(?:([+-])=|)("+_e+")([a-z%]*)$","i"),tn=/queueHooks$/,en=[D],nn={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=Qe.exec(e),o=r&&r[3]||(Q.cssNumber[t]?"":"px"),a=(Q.cssNumber[t]||"px"!==o&&+i)&&Qe.exec(Q.css(n.elem,t)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+i||1;do s=s||".5",a/=s,Q.style(n.elem,t,a+o);while(s!==(s=n.cur()/i)&&1!==s&&--u)}return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};Q.Animation=Q.extend(N,{tweener:function(t,e){Q.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],nn[n]=nn[n]||[],nn[n].unshift(e)},prefilter:function(t,e){e?en.unshift(t):en.push(t)}}),Q.speed=function(t,e,n){var i=t&&"object"==typeof t?Q.extend({},t):{complete:n||!n&&e||Q.isFunction(t)&&t,duration:t,easing:n&&e||e&&!Q.isFunction(e)&&e};return i.duration=Q.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Q.fx.speeds?Q.fx.speeds[i.duration]:Q.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Q.isFunction(i.old)&&i.old.call(this),i.queue&&Q.dequeue(this,i.queue)},i},Q.fn.extend({fadeTo:function(t,e,n,i){return this.filter($e).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=Q.isEmptyObject(t),o=Q.speed(e,n,i),a=function(){var e=N(this,Q.extend({},t),o);(r||ve.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=Q.timers,a=ve.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&tn.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));(e||!n)&&Q.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ve.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=Q.timers,a=i?i.length:0;for(n.finish=!0,Q.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;a>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),Q.each(["toggle","show","hide"],function(t,e){var n=Q.fn[e];Q.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(M(e,!0),t,i,r)}}),Q.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Q.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),Q.timers=[],Q.fx.tick=function(){var t,e=0,n=Q.timers;for(Ge=Q.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||Q.fx.stop(),Ge=void 0},Q.fx.timer=function(t){Q.timers.push(t),t()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Ze||(Ze=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Ze),Ze=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(t,e){return t=Q.fx?Q.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t=Z.createElement("input"),e=Z.createElement("select"),n=e.appendChild(Z.createElement("option"));t.type="checkbox",G.checkOn=""!==t.value,G.optSelected=n.selected,e.disabled=!0,G.optDisabled=!n.disabled,t=Z.createElement("input"),t.value="t",t.type="radio",G.radioValue="t"===t.value}();var rn,on,an=Q.expr.attrHandle;Q.fn.extend({attr:function(t,e){return me(this,Q.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Q.removeAttr(this,t)})}}),Q.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===Ee?Q.prop(t,e,n):(1===o&&Q.isXMLDoc(t)||(e=e.toLowerCase(),i=Q.attrHooks[e]||(Q.expr.match.bool.test(e)?on:rn)),void 0===n?i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=Q.find.attr(t,e),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):void Q.removeAttr(t,e))},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(de);if(o&&1===t.nodeType)for(;n=o[r++];)i=Q.propFix[n]||n,Q.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!G.radioValue&&"radio"===e&&Q.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),on={set:function(t,e,n){return e===!1?Q.removeAttr(t,n):t.setAttribute(n,n),n}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(t,e){var n=an[e]||Q.find.attr;an[e]=function(t,e,i){var r,o;return i||(o=an[e],an[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,an[e]=o),r}});var sn=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(t,e){return me(this,Q.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Q.propFix[t]||t]})}}),Q.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var i,r,o,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return o=1!==a||!Q.isXMLDoc(t),o&&(e=Q.propFix[e]||e,r=Q.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||sn.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),G.optSelected||(Q.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var un=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(t){var e,n,i,r,o,a,s="string"==typeof t&&t,u=0,l=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).addClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(de)||[];l>u;u++)if(n=this[u],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):" ")){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=Q.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,i,r,o,a,s=0===arguments.length||"string"==typeof t&&t,u=0,l=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).removeClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(de)||[];l>u;u++)if(n=this[u],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):"")){for(o=0;r=e[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");a=t?Q.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(Q.isFunction(t)?function(n){Q(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,i=0,r=Q(this),o=t.match(de)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(n===Ee||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||t===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(un," ").indexOf(e)>=0)return!0;return!1}});var ln=/\r/g;Q.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=Q.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,Q(this).val()):t,null==r?r="":"number"==typeof r?r+="":Q.isArray(r)&&(r=Q.map(r,function(t){return null==t?"":t+""})),e=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=Q.valHooks[r.type]||Q.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(ln,""):null==n?"":n)}}}),Q.extend({valHooks:{option:{get:function(t){var e=Q.find.attr(t,"value");return null!=e?e:Q.trim(Q.text(t))}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,a=o?null:[],s=o?r+1:i.length,u=0>r?s:o?r:0;s>u;u++)if(n=i[u],!(!n.selected&&u!==r||(G.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Q.nodeName(n.parentNode,"optgroup"))){if(e=Q(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=Q.makeArray(e),a=r.length;a--;)i=r[a],(i.selected=Q.inArray(i.value,o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(t,e){return Q.isArray(e)?t.checked=Q.inArray(Q(t).val(),e)>=0:void 0}},G.checkOn||(Q.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Q.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),Q.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var cn=Q.now(),fn=/\?/;Q.parseJSON=function(t){return JSON.parse(t+"")},Q.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(i){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&Q.error("Invalid XML: "+t),e};var hn=/#.*$/,dn=/([?&])_=[^&]*/,pn=/^(.*?):[ \t]*([^\r\n]*)$/gm,gn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,mn=/^(?:GET|HEAD)$/,vn=/^\/\//,yn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,bn={},wn={},_n="*/".concat("*"),xn=t.location.href,$n=yn.exec(xn.toLowerCase())||[];Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xn,type:"GET",isLocal:gn.test($n[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_n,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?L(L(t,Q.ajaxSettings),e):L(Q.ajaxSettings,t)},ajaxPrefilter:P(bn),ajaxTransport:P(wn),ajax:function(t,e){function n(t,e,n,a){var u,c,v,y,w,x=e;2!==b&&(b=2,s&&clearTimeout(s),i=void 0,o=a||"",_.readyState=t>0?4:0,u=t>=200&&300>t||304===t,n&&(y=j(f,_,n)),y=F(f,y,_,u),u?(f.ifModified&&(w=_.getResponseHeader("Last-Modified"),w&&(Q.lastModified[r]=w),w=_.getResponseHeader("etag"),w&&(Q.etag[r]=w)),204===t||"HEAD"===f.type?x="nocontent":304===t?x="notmodified":(x=y.state,c=y.data,v=y.error,u=!v)):(v=x,(t||!x)&&(x="error",0>t&&(t=0))),_.status=t,_.statusText=(e||x)+"",u?p.resolveWith(h,[c,x,_]):p.rejectWith(h,[_,x,v]),_.statusCode(m),m=void 0,l&&d.trigger(u?"ajaxSuccess":"ajaxError",[_,f,u?c:v]),g.fireWith(h,[_,x]),l&&(d.trigger("ajaxComplete",[_,f]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,a,s,u,l,c,f=Q.ajaxSetup({},e),h=f.context||f,d=f.context&&(h.nodeType||h.jquery)?Q(h):Q.event,p=Q.Deferred(),g=Q.Callbacks("once memory"),m=f.statusCode||{},v={},y={},b=0,w="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!a)for(a={};e=pn.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=y[n]=y[n]||t,v[t]=e),this},overrideMimeType:function(t){return b||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)m[e]=[m[e],t[e]];else _.always(t[_.status]);return this},abort:function(t){var e=t||w;return i&&i.abort(e),n(0,e),this}};if(p.promise(_).complete=g.add,_.success=_.done,_.error=_.fail,f.url=((t||f.url||xn)+"").replace(hn,"").replace(vn,$n[1]+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=Q.trim(f.dataType||"*").toLowerCase().match(de)||[""],null==f.crossDomain&&(u=yn.exec(f.url.toLowerCase()),f.crossDomain=!(!u||u[1]===$n[1]&&u[2]===$n[2]&&(u[3]||("http:"===u[1]?"80":"443"))===($n[3]||("http:"===$n[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=Q.param(f.data,f.traditional)),R(bn,f,e,_),2===b)return _;l=Q.event&&f.global,l&&0===Q.active++&&Q.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!mn.test(f.type),r=f.url,f.hasContent||(f.data&&(r=f.url+=(fn.test(r)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=dn.test(r)?r.replace(dn,"$1_="+cn++):r+(fn.test(r)?"&":"?")+"_="+cn++)),f.ifModified&&(Q.lastModified[r]&&_.setRequestHeader("If-Modified-Since",Q.lastModified[r]),Q.etag[r]&&_.setRequestHeader("If-None-Match",Q.etag[r])),(f.data&&f.hasContent&&f.contentType!==!1||e.contentType)&&_.setRequestHeader("Content-Type",f.contentType),_.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+_n+"; q=0.01":""):f.accepts["*"]);for(c in f.headers)_.setRequestHeader(c,f.headers[c]);if(f.beforeSend&&(f.beforeSend.call(h,_,f)===!1||2===b))return _.abort();w="abort";for(c in{success:1,error:1,complete:1})_[c](f[c]);if(i=R(wn,f,e,_)){_.readyState=1,l&&d.trigger("ajaxSend",[_,f]),f.async&&f.timeout>0&&(s=setTimeout(function(){_.abort("timeout")},f.timeout));try{b=1,i.send(v,n)}catch(x){if(!(2>b))throw x;n(-1,x)}}else n(-1,"No Transport");return _},getJSON:function(t,e,n){return Q.get(t,e,n,"json")},getScript:function(t,e){return Q.get(t,void 0,e,"script")}}),Q.each(["get","post"],function(t,e){Q[e]=function(t,n,i,r){return Q.isFunction(n)&&(r=r||i,i=n,n=void 0),Q.ajax({url:t,type:e,dataType:r,data:n,success:i})}}),Q._evalUrl=function(t){return Q.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Q.fn.extend({wrapAll:function(t){var e;return Q.isFunction(t)?this.each(function(e){Q(this).wrapAll(t.call(this,e))}):(this[0]&&(e=Q(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return this.each(Q.isFunction(t)?function(e){Q(this).wrapInner(t.call(this,e))}:function(){var e=Q(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=Q.isFunction(t);return this.each(function(n){Q(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Q.expr.filters.visible=function(t){return!Q.expr.filters.hidden(t)};var Cn=/%20/g,En=/\[\]$/,kn=/\r?\n/g,Sn=/^(?:submit|button|image|reset|file)$/i,Tn=/^(?:input|select|textarea|keygen)/i;Q.param=function(t,e){var n,i=[],r=function(t,e){e=Q.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(t)||t.jquery&&!Q.isPlainObject(t))Q.each(t,function(){r(this.name,this.value)});else for(n in t)H(n,t[n],e,r);
return i.join("&").replace(Cn,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Q.prop(this,"elements");return t?Q.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Q(this).is(":disabled")&&Tn.test(this.nodeName)&&!Sn.test(t)&&(this.checked||!Ce.test(t))}).map(function(t,e){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(t){return{name:e.name,value:t.replace(kn,"\r\n")}}):{name:e.name,value:n.replace(kn,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var On=0,Mn={},An={0:200,1223:204},Dn=Q.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Mn)Mn[t]()}),G.cors=!!Dn&&"withCredentials"in Dn,G.ajax=Dn=!!Dn,Q.ajaxTransport(function(t){var e;return G.cors||Dn&&!t.crossDomain?{send:function(n,i){var r,o=t.xhr(),a=++On;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)o[r]=t.xhrFields[r];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)o.setRequestHeader(r,n[r]);e=function(t){return function(){e&&(delete Mn[a],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?i(o.status,o.statusText):i(An[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=Mn[a]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(s){if(e)throw s}},abort:function(){e&&e()}}:void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Q.globalEval(t),t}}}),Q.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Q.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=Q("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),Z.head.appendChild(e[0])},abort:function(){n&&n()}}}});var In=[],Nn=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=In.pop()||Q.expando+"_"+cn++;return this[t]=!0,t}}),Q.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,a,s=e.jsonp!==!1&&(Nn.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Nn.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=Q.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Nn,"$1"+r):e.jsonp!==!1&&(e.url+=(fn.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||Q.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){a=arguments},i.always(function(){t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,In.push(r)),a&&Q.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),Q.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||Z;var i=ae.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=Q.buildFragment([t],e,r),r&&r.length&&Q(r).remove(),Q.merge([],i.childNodes))};var Pn=Q.fn.load;Q.fn.load=function(t,e,n){if("string"!=typeof t&&Pn)return Pn.apply(this,arguments);var i,r,o,a=this,s=t.indexOf(" ");return s>=0&&(i=Q.trim(t.slice(s)),t=t.slice(0,s)),Q.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&Q.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?Q("<div>").append(Q.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){a.each(n,o||[t.responseText,e,t])}),this},Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Q.fn[e]=function(t){return this.on(e,t)}}),Q.expr.filters.animated=function(t){return Q.grep(Q.timers,function(e){return t===e.elem}).length};var Rn=t.document.documentElement;Q.offset={setOffset:function(t,e,n){var i,r,o,a,s,u,l,c=Q.css(t,"position"),f=Q(t),h={};"static"===c&&(t.style.position="relative"),s=f.offset(),o=Q.css(t,"top"),u=Q.css(t,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(i=f.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(u)||0),Q.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+r),"using"in e?e.using.call(t,h):f.css(h)}},Q.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Q.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;if(o)return e=o.documentElement,Q.contains(e,i)?(typeof i.getBoundingClientRect!==Ee&&(r=i.getBoundingClientRect()),n=z(o),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===Q.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Q.nodeName(t[0],"html")||(i=t.offset()),i.top+=Q.css(t[0],"borderTopWidth",!0),i.left+=Q.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-Q.css(n,"marginTop",!0),left:e.left-i.left-Q.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Rn;t&&!Q.nodeName(t,"html")&&"static"===Q.css(t,"position");)t=t.offsetParent;return t||Rn})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i="pageYOffset"===n;Q.fn[e]=function(r){return me(this,function(e,r,o){var a=z(e);return void 0===o?a?a[n]:e[r]:void(a?a.scrollTo(i?t.pageXOffset:o,i?o:t.pageYOffset):e[r]=o)},e,r,arguments.length,null)}}),Q.each(["top","left"],function(t,e){Q.cssHooks[e]=x(G.pixelPosition,function(t,n){return n?(n=_(t,e),qe.test(n)?Q(t).position()[e]+"px":n):void 0})}),Q.each({Height:"height",Width:"width"},function(t,e){Q.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){Q.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||r===!0?"margin":"border");return me(this,function(e,n,i){var r;return Q.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?Q.css(e,n,a):Q.style(e,n,i,a)},e,o?i:void 0,o,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var Ln=t.jQuery,jn=t.$;return Q.noConflict=function(e){return t.$===Q&&(t.$=jn),e&&t.jQuery===Q&&(t.jQuery=Ln),Q},typeof e===Ee&&(t.jQuery=t.$=Q),Q}),/**
 * @license AngularJS v1.3.16
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function i(t,e){return e=e||Error,function(){var n,i,r=arguments[0],o="["+(t?t+":":"")+r+"] ",a=arguments[1],s=arguments;for(n=o+a.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1);return e+2<s.length?he(s[e+2]):t}),n=n+"\nhttp://errors.angularjs.org/1.3.16/"+(t?t+"/":"")+r,i=2;i<arguments.length;i++)n=n+(2==i?"?":"&")+"p"+(i-2)+"="+encodeURIComponent(he(arguments[i]));return new e(n)}}function r(t){if(null==t||E(t))return!1;var e="length"in Object(t)&&t.length;return t.nodeType===br&&e?!0:w(t)||hr(t)||0===e||"number"==typeof e&&e>0&&e-1 in t}function o(t,e,n){var i,a;if(t)if($(t))for(i in t)"prototype"==i||"length"==i||"name"==i||t.hasOwnProperty&&!t.hasOwnProperty(i)||e.call(n,t[i],i,t);else if(hr(t)||r(t)){var s="object"!=typeof t;for(i=0,a=t.length;a>i;i++)(s||i in t)&&e.call(n,t[i],i,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t);return t}function a(t){return Object.keys(t).sort()}function s(t,e,n){for(var i=a(t),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r]);return i}function u(t){return function(e,n){t(n,e)}}function l(){return++cr}function c(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function f(t){for(var e=t.$$hashKey,n=1,i=arguments.length;i>n;n++){var r=arguments[n];if(r)for(var o=Object.keys(r),a=0,s=o.length;s>a;a++){var u=o[a];t[u]=r[u]}}return c(t,e),t}function h(t){return parseInt(t,10)}function d(t,e){return f(Object.create(t),e)}function p(){}function g(t){return t}function m(t){return function(){return t}}function v(t){return"undefined"==typeof t}function y(t){return"undefined"!=typeof t}function b(t){return null!==t&&"object"==typeof t}function w(t){return"string"==typeof t}function _(t){return"number"==typeof t}function x(t){return"[object Date]"===sr.call(t)}function $(t){return"function"==typeof t}function C(t){return"[object RegExp]"===sr.call(t)}function E(t){return t&&t.window===t}function k(t){return t&&t.$evalAsync&&t.$watch}function S(t){return"[object File]"===sr.call(t)}function T(t){return"[object FormData]"===sr.call(t)}function O(t){return"[object Blob]"===sr.call(t)}function M(t){return"boolean"==typeof t}function A(t){return t&&$(t.then)}function D(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function I(t){var e,n={},i=t.split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}function N(t){return Ki(t.nodeName||t[0]&&t[0].nodeName)}function P(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),e}function R(t,e,n,i){if(E(t)||k(t))throw ur("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(e){if(t===e)throw ur("cpi","Can't copy! Source and destination are identical.");if(n=n||[],i=i||[],b(t)){var r=n.indexOf(t);if(-1!==r)return i[r];n.push(t),i.push(e)}var a;if(hr(t)){e.length=0;for(var s=0;s<t.length;s++)a=R(t[s],null,n,i),b(t[s])&&(n.push(t[s]),i.push(a)),e.push(a)}else{var u=e.$$hashKey;hr(e)?e.length=0:o(e,function(t,n){delete e[n]});for(var l in t)t.hasOwnProperty(l)&&(a=R(t[l],null,n,i),b(t[l])&&(n.push(t[l]),i.push(a)),e[l]=a);c(e,u)}}else if(e=t,t)if(hr(t))e=R(t,[],n,i);else if(x(t))e=new Date(t.getTime());else if(C(t))e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),e.lastIndex=t.lastIndex;else if(b(t)){var f=Object.create(Object.getPrototypeOf(t));e=R(t,f,n,i)}return e}function L(t,e){if(hr(t)){e=e||[];for(var n=0,i=t.length;i>n;n++)e[n]=t[n]}else if(b(t)){e=e||{};for(var r in t)("$"!==r.charAt(0)||"$"!==r.charAt(1))&&(e[r]=t[r])}return e||t}function j(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var i,r,o,a=typeof t,s=typeof e;if(a==s&&"object"==a){if(!hr(t)){if(x(t))return x(e)?j(t.getTime(),e.getTime()):!1;if(C(t))return C(e)?t.toString()==e.toString():!1;if(k(t)||k(e)||E(t)||E(e)||hr(e)||x(e)||C(e))return!1;o={};for(r in t)if("$"!==r.charAt(0)&&!$(t[r])){if(!j(t[r],e[r]))return!1;o[r]=!0}for(r in e)if(!o.hasOwnProperty(r)&&"$"!==r.charAt(0)&&e[r]!==n&&!$(e[r]))return!1;return!0}if(!hr(e))return!1;if((i=t.length)==e.length){for(r=0;i>r;r++)if(!j(t[r],e[r]))return!1;return!0}}return!1}function F(t,e,n){return t.concat(rr.call(e,n))}function H(t,e){return rr.call(t,e||0)}function z(t,e){var n=arguments.length>2?H(arguments,2):[];return!$(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,F(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function q(t,i){var r=i;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=n:E(i)?r="$WINDOW":i&&e===i?r="$DOCUMENT":k(i)&&(r="$SCOPE"),r}function U(t,e){return"undefined"==typeof t?n:(_(e)||(e=e?2:null),JSON.stringify(t,q,e))}function W(t){return w(t)?JSON.parse(t):t}function B(t){t=er(t).clone();try{t.empty()}catch(e){}var n=er("<div>").append(t).html();try{return t[0].nodeType===_r?Ki(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+Ki(e)})}catch(e){return Ki(n)}}function V(t){try{return decodeURIComponent(t)}catch(e){}}function Y(t){var e,n,i={};return o((t||"").split("&"),function(t){if(t&&(e=t.replace(/\+/g,"%20").split("="),n=V(e[0]),y(n))){var r=y(e[1])?V(e[1]):!0;Gi.call(i,n)?hr(i[n])?i[n].push(r):i[n]=[i[n],r]:i[n]=r}}),i}function X(t){var e=[];return o(t,function(t,n){hr(t)?o(t,function(t){e.push(G(n,!0)+(t===!0?"":"="+G(t,!0)))}):e.push(G(n,!0)+(t===!0?"":"="+G(t,!0)))}),e.length?e.join("&"):""}function K(t){return G(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function G(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function Z(t,e){var n,i,r=mr.length;for(t=er(t),i=0;r>i;++i)if(n=mr[i]+e,w(n=t.attr(n)))return n;return null}function J(t,e){var n,i,r={};o(mr,function(e){var r=e+"app";!n&&t.hasAttribute&&t.hasAttribute(r)&&(n=t,i=t.getAttribute(r))}),o(mr,function(e){var r,o=e+"app";!n&&(r=t.querySelector("["+o.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(o))}),n&&(r.strictDi=null!==Z(n,"strict-di"),e(n,i?[i]:[],r))}function Q(n,i,r){b(r)||(r={});var a={strictDi:!1};r=f(a,r);var s=function(){if(n=er(n),n.injector()){var t=n[0]===e?"document":B(n);throw ur("btstrpd","App Already Bootstrapped with this Element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}i=i||[],i.unshift(["$provide",function(t){t.value("$rootElement",n)}]),r.debugInfoEnabled&&i.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),i.unshift("ng");var o=We(i,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),o},u=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return t&&u.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(u,"")),t&&!l.test(t.name)?s():(t.name=t.name.replace(l,""),lr.resumeBootstrap=function(t){return o(t,function(t){i.push(t)}),s()},void($(lr.resumeDeferredBootstrap)&&lr.resumeDeferredBootstrap()))}function te(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function ee(t){var e=lr.element(t).injector();if(!e)throw ur("test","no injector found for element argument to getTestability");return e.get("$$testability")}function ne(t,e){return e=e||"_",t.replace(vr,function(t,n){return(n?e:"")+t.toLowerCase()})}function ie(){var e;yr||(nr=t.jQuery,nr&&nr.fn.on?(er=nr,f(nr.fn,{scope:Fr.scope,isolateScope:Fr.isolateScope,controller:Fr.controller,injector:Fr.injector,inheritedData:Fr.inheritedData}),e=nr.cleanData,nr.cleanData=function(t){var n;if(fr)fr=!1;else for(var i,r=0;null!=(i=t[r]);r++)n=nr._data(i,"events"),n&&n.$destroy&&nr(i).triggerHandler("$destroy");e(t)}):er=we,lr.element=er,yr=!0)}function re(t,e,n){if(!t)throw ur("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function oe(t,e,n){return n&&hr(t)&&(t=t[t.length-1]),re($(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function ae(t,e){if("hasOwnProperty"===t)throw ur("badname","hasOwnProperty is not a valid {0} name",e)}function se(t,e,n){if(!e)return t;for(var i,r=e.split("."),o=t,a=r.length,s=0;a>s;s++)i=r[s],t&&(t=(o=t)[i]);return!n&&$(t)?z(o,t):t}function ue(t){var e=t[0],n=t[t.length-1],i=[e];do{if(e=e.nextSibling,!e)break;i.push(e)}while(e!==n);return er(i)}function le(){return Object.create(null)}function ce(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=i("$injector"),r=i("ng"),o=e(t,"angular",Object);return o.$$minErr=o.$$minErr||i,e(o,"module",function(){var t={};return function(i,o,a){var s=function(t,e){if("hasOwnProperty"===t)throw r("badname","hasOwnProperty is not a valid {0} name",e)};return s(i,"module"),o&&t.hasOwnProperty(i)&&(t[i]=null),e(t,i,function(){function t(t,n,i,r){return r||(r=e),function(){return r[i||"push"]([t,n,arguments]),l}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var e=[],r=[],s=[],u=t("$injector","invoke","push",r),l={_invokeQueue:e,_configBlocks:r,_runBlocks:s,requires:o,name:i,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:u,run:function(t){return s.push(t),this}};return a&&u(a),l})}})}function fe(t){var e=[];return JSON.stringify(t,function(t,n){if(n=q(t,n),b(n)){if(e.indexOf(n)>=0)return"<<already seen>>";e.push(n)}return n})}function he(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?fe(t):t}function de(e){f(e,{bootstrap:Q,copy:R,extend:f,equals:j,element:er,forEach:o,injector:We,noop:p,bind:z,toJson:U,fromJson:W,identity:g,isUndefined:v,isDefined:y,isString:w,isFunction:$,isObject:b,isNumber:_,isElement:D,isArray:hr,version:Er,isDate:x,lowercase:Ki,uppercase:Zi,callbacks:{counter:0},getTestability:ee,$$minErr:i,$$csp:gr,reloadWithDebugInfo:te}),ir=ce(t);try{ir("ngLocale")}catch(n){ir("ngLocale",[]).provider("$locale",vn)}ir("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Kn}),t.provider("$compile",Ze).directive({a:Do,input:Ko,textarea:Ko,form:Lo,script:ja,select:za,style:Ua,option:qa,ngBind:Jo,ngBindHtml:ta,ngBindTemplate:Qo,ngClass:na,ngClassEven:ra,ngClassOdd:ia,ngCloak:oa,ngController:aa,ngForm:jo,ngHide:Da,ngIf:la,ngInclude:ca,ngInit:ha,ngNonBindable:ka,ngPluralize:Sa,ngRepeat:Ta,ngShow:Aa,ngStyle:Ia,ngSwitch:Na,ngSwitchWhen:Pa,ngSwitchDefault:Ra,ngOptions:Ha,ngTransclude:La,ngModel:$a,ngList:da,ngChange:ea,pattern:Ba,ngPattern:Ba,required:Wa,ngRequired:Wa,minlength:Ya,ngMinlength:Ya,maxlength:Va,ngMaxlength:Va,ngValue:Zo,ngModelOptions:Ea}).directive({ngInclude:fa}).directive(Io).directive(sa),t.provider({$anchorScroll:Be,$animate:Kr,$browser:Xe,$cacheFactory:Ke,$controller:en,$document:nn,$exceptionHandler:rn,$filter:si,$interpolate:gn,$interval:mn,$http:fn,$httpBackend:dn,$location:An,$log:Dn,$parse:Un,$rootScope:Xn,$q:Wn,$$q:Bn,$sce:Qn,$sceDelegate:Jn,$sniffer:ti,$templateCache:Ge,$templateRequest:ei,$$testability:ni,$timeout:ii,$window:ai,$$rAF:Yn,$$asyncCallback:Ve,$$jqLite:Fe})}])}function pe(){return++Sr}function ge(t){return t.replace(Mr,function(t,e,n,i){return i?n.toUpperCase():n}).replace(Ar,"Moz$1")}function me(t){return!Pr.test(t)}function ve(t){var e=t.nodeType;return e===br||!e||e===$r}function ye(t,e){var n,i,r,a,s=e.createDocumentFragment(),u=[];if(me(t))u.push(e.createTextNode(t));else{for(n=n||s.appendChild(e.createElement("div")),i=(Rr.exec(t)||["",""])[1].toLowerCase(),r=jr[i]||jr._default,n.innerHTML=r[1]+t.replace(Lr,"<$1></$2>")+r[2],a=r[0];a--;)n=n.lastChild;u=F(u,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(u,function(t){s.appendChild(t)}),s}function be(t,n){n=n||e;var i;return(i=Nr.exec(t))?[n.createElement(i[1])]:(i=ye(t,n))?i.childNodes:[]}function we(t){if(t instanceof we)return t;var e;if(w(t)&&(t=dr(t),e=!0),!(this instanceof we)){if(e&&"<"!=t.charAt(0))throw Ir("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new we(t)}e?Me(this,be(t)):Me(this,t)}function _e(t){return t.cloneNode(!0)}function xe(t,e){if(e||Ce(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),i=0,r=n.length;r>i;i++)Ce(n[i])}function $e(t,e,n,i){if(y(i))throw Ir("offargs","jqLite#off() does not support the `selector` argument");var r=Ee(t),a=r&&r.events,s=r&&r.handle;if(s)if(e)o(e.split(" "),function(e){if(y(n)){var i=a[e];if(P(i||[],n),i&&i.length>0)return}Or(t,e,s),delete a[e]});else for(e in a)"$destroy"!==e&&Or(t,e,s),delete a[e]}function Ce(t,e){var i=t.ng339,r=i&&kr[i];if(r){if(e)return void delete r.data[e];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),$e(t)),delete kr[i],t.ng339=n}}function Ee(t,e){var i=t.ng339,r=i&&kr[i];return e&&!r&&(t.ng339=i=pe(),r=kr[i]={events:{},data:{},handle:n}),r}function ke(t,e,n){if(ve(t)){var i=y(n),r=!i&&e&&!b(e),o=!e,a=Ee(t,!r),s=a&&a.data;if(i)s[e]=n;else{if(o)return s;if(r)return s&&s[e];f(s,e)}}}function Se(t,e){return t.getAttribute?(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1:!1}function Te(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",dr((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+dr(e)+" "," ")))})}function Oe(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=dr(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",dr(n))}}function Me(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;n>i;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function Ae(t,e){return De(t,"$"+(e||"ngController")+"Controller")}function De(t,e,i){t.nodeType==$r&&(t=t.documentElement);for(var r=hr(e)?e:[e];t;){for(var o=0,a=r.length;a>o;o++)if((i=er.data(t,r[o]))!==n)return i;t=t.parentNode||t.nodeType===Cr&&t.host}}function Ie(t){for(xe(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Ne(t,e){e||xe(t);var n=t.parentNode;n&&n.removeChild(t)}function Pe(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):er(n).on("load",e)}function Re(t,e){var n=Hr[e.toLowerCase()];return n&&zr[N(t)]&&n}function Le(t,e){var n=t.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&qr[e]}function je(t,e){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=e[i||n.type],o=r?r.length:0;if(o){if(v(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},o>1&&(r=L(r));for(var s=0;o>s;s++)n.isImmediatePropagationStopped()||r[s].call(t,n)}};return n.elem=t,n}function Fe(){this.$get=function(){return f(we,{hasClass:function(t,e){return t.attr&&(t=t[0]),Se(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Oe(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Te(t,e)}})}}function He(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var i=typeof t;return n="function"==i||"object"==i&&null!==t?t.$$hashKey=i+":"+(e||l)():i+":"+t}function ze(t,e){if(e){var n=0;this.nextUid=function(){return++n}}o(t,this.put,this)}function qe(t){var e=t.toString().replace(Vr,""),n=e.match(Ur);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Ue(t,e,n){var i,r,a,s;if("function"==typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw w(n)&&n||(n=t.name||qe(t)),Yr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);r=t.toString().replace(Vr,""),a=r.match(Ur),o(a[1].split(Wr),function(t){t.replace(Br,function(t,e,n){i.push(n)})})}t.$inject=i}}else hr(t)?(s=t.length-1,oe(t[s],"fn"),i=t.slice(0,s)):oe(t,"fn",!0);return i}function We(t,e){function i(t){return function(e,n){return b(e)?void o(e,u(t)):t(e,n)}}function r(t,e){if(ae(t,"service"),($(e)||hr(e))&&(e=k.instantiate(e)),!e.$get)throw Yr("pget","Provider '{0}' must define $get factory method.",t);return E[t+_]=e}function a(t,e){return function(){var n=T.invoke(e,this);if(v(n))throw Yr("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function s(t,e,n){return r(t,{$get:n!==!1?a(t,e):e})}function l(t,e){return s(t,["$injector",function(t){return t.instantiate(e)}])}function c(t,e){return s(t,m(e),!1)}function f(t,e){ae(t,"constant"),E[t]=e,S[t]=e}function h(t,e){var n=k.get(t+_),i=n.$get;n.$get=function(){var t=T.invoke(i,n);return T.invoke(e,null,{$delegate:t})}}function d(t){var e,n=[];return o(t,function(t){function i(t){var e,n;for(e=0,n=t.length;n>e;e++){var i=t[e],r=k.get(i[0]);r[i[1]].apply(r,i[2])}}if(!C.get(t)){C.put(t,!0);try{w(t)?(e=ir(t),n=n.concat(d(e.requires)).concat(e._runBlocks),i(e._invokeQueue),i(e._configBlocks)):$(t)?n.push(k.invoke(t)):hr(t)?n.push(k.invoke(t)):oe(t,"module")}catch(r){throw hr(t)&&(t=t[t.length-1]),r.message&&r.stack&&-1==r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),Yr("modulerr","Failed to instantiate module {0} due to:\n{1}",t,r.stack||r.message||r)}}}),n}function g(t,n){function i(e,i){if(t.hasOwnProperty(e)){if(t[e]===y)throw Yr("cdep","Circular dependency found: {0}",e+" <- "+x.join(" <- "));return t[e]}try{return x.unshift(e),t[e]=y,t[e]=n(e,i)}catch(r){throw t[e]===y&&delete t[e],r}finally{x.shift()}}function r(t,n,r,o){"string"==typeof r&&(o=r,r=null);var a,s,u,l=[],c=We.$$annotate(t,e,o);for(s=0,a=c.length;a>s;s++){if(u=c[s],"string"!=typeof u)throw Yr("itkn","Incorrect injection token! Expected service name as string, got {0}",u);l.push(r&&r.hasOwnProperty(u)?r[u]:i(u,o))}return hr(t)&&(t=t[a]),t.apply(n,l)}function o(t,e,n){var i=Object.create((hr(t)?t[t.length-1]:t).prototype||null),o=r(t,i,e,n);return b(o)||$(o)?o:i}return{invoke:r,instantiate:o,get:i,annotate:We.$$annotate,has:function(e){return E.hasOwnProperty(e+_)||t.hasOwnProperty(e)}}}e=e===!0;var y={},_="Provider",x=[],C=new ze([],!0),E={$provide:{provider:i(r),factory:i(s),service:i(l),value:i(c),constant:i(f),decorator:h}},k=E.$injector=g(E,function(t,e){throw lr.isString(e)&&x.push(e),Yr("unpr","Unknown provider: {0}",x.join(" <- "))}),S={},T=S.$injector=g(S,function(t,e){var i=k.get(t+_,e);return T.invoke(i.$get,i,n,t)});return o(d(t),function(t){T.invoke(t||p)}),T}function Be(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,i){function r(t){var e=null;return Array.prototype.some.call(t,function(t){return"a"===N(t)?(e=t,!0):void 0}),e}function o(){var t=s.yOffset;if($(t))t=t();else if(D(t)){var n=t[0],i=e.getComputedStyle(n);t="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else _(t)||(t=0);return t}function a(t){if(t){t.scrollIntoView();var n=o();if(n){var i=t.getBoundingClientRect().top;e.scrollBy(0,i-n)}}else e.scrollTo(0,0)}function s(){var t,e=n.hash();e?(t=u.getElementById(e))?a(t):(t=r(u.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var u=e.document;return t&&i.$watch(function(){return n.hash()},function(t,e){(t!==e||""!==t)&&Pe(function(){i.$evalAsync(s)})}),s}]}function Ve(){this.$get=["$$rAF","$timeout",function(t,e){return t.supported?function(e){return t(e)}:function(t){return e(t,0,!1)}}]}function Ye(t,e,i,r){function a(t){try{t.apply(null,H(arguments,1))}finally{if(C--,0===C)for(;E.length;)try{E.pop()()}catch(e){i.error(e)}}}function s(t){var e=t.indexOf("#");return-1===e?"":t.substr(e+1)}function u(t,e){!function n(){o(S,function(t){t()}),k=e(n,t)}()}function l(){f(),h()}function c(){try{return b.state}catch(t){}}function f(){T=c(),T=v(T)?null:T,j(T,P)&&(T=P),P=T}function h(){(M!==g.url()||O!==T)&&(M=g.url(),O=T,o(I,function(t){t(g.url(),T)}))}function d(t){try{return decodeURIComponent(t)}catch(e){return t}}var g=this,m=e[0],y=t.location,b=t.history,_=t.setTimeout,x=t.clearTimeout,$={};g.isMock=!1;var C=0,E=[];g.$$completeOutstandingRequest=a,g.$$incOutstandingRequestCount=function(){C++},g.notifyWhenNoOutstandingRequests=function(t){o(S,function(t){t()}),0===C?t():E.push(t)};var k,S=[];g.addPollFn=function(t){return v(k)&&u(100,_),S.push(t),t};var T,O,M=y.href,A=e.find("base"),D=null;f(),O=T,g.url=function(e,n,i){if(v(i)&&(i=null),y!==t.location&&(y=t.location),b!==t.history&&(b=t.history),e){var o=O===i;if(M===e&&(!r.history||o))return g;var a=M&&xn(M)===xn(e);return M=e,O=i,!r.history||a&&o?(a||(D=e),n?y.replace(e):a?y.hash=s(e):y.href=e):(b[n?"replaceState":"pushState"](i,"",e),f(),O=T),g}return D||y.href.replace(/%27/g,"'")},g.state=function(){return T};var I=[],N=!1,P=null;g.onUrlChange=function(e){return N||(r.history&&er(t).on("popstate",l),er(t).on("hashchange",l),N=!0),I.push(e),e},g.$$checkUrlChange=h,g.baseHref=function(){var t=A.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var R={},L="",F=g.baseHref();g.cookies=function(t,e){var r,o,a,s,u;if(!t){if(m.cookie!==L)for(L=m.cookie,o=L.split("; "),R={},s=0;s<o.length;s++)a=o[s],u=a.indexOf("="),u>0&&(t=d(a.substring(0,u)),R[t]===n&&(R[t]=d(a.substring(u+1))));return R}e===n?m.cookie=encodeURIComponent(t)+"=;path="+F+";expires=Thu, 01 Jan 1970 00:00:00 GMT":w(e)&&(r=(m.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path="+F).length+1,r>4096&&i.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+r+" > 4096 bytes)!"))},g.defer=function(t,e){var n;return C++,n=_(function(){delete $[n],a(t)},e||0),$[n]=!0,n},g.defer.cancel=function(t){return $[t]?(delete $[t],x(t),a(p),!0):!1}}function Xe(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new Ye(t,i,e,n)}]}function Ke(){this.$get=function(){function t(t,n){function r(t){t!=h&&(d?d==t&&(d=t.n):d=t,o(t.n,t.p),o(t,h),h=t,h.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,s=f({},n,{id:t}),u={},l=n&&n.capacity||Number.MAX_VALUE,c={},h=null,d=null;return e[t]={put:function(t,e){if(l<Number.MAX_VALUE){var n=c[t]||(c[t]={key:t});r(n)}if(!v(e))return t in u||a++,u[t]=e,a>l&&this.remove(d.key),e},get:function(t){if(l<Number.MAX_VALUE){var e=c[t];if(!e)return;r(e)}return u[t]},remove:function(t){if(l<Number.MAX_VALUE){var e=c[t];if(!e)return;e==h&&(h=e.p),e==d&&(d=e.n),o(e.n,e.p),delete c[t]}delete u[t],a--},removeAll:function(){u={},a=0,c={},h=d=null},destroy:function(){u=null,s=null,c=null,delete e[t]},info:function(){return f({},s,{size:a})}}}var e={};return t.info=function(){var t={};return o(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function Ge(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function Ze(t,i){function r(t,e){var n=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return o(t,function(t,r){var o=t.match(n);if(!o)throw Gr("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,r,t);i[r]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||r}}),i}function a(t){var e=t.charAt(0);if(!e||e!==Ki(e))throw Gr("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",t);return t}var s={},l="Directive",c=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,h=/(([\w\-]+)(?:\:([^;]+))?;?)/,v=I("ngSrc,ngSrcset,src,srcset"),_=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,x=/^(on[a-z]+|formaction)$/;this.directive=function E(e,n){return ae(e,"directive"),w(e)?(a(e),re(n,"directiveFactory"),s.hasOwnProperty(e)||(s[e]=[],t.factory(e+l,["$injector","$exceptionHandler",function(t,n){var i=[];return o(s[e],function(o,a){try{var s=t.invoke(o);$(s)?s={compile:m(s)}:!s.compile&&s.link&&(s.compile=m(s.link)),s.priority=s.priority||0,s.index=a,s.name=s.name||e,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA",b(s.scope)&&(s.$$isolateBindings=r(s.scope,s.name)),i.push(s)}catch(u){n(u)}}),i}])),s[e].push(n)):o(e,u(E)),this},this.aHrefSanitizationWhitelist=function(t){return y(t)?(i.aHrefSanitizationWhitelist(t),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(i.imgSrcSanitizationWhitelist(t),this):i.imgSrcSanitizationWhitelist()};var C=!0;this.debugInfoEnabled=function(t){return y(t)?(C=t,this):C},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(t,i,r,a,u,m,y,E,S,T,O){function M(t,e){try{t.addClass(e)}catch(n){}}function A(t,e,n,i,r){t instanceof er||(t=er(t)),o(t,function(e,n){e.nodeType==_r&&e.nodeValue.match(/\S+/)&&(t[n]=er(e).wrap("<span></span>").parent()[0])});var a=I(t,e,t,n,i,r);A.$$addScopeClass(t);var s=null;return function(e,n,i){re(e,"scope"),i=i||{};var r=i.parentBoundTranscludeFn,o=i.transcludeControllers,u=i.futureParentElement;r&&r.$$boundTransclude&&(r=r.$$boundTransclude),s||(s=D(u));var l;if(l="html"!==s?er(J(s,er("<div>").append(t).html())):n?Fr.clone.call(t):t,o)for(var c in o)l.data("$"+c+"Controller",o[c].instance);return A.$$addScopeInfo(l,e),n&&n(l,e),a&&a(e,l,l,r),l}}function D(t){var e=t&&t[0];return e&&"foreignobject"!==N(e)&&e.toString().match(/SVG/)?"svg":"html"}function I(t,e,i,r,o,a){function s(t,i,r,o){var a,s,u,l,c,f,h,d,m;if(p){var v=i.length;for(m=new Array(v),c=0;c<g.length;c+=3)h=g[c],m[h]=i[h]}else m=i;for(c=0,f=g.length;f>c;)u=m[g[c++]],a=g[c++],s=g[c++],a?(a.scope?(l=t.$new(),A.$$addScopeInfo(er(u),l)):l=t,d=a.transcludeOnThisElement?R(t,a.transclude,o,a.elementTranscludeOnThisElement):!a.templateOnThisElement&&o?o:!o&&e?R(t,e):null,a(s,l,u,r,d)):s&&s(t,u.childNodes,n,o)}for(var u,l,c,f,h,d,p,g=[],m=0;m<t.length;m++)u=new ae,l=L(t[m],[],u,0===m?r:n,o),c=l.length?q(l,t[m],u,e,i,null,[],[],a):null,c&&c.scope&&A.$$addScopeClass(u.$$element),h=c&&c.terminal||!(f=t[m].childNodes)||!f.length?null:I(f,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:e),(c||h)&&(g.push(m,c,h),d=!0,p=p||c),a=null;return d?s:null}function R(t,e,n){var i=function(i,r,o,a,s){return i||(i=t.$new(!1,s),i.$$transcluded=!0),e(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})};return i}function L(t,e,n,i,r){var o,a,s=t.nodeType,u=n.$attr;switch(s){case br:W(e,Je(N(t)),"E",i,r);for(var l,f,d,p,g,m,v=t.attributes,y=0,_=v&&v.length;_>y;y++){var x=!1,$=!1;l=v[y],f=l.name,g=dr(l.value),p=Je(f),(m=fe.test(p))&&(f=f.replace(Zr,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var C=p.replace(/(Start|End)$/,"");V(C)&&p===C+"Start"&&(x=f,$=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),d=Je(f.toLowerCase()),u[d]=f,(m||!n.hasOwnProperty(d))&&(n[d]=g,Re(t,d)&&(n[d]=!0)),te(t,e,g,d,m),W(e,d,"A",i,r,x,$)}if(a=t.className,b(a)&&(a=a.animVal),w(a)&&""!==a)for(;o=h.exec(a);)d=Je(o[2]),W(e,d,"C",i,r)&&(n[d]=dr(o[3])),a=a.substr(o.index+o[0].length);break;case _r:Z(e,t.nodeValue);break;case xr:try{o=c.exec(t.nodeValue),o&&(d=Je(o[1]),W(e,d,"M",i,r)&&(n[d]=dr(o[2])))}catch(E){}}return e.sort(K),e}function F(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw Gr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==br&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(r>0)}else i.push(t);return er(i)}function z(t,e,n){return function(i,r,o,a,s){return r=F(r[0],e,n),t(i,r,o,a,s)}}function q(t,a,s,l,c,f,h,d,p){function g(t,e,n,i){t&&(n&&(t=z(t,n,i)),t.require=E.require,t.directiveName=S,(N===E||E.$$isolateScope)&&(t=ie(t,{isolateScope:!0})),h.push(t)),e&&(n&&(e=z(e,n,i)),e.require=E.require,e.directiveName=S,(N===E||E.$$isolateScope)&&(e=ie(e,{isolateScope:!0})),d.push(e))}function v(t,e,n,i){var r,a,s="data",u=!1,l=n;if(w(e)){if(a=e.match(_),e=e.substring(a[0].length),a[3]&&(a[1]?a[3]=null:a[1]=a[3]),"^"===a[1]?s="inheritedData":"^^"===a[1]&&(s="inheritedData",l=n.parent()),"?"===a[2]&&(u=!0),r=null,i&&"data"===s&&(r=i[e])&&(r=r.instance),r=r||l[s]("$"+e+"Controller"),!r&&!u)throw Gr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",e,t);return r||null}return hr(e)&&(r=[],o(e,function(e){r.push(v(t,e,n,i))})),r}function y(t,e,r,l,c){function f(t,e,i){var r;return k(t)||(i=e,e=t,t=n),V&&(r=_),i||(i=V?$.parent():$),c(t,e,r,i,O)}var p,g,y,b,w,_,x,$,E;if(a===r?(E=s,$=s.$$element):($=er(r),E=new ae($,s)),N&&(w=e.$new(!0)),c&&(x=f,x.$$boundTransclude=c),I&&(C={},_={},o(I,function(t){var n,i={$scope:t===N||t.$$isolateScope?w:e,$element:$,$attrs:E,$transclude:x};b=t.controller,"@"==b&&(b=E[t.name]),n=m(b,i,!0,t.controllerAs),_[t.name]=n,V||$.data("$"+t.name+"Controller",n.instance),C[t.name]=n})),N){A.$$addScopeInfo($,w,!0,!(P&&(P===N||P===N.$$originalDirective))),A.$$addScopeClass($,!0);var S=C&&C[N.name],T=w;S&&S.identifier&&N.bindToController===!0&&(T=S.instance),o(w.$$isolateBindings=N.$$isolateBindings,function(t,n){var r,o,a,s,l=t.attrName,c=t.optional,f=t.mode;switch(f){case"@":E.$observe(l,function(t){T[n]=t}),E.$$observers[l].$$scope=e,E[l]&&(T[n]=i(E[l])(e));break;case"=":if(c&&!E[l])return;o=u(E[l]),s=o.literal?j:function(t,e){return t===e||t!==t&&e!==e},a=o.assign||function(){throw r=T[n]=o(e),Gr("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",E[l],N.name)},r=T[n]=o(e);var h=function(t){return s(t,T[n])||(s(t,r)?a(e,t=T[n]):T[n]=t),r=t};h.$stateful=!0;var d;d=t.collection?e.$watchCollection(E[l],h):e.$watch(u(E[l],h),null,o.literal),w.$on("$destroy",d);break;case"&":o=u(E[l]),T[n]=function(t){return o(e,t)}}})}for(C&&(o(C,function(t){t()}),C=null),p=0,g=h.length;g>p;p++)y=h[p],oe(y,y.isolateScope?w:e,$,E,y.require&&v(y.directiveName,y.require,$,_),x);var O=e;for(N&&(N.template||null===N.templateUrl)&&(O=w),t&&t(O,r.childNodes,n,c),p=d.length-1;p>=0;p--)y=d[p],oe(y,y.isolateScope?w:e,$,E,y.require&&v(y.directiveName,y.require,$,_),x)}p=p||{};for(var x,C,E,S,T,O,M,D=-Number.MAX_VALUE,I=p.controllerDirectives,N=p.newIsolateScopeDirective,P=p.templateDirective,R=p.nonTlbTranscludeDirective,q=!1,W=!1,V=p.hasElementTranscludeDirective,K=s.$$element=er(a),Z=f,Q=l,te=0,ne=t.length;ne>te;te++){E=t[te];var re=E.$$start,se=E.$$end;if(re&&(K=F(a,re,se)),T=n,D>E.priority)break;if((M=E.scope)&&(E.templateUrl||(b(M)?(G("new/isolated scope",N||x,E,K),N=E):G("new/isolated scope",N,E,K)),x=x||E),S=E.name,!E.templateUrl&&E.controller&&(M=E.controller,I=I||{},G("'"+S+"' controller",I[S],E,K),I[S]=E),(M=E.transclude)&&(q=!0,E.$$tlb||(G("transclusion",R,E,K),R=E),"element"==M?(V=!0,D=E.priority,T=K,K=s.$$element=er(e.createComment(" "+S+": "+s[S]+" ")),a=K[0],ee(c,H(T),a),Q=A(T,l,D,Z&&Z.name,{nonTlbTranscludeDirective:R})):(T=er(_e(a)).contents(),K.empty(),Q=A(T,l))),E.template)if(W=!0,G("template",P,E,K),P=E,M=$(E.template)?E.template(K,s):E.template,M=ce(M),E.replace){if(Z=E,T=me(M)?[]:tn(J(E.templateNamespace,dr(M))),a=T[0],1!=T.length||a.nodeType!==br)throw Gr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",S,"");ee(c,K,a);var ue={$attr:{}},le=L(a,[],ue),fe=t.splice(te+1,t.length-(te+1));N&&U(le),t=t.concat(le).concat(fe),Y(s,ue),ne=t.length}else K.html(M);if(E.templateUrl)W=!0,G("template",P,E,K),P=E,E.replace&&(Z=E),y=X(t.splice(te,t.length-te),K,s,c,q&&Q,h,d,{controllerDirectives:I,newIsolateScopeDirective:N,templateDirective:P,nonTlbTranscludeDirective:R}),ne=t.length;else if(E.compile)try{O=E.compile(K,s,Q),$(O)?g(null,O,re,se):O&&g(O.pre,O.post,re,se)}catch(he){r(he,B(K))}E.terminal&&(y.terminal=!0,D=Math.max(D,E.priority))}return y.scope=x&&x.scope===!0,y.transcludeOnThisElement=q,y.elementTranscludeOnThisElement=V,y.templateOnThisElement=W,y.transclude=Q,p.hasElementTranscludeDirective=V,y}function U(t){for(var e=0,n=t.length;n>e;e++)t[e]=d(t[e],{$$isolateScope:!0})}function W(e,i,o,a,u,c,f){if(i===u)return null;
var h=null;if(s.hasOwnProperty(i))for(var p,g=t.get(i+l),m=0,v=g.length;v>m;m++)try{p=g[m],(a===n||a>p.priority)&&-1!=p.restrict.indexOf(o)&&(c&&(p=d(p,{$$start:c,$$end:f})),e.push(p),h=p)}catch(y){r(y)}return h}function V(e){if(s.hasOwnProperty(e))for(var n,i=t.get(e+l),r=0,o=i.length;o>r;r++)if(n=i[r],n.multiElement)return!0;return!1}function Y(t,e){var n=e.$attr,i=t.$attr,r=t.$$element;o(t,function(i,r){"$"!=r.charAt(0)&&(e[r]&&e[r]!==i&&(i+=("style"===r?";":" ")+e[r]),t.$set(r,i,!0,n[r]))}),o(e,function(e,o){"class"==o?(M(r,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==o?(r.attr("style",r.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==o.charAt(0)||t.hasOwnProperty(o)||(t[o]=e,i[o]=n[o])})}function X(t,e,n,i,r,s,u,l){var c,f,h=[],p=e[0],g=t.shift(),m=d(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=$(g.templateUrl)?g.templateUrl(e,n):g.templateUrl,y=g.templateNamespace;return e.empty(),a(S.getTrustedResourceUrl(v)).then(function(a){var d,w,_,x;if(a=ce(a),g.replace){if(_=me(a)?[]:tn(J(y,dr(a))),d=_[0],1!=_.length||d.nodeType!==br)throw Gr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,v);w={$attr:{}},ee(i,e,d);var $=L(d,[],w);b(g.scope)&&U($),t=$.concat(t),Y(n,w)}else d=p,e.html(a);for(t.unshift(m),c=q(t,d,n,r,e,g,s,u,l),o(i,function(t,n){t==d&&(i[n]=e[0])}),f=I(e[0].childNodes,r);h.length;){var C=h.shift(),E=h.shift(),k=h.shift(),S=h.shift(),T=e[0];if(!C.$$destroyed){if(E!==p){var O=E.className;l.hasElementTranscludeDirective&&g.replace||(T=_e(d)),ee(k,er(E),T),M(er(T),O)}x=c.transcludeOnThisElement?R(C,c.transclude,S):S,c(f,C,T,i,x)}}h=null}),function(t,e,n,i,r){var o=r;e.$$destroyed||(h?h.push(e,n,i,o):(c.transcludeOnThisElement&&(o=R(e,c.transclude,r)),c(f,e,n,i,o)))}}function K(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function G(t,e,n,i){if(e)throw Gr("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",e.name,n.name,t,B(i))}function Z(t,e){var n=i(e,!0);n&&t.push({priority:0,compile:function(t){var e=t.parent(),i=!!e.length;return i&&A.$$addBindingClass(e),function(t,e){var r=e.parent();i||A.$$addBindingClass(r),A.$$addBindingInfo(r,n.expressions),t.$watch(n,function(t){e[0].nodeValue=t})}}})}function J(t,n){switch(t=Ki(t||"html")){case"svg":case"math":var i=e.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function Q(t,e){if("srcdoc"==e)return S.HTML;var n=N(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?S.RESOURCE_URL:void 0}function te(t,e,n,r,o){var a=Q(t,r);o=v[r]||o;var s=i(n,!0,a,o);if(s){if("multiple"===r&&"select"===N(t))throw Gr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",B(t));e.push({priority:100,compile:function(){return{pre:function(t,e,u){var l=u.$$observers||(u.$$observers={});if(x.test(r))throw Gr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=u[r];c!==n&&(s=c&&i(c,!0,a,o),n=c),s&&(u[r]=s(t),(l[r]||(l[r]=[])).$$inter=!0,(u.$$observers&&u.$$observers[r].$$scope||t).$watch(s,function(t,e){"class"===r&&t!=e?u.$updateClass(t,e):u.$set(r,t)}))}}}})}}function ee(t,n,i){var r,o,a=n[0],s=n.length,u=a.parentNode;if(t)for(r=0,o=t.length;o>r;r++)if(t[r]==a){t[r++]=i;for(var l=r,c=l+s-1,f=t.length;f>l;l++,c++)f>c?t[l]=t[c]:delete t[l];t.length-=s-1,t.context===a&&(t.context=i);break}u&&u.replaceChild(i,a);var h=e.createDocumentFragment();h.appendChild(a),er(i).data(er(a).data()),nr?(fr=!0,nr.cleanData([a])):delete er.cache[a[er.expando]];for(var d=1,p=n.length;p>d;d++){var g=n[d];er(g).remove(),h.appendChild(g),delete n[d]}n[0]=i,n.length=1}function ie(t,e){return f(function(){return t.apply(null,arguments)},t,e)}function oe(t,e,n,i,o,a){try{t(e,n,i,o,a)}catch(s){r(s,B(n))}}var ae=function(t,e){if(e){var n,i,r,o=Object.keys(e);for(n=0,i=o.length;i>n;n++)r=o[n],this[r]=e[r]}else this.$attr={};this.$$element=t};ae.prototype={$normalize:Je,$addClass:function(t){t&&t.length>0&&T.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&T.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=Qe(t,e);n&&n.length&&T.addClass(this.$$element,n);var i=Qe(e,t);i&&i.length&&T.removeClass(this.$$element,i)},$set:function(t,e,i,a){var s,u=this.$$element[0],l=Re(u,t),c=Le(u,t),f=t;if(l?(this.$$element.prop(t,e),a=l):c&&(this[c]=e,f=c),this[t]=e,a?this.$attr[t]=a:(a=this.$attr[t],a||(this.$attr[t]=a=ne(t,"-"))),s=N(this.$$element),"a"===s&&"href"===t||"img"===s&&"src"===t)this[t]=e=O(e,"src"===t);else if("img"===s&&"srcset"===t){for(var h="",d=dr(e),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,g=/\s/.test(d)?p:/(,)/,m=d.split(g),v=Math.floor(m.length/2),y=0;v>y;y++){var b=2*y;h+=O(dr(m[b]),!0),h+=" "+dr(m[b+1])}var w=dr(m[2*y]).split(/\s/);h+=O(dr(w[0]),!0),2===w.length&&(h+=" "+dr(w[1])),this[t]=e=h}i!==!1&&(null===e||e===n?this.$$element.removeAttr(a):this.$$element.attr(a,e));var _=this.$$observers;_&&o(_[f],function(t){try{t(e)}catch(n){r(n)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=le()),r=i[t]||(i[t]=[]);return r.push(e),y.$evalAsync(function(){!r.$$inter&&n.hasOwnProperty(t)&&e(n[t])}),function(){P(r,e)}}};var se=i.startSymbol(),ue=i.endSymbol(),ce="{{"==se||"}}"==ue?g:function(t){return t.replace(/\{\{/g,se).replace(/}}/g,ue)},fe=/^ngAttr[A-Z]/;return A.$$addBindingInfo=C?function(t,e){var n=t.data("$binding")||[];hr(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:p,A.$$addBindingClass=C?function(t){M(t,"ng-binding")}:p,A.$$addScopeInfo=C?function(t,e,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(r,e)}:p,A.$$addScopeClass=C?function(t,e){M(t,e?"ng-isolate-scope":"ng-scope")}:p,A}]}function Je(t){return ge(t.replace(Zr,""))}function Qe(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/);t:for(var o=0;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a==r[s])continue t;n+=(n.length>0?" ":"")+a}return n}function tn(t){t=er(t);var e=t.length;if(1>=e)return t;for(;e--;){var n=t[e];n.nodeType===xr&&or.call(t,e,1)}return t}function en(){var t={},e=!1,r=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(e,n){ae(e,"controller"),b(e)?f(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(o,a){function s(t,e,n,r){if(!t||!b(t.$scope))throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,e);t.$scope[e]=n}return function(i,u,l,c){var h,d,p,g;if(l=l===!0,c&&w(c)&&(g=c),w(i)){if(d=i.match(r),!d)throw Jr("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",i);p=d[1],g=g||d[3],i=t.hasOwnProperty(p)?t[p]:se(u.$scope,p,!0)||(e?se(a,p,!0):n),oe(i,p,!0)}if(l){var m=(hr(i)?i[i.length-1]:i).prototype;return h=Object.create(m||null),g&&s(u,g,h,p||i.name),f(function(){return o.invoke(i,h,u,p),h},{instance:h,identifier:g})}return h=o.instantiate(i,u,p),g&&s(u,g,h,p||i.name),h}}]}function nn(){this.$get=["$window",function(t){return er(t.document)}]}function rn(){this.$get=["$log",function(t){return function(){t.error.apply(t,arguments)}}]}function on(t,e){if(w(t)){var n=t.replace(io,"").trim();if(n){var i=e("Content-Type");(i&&0===i.indexOf(Qr)||an(n))&&(t=W(n))}}return t}function an(t){var e=t.match(eo);return e&&no[e[0]].test(t)}function sn(t){var e,n,i,r=le();return t?(o(t.split("\n"),function(t){i=t.indexOf(":"),e=Ki(dr(t.substr(0,i))),n=dr(t.substr(i+1)),e&&(r[e]=r[e]?r[e]+", "+n:n)}),r):r}function un(t){var e=b(t)?t:n;return function(n){if(e||(e=sn(t)),n){var i=e[Ki(n)];return void 0===i&&(i=null),i}return e}}function ln(t,e,n,i){return $(i)?i(t,e,n):(o(i,function(i){t=i(t,e,n)}),t)}function cn(t){return t>=200&&300>t}function fn(){var t=this.defaults={transformResponse:[on],transformRequest:[function(t){return!b(t)||S(t)||O(t)||T(t)?t:U(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:L(to),put:L(to),patch:L(to)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},e=!1;this.useApplyAsync=function(t){return y(t)?(e=!!t,this):e};var r=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,u,l,c,h,d){function p(e){function r(t){var e=f({},t);return e.data=t.data?ln(t.data,t.headers,t.status,u.transformResponse):t.data,cn(t.status)?e:h.reject(e)}function a(t){var e,n={};return o(t,function(t,i){$(t)?(e=t(),null!=e&&(n[i]=e)):n[i]=t}),n}function s(e){var n,i,r,o=t.headers,s=f({},e.headers);o=f({},o.common,o[Ki(e.method)]);t:for(n in o){i=Ki(n);for(r in s)if(Ki(r)===i)continue t;s[n]=o[n]}return a(s)}if(!lr.isObject(e))throw i("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);var u=f({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse},e);u.headers=s(e),u.method=Zi(u.method);var l=function(e){var i=e.headers,a=ln(e.data,un(i),n,e.transformRequest);return v(a)&&o(i,function(t,e){"content-type"===Ki(e)&&delete i[e]}),v(e.withCredentials)&&!v(t.withCredentials)&&(e.withCredentials=t.withCredentials),_(e,a).then(r,r)},c=[l,n],d=h.when(u);for(o(k,function(t){(t.request||t.requestError)&&c.unshift(t.request,t.requestError),(t.response||t.responseError)&&c.push(t.response,t.responseError)});c.length;){var p=c.shift(),g=c.shift();d=d.then(p,g)}return d.success=function(t){return oe(t,"fn"),d.then(function(e){t(e.data,e.status,e.headers,u)}),d},d.error=function(t){return oe(t,"fn"),d.then(null,function(e){t(e.data,e.status,e.headers,u)}),d},d}function g(){o(arguments,function(t){p[t]=function(e,n){return p(f(n||{},{method:t,url:e}))}})}function m(){o(arguments,function(t){p[t]=function(e,n,i){return p(f(i||{},{method:t,url:e,data:n}))}})}function _(i,r){function o(t,n,i,r){function o(){s(n,t,i,r)}d&&(cn(t)?d.put(x,[t,n,sn(i),r]):d.remove(x)),e?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function s(t,e,n,r){e=Math.max(e,0),(cn(e)?m.resolve:m.reject)({data:t,status:e,headers:un(n),config:i,statusText:r})}function l(t){s(t.data,t.status,L(t.headers()),t.statusText)}function f(){var t=p.pendingRequests.indexOf(i);-1!==t&&p.pendingRequests.splice(t,1)}var d,g,m=h.defer(),w=m.promise,_=i.headers,x=C(i.url,i.params);if(p.pendingRequests.push(i),w.then(f,f),!i.cache&&!t.cache||i.cache===!1||"GET"!==i.method&&"JSONP"!==i.method||(d=b(i.cache)?i.cache:b(t.cache)?t.cache:E),d&&(g=d.get(x),y(g)?A(g)?g.then(l,l):hr(g)?s(g[1],g[0],L(g[2]),g[3]):s(g,200,{},"OK"):d.put(x,w)),v(g)){var $=oi(i.url)?u.cookies()[i.xsrfCookieName||t.xsrfCookieName]:n;$&&(_[i.xsrfHeaderName||t.xsrfHeaderName]=$),a(i.method,x,r,o,_,i.timeout,i.withCredentials,i.responseType)}return w}function C(t,e){if(!e)return t;var n=[];return s(e,function(t,e){null===t||v(t)||(hr(t)||(t=[t]),o(t,function(t){b(t)&&(t=x(t)?t.toISOString():U(t)),n.push(G(e)+"="+G(t))}))}),n.length>0&&(t+=(-1==t.indexOf("?")?"?":"&")+n.join("&")),t}var E=l("$http"),k=[];return o(r,function(t){k.unshift(w(t)?d.get(t):d.invoke(t))}),p.pendingRequests=[],g("get","delete","head","jsonp"),m("post","put","patch"),p.defaults=t,p}]}function hn(){return new t.XMLHttpRequest}function dn(){this.$get=["$browser","$window","$document",function(t,e,n){return pn(t,hn,t.defer,e.angular.callbacks,n[0])}]}function pn(t,e,i,r,a){function s(t,e,n){var i=a.createElement("script"),o=null;return i.type="text/javascript",i.src=t,i.async=!0,o=function(t){Or(i,"load",o),Or(i,"error",o),a.body.removeChild(i),i=null;var s=-1,u="unknown";t&&("load"!==t.type||r[e].called||(t={type:"error"}),u=t.type,s="error"===t.type?404:200),n&&n(s,u)},Tr(i,"load",o),Tr(i,"error",o),a.body.appendChild(i),o}return function(a,u,l,c,f,h,d,g){function m(){w&&w(),_&&_.abort()}function v(e,r,o,a,s){C!==n&&i.cancel(C),w=_=null,e(r,o,a,s),t.$$completeOutstandingRequest(p)}if(t.$$incOutstandingRequestCount(),u=u||t.url(),"jsonp"==Ki(a)){var b="_"+(r.counter++).toString(36);r[b]=function(t){r[b].data=t,r[b].called=!0};var w=s(u.replace("JSON_CALLBACK","angular.callbacks."+b),b,function(t,e){v(c,t,r[b].data,"",e),r[b]=p})}else{var _=e();_.open(a,u,!0),o(f,function(t,e){y(t)&&_.setRequestHeader(e,t)}),_.onload=function(){var t=_.statusText||"",e="response"in _?_.response:_.responseText,n=1223===_.status?204:_.status;0===n&&(n=e?200:"file"==ri(u).protocol?404:0),v(c,n,e,_.getAllResponseHeaders(),t)};var x=function(){v(c,-1,null,null,"")};if(_.onerror=x,_.onabort=x,d&&(_.withCredentials=!0),g)try{_.responseType=g}catch($){if("json"!==g)throw $}_.send(l||null)}if(h>0)var C=i(m,h);else A(h)&&h.then(m)}}function gn(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(t){return"\\\\\\"+t}function a(o,a,h,d){function p(n){return n.replace(l,t).replace(c,e)}function g(t){try{return t=O(t),d&&!y(t)?t:M(t)}catch(e){var n=ro("interr","Can't interpolate: {0}\n{1}",o,e.toString());i(n)}}d=!!d;for(var m,b,w,_=0,x=[],C=[],E=o.length,k=[],S=[];E>_;){if(-1==(m=o.indexOf(t,_))||-1==(b=o.indexOf(e,m+s))){_!==E&&k.push(p(o.substring(_)));break}_!==m&&k.push(p(o.substring(_,m))),w=o.substring(m+s,b),x.push(w),C.push(n(w,g)),_=b+u,S.push(k.length),k.push("")}if(h&&k.length>1)throw ro("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",o);if(!a||x.length){var T=function(t){for(var e=0,n=x.length;n>e;e++){if(d&&v(t[e]))return;k[S[e]]=t[e]}return k.join("")},O=function(t){return h?r.getTrusted(h,t):r.valueOf(t)},M=function(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=U(t)}return t};return f(function(t){var e=0,n=x.length,r=new Array(n);try{for(;n>e;e++)r[e]=C[e](t);return T(r)}catch(a){var s=ro("interr","Can't interpolate: {0}\n{1}",o,a.toString());i(s)}},{exp:o,expressions:x,$$watchDelegate:function(t,e,n){var i;return t.$watchGroup(C,function(n,r){var o=T(n);$(e)&&e.call(this,o,n!==r?i:o,t),i=o},n)}})}}var s=t.length,u=e.length,l=new RegExp(t.replace(/./g,o),"g"),c=new RegExp(e.replace(/./g,o),"g");return a.startSymbol=function(){return t},a.endSymbol=function(){return e},a}]}function mn(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,i){function r(r,a,s,u){var l=e.setInterval,c=e.clearInterval,f=0,h=y(u)&&!u,d=(h?i:n).defer(),p=d.promise;return s=y(s)?s:0,p.then(null,null,r),p.$$intervalId=l(function(){d.notify(f++),s>0&&f>=s&&(d.resolve(f),c(p.$$intervalId),delete o[p.$$intervalId]),h||t.$apply()},a),o[p.$$intervalId]=d,p}var o={};return r.cancel=function(t){return t&&t.$$intervalId in o?(o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0):!1},r}]}function vn(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(t){return 1===t?"one":"other"}}}}function yn(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=K(e[n]);return e.join("/")}function bn(t,e){var n=ri(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=h(n.port)||ao[n.protocol]||null}function wn(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var i=ri(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=Y(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function _n(t,e){return 0===e.indexOf(t)?e.substr(t.length):void 0}function xn(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function $n(t){return t.replace(/(#.+)|#$/,"$1")}function Cn(t){return t.substr(0,xn(t).lastIndexOf("/")+1)}function En(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function kn(t,e){this.$$html5=!0,e=e||"";var i=Cn(t);bn(t,this),this.$$parse=function(t){var e=_n(i,t);if(!w(e))throw so("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,i);wn(e,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=X(this.$$search),e=this.$$hash?"#"+K(this.$$hash):"";this.$$url=yn(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=i+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var a,s,u;return(a=_n(t,r))!==n?(s=a,u=(a=_n(e,a))!==n?i+(_n("/",a)||a):t+s):(a=_n(i,r))!==n?u=i+a:i==r+"/"&&(u=i),u&&this.$$parse(u),!!u}}function Sn(t,e){var n=Cn(t);bn(t,this),this.$$parse=function(i){function r(t,e,n){var i,r=/^\/[A-Z]:(\/.*)/;return 0===e.indexOf(n)&&(e=e.replace(n,"")),r.exec(e)?t:(i=r.exec(t),i?i[1]:t)}var o,a=_n(t,i)||_n(n,i);"#"===a.charAt(0)?(o=_n(e,a),v(o)&&(o=a)):o=this.$$html5?a:"",wn(o,this),this.$$path=r(this.$$path,o,t),this.$$compose()},this.$$compose=function(){var n=X(this.$$search),i=this.$$hash?"#"+K(this.$$hash):"";this.$$url=yn(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=t+(this.$$url?e+this.$$url:"")},this.$$parseLinkUrl=function(e){return xn(t)==xn(e)?(this.$$parse(e),!0):!1}}function Tn(t,e){this.$$html5=!0,Sn.apply(this,arguments);var n=Cn(t);this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a;return t==xn(i)?o=i:(a=_n(n,i))?o=t+e+a:n===i+"/"&&(o=n),o&&this.$$parse(o),!!o},this.$$compose=function(){var n=X(this.$$search),i=this.$$hash?"#"+K(this.$$hash):"";this.$$url=yn(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=t+e+this.$$url}}function On(t){return function(){return this[t]}}function Mn(t,e){return function(n){return v(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function An(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return y(e)?(t=e,this):t},this.html5Mode=function(t){return M(t)?(e.enabled=t,this):b(t)?(M(t.enabled)&&(e.enabled=t.enabled),M(t.requireBase)&&(e.requireBase=t.requireBase),M(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,a){function s(t,e,n){var r=l.url(),o=l.$$state;try{i.url(t,e,n),l.$$state=i.state()}catch(a){throw l.url(r),l.$$state=o,a}}function u(t,e){n.$broadcast("$locationChangeSuccess",l.absUrl(),t,l.$$state,e)}var l,c,f,h=i.baseHref(),d=i.url();if(e.enabled){if(!h&&e.requireBase)throw so("nobase","$location in HTML5 mode requires a <base> tag to be present!");f=En(d)+(h||"/"),c=r.history?kn:Tn}else f=xn(d),c=Sn;l=new c(f,"#"+t),l.$$parseLinkUrl(d,d),l.$$state=i.state();var p=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var r=er(t.target);"a"!==N(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var s=r.prop("href"),u=r.attr("href")||r.attr("xlink:href");b(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=ri(s.animVal).href),p.test(s)||!s||r.attr("target")||t.isDefaultPrevented()||l.$$parseLinkUrl(s,u)&&(t.preventDefault(),l.absUrl()!=i.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),$n(l.absUrl())!=$n(d)&&i.url(l.absUrl(),!0);var g=!0;return i.onUrlChange(function(t,e){n.$evalAsync(function(){var i,r=l.absUrl(),o=l.$$state;l.$$parse(t),l.$$state=e,i=n.$broadcast("$locationChangeStart",t,r,e,o).defaultPrevented,l.absUrl()===t&&(i?(l.$$parse(r),l.$$state=o,s(r,!1,o)):(g=!1,u(r,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){var t=$n(i.url()),e=$n(l.absUrl()),o=i.state(),a=l.$$replace,c=t!==e||l.$$html5&&r.history&&o!==l.$$state;(g||c)&&(g=!1,n.$evalAsync(function(){var e=l.absUrl(),i=n.$broadcast("$locationChangeStart",e,t,l.$$state,o).defaultPrevented;l.absUrl()===e&&(i?(l.$$parse(t),l.$$state=o):(c&&s(e,a,o===l.$$state?null:l.$$state),u(t,o)))})),l.$$replace=!1}),l}]}function Dn(){var t=!0,e=this;this.debugEnabled=function(e){return y(e)?(t=e,this):t},this.$get=["$window",function(n){function i(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function r(t){var e=n.console||{},r=e[t]||e.log||p,a=!1;try{a=!!r.apply}catch(s){}return a?function(){var t=[];return o(arguments,function(e){t.push(i(e))}),r.apply(e,t)}:function(t,e){r(t,null==e?"":e)}}return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function In(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw lo("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function Nn(t,e){if(t){if(t.constructor===t)throw lo("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw lo("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw lo("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw lo("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function Pn(t,e){if(t){if(t.constructor===t)throw lo("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===co||t===fo||t===ho)throw lo("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function Rn(t){return t.constant}function Ln(t,e,n,i,r){Nn(t,r),Nn(e,r);for(var o,a=n.split("."),s=0;a.length>1;s++){o=In(a.shift(),r);var u=0===s&&e&&e[o]||t[o];u||(u={},t[o]=u),t=Nn(u,r)}return o=In(a.shift(),r),Nn(t[o],r),t[o]=i,i}function jn(t){return"constructor"==t}function Fn(t,e,i,r,o,a,s){In(t,a),In(e,a),In(i,a),In(r,a),In(o,a);var u=function(t){return Nn(t,a)},l=s||jn(t)?u:g,c=s||jn(e)?u:g,f=s||jn(i)?u:g,h=s||jn(r)?u:g,d=s||jn(o)?u:g;return function(a,s){var u=s&&s.hasOwnProperty(t)?s:a;return null==u?u:(u=l(u[t]),e?null==u?n:(u=c(u[e]),i?null==u?n:(u=f(u[i]),r?null==u?n:(u=h(u[r]),o?null==u?n:u=d(u[o]):u):u):u):u)}}function Hn(t,e){return function(n,i){return t(n,i,Nn,e)}}function zn(t,e,i){var r=e.expensiveChecks,a=r?wo:bo,s=a[t];if(s)return s;var u=t.split("."),l=u.length;if(e.csp)s=6>l?Fn(u[0],u[1],u[2],u[3],u[4],i,r):function(t,e){var o,a=0;do o=Fn(u[a++],u[a++],u[a++],u[a++],u[a++],i,r)(t,e),e=n,t=o;while(l>a);return o};else{var c="";r&&(c+="s = eso(s, fe);\nl = eso(l, fe);\n");var f=r;o(u,function(t,e){In(t,i);var n=(e?"s":'((l&&l.hasOwnProperty("'+t+'"))?l:s)')+"."+t;(r||jn(t))&&(n="eso("+n+", fe)",f=!0),c+="if(s == null) return undefined;\ns="+n+";\n"}),c+="return s;";var h=new Function("s","l","eso","fe",c);h.toString=m(c),f&&(h=Hn(h,i)),s=h}return s.sharedGetter=!0,s.assign=function(e,n,i){return Ln(e,i,t,n,t)},a[t]=s,s}function qn(t){return $(t.valueOf)?t.valueOf():_o.call(t)}function Un(){var t=le(),e=le();this.$get=["$filter","$sniffer",function(n,i){function r(t){var e=t;return t.sharedGetter&&(e=function(e,n){return t(e,n)},e.literal=t.literal,e.constant=t.constant,e.assign=t.assign),e}function a(t,e){for(var n=0,i=t.length;i>n;n++){var r=t[n];r.constant||(r.inputs?a(r.inputs,e):-1===e.indexOf(r)&&e.push(r))}return e}function s(t,e){return null==t||null==e?t===e:"object"==typeof t&&(t=qn(t),"object"==typeof t)?!1:t===e||t!==t&&e!==e}function u(t,e,n,i){var r,o=i.$$inputs||(i.$$inputs=a(i.inputs,[]));if(1===o.length){var u=s;return o=o[0],t.$watch(function(t){var e=o(t);return s(e,u)||(r=i(t),u=e&&qn(e)),r},e,n)}for(var l=[],c=0,f=o.length;f>c;c++)l[c]=s;return t.$watch(function(t){for(var e=!1,n=0,a=o.length;a>n;n++){var u=o[n](t);(e||(e=!s(u,l[n])))&&(l[n]=u&&qn(u))}return e&&(r=i(t)),r},e,n)}function l(t,e,n,i){var r,o;return r=t.$watch(function(t){return i(t)},function(t,n,i){o=t,$(e)&&e.apply(this,arguments),y(t)&&i.$$postDigest(function(){y(o)&&r()})},n)}function c(t,e,n,i){function r(t){var e=!0;return o(t,function(t){y(t)||(e=!1)}),e}var a,s;return a=t.$watch(function(t){return i(t)},function(t,n,i){s=t,$(e)&&e.call(this,t,n,i),r(t)&&i.$$postDigest(function(){r(s)&&a()})},n)}function f(t,e,n,i){var r;return r=t.$watch(function(t){return i(t)},function(){$(e)&&e.apply(this,arguments),r()},n)}function h(t,e){if(!e)return t;var n=t.$$watchDelegate,i=n!==c&&n!==l,r=i?function(n,i){var r=t(n,i);return e(r,n,i)}:function(n,i){var r=t(n,i),o=e(r,n,i);return y(r)?o:r};return t.$$watchDelegate&&t.$$watchDelegate!==u?r.$$watchDelegate=t.$$watchDelegate:e.$stateful||(r.$$watchDelegate=u,r.inputs=[t]),r}var d={csp:i.csp,expensiveChecks:!1},g={csp:i.csp,expensiveChecks:!0};return function(i,o,a){var s,m,v;switch(typeof i){case"string":v=i=i.trim();var y=a?e:t;if(s=y[v],!s){":"===i.charAt(0)&&":"===i.charAt(1)&&(m=!0,i=i.substring(2));var b=a?g:d,w=new vo(b),_=new yo(w,n,b);s=_.parse(i),s.constant?s.$$watchDelegate=f:m?(s=r(s),s.$$watchDelegate=s.literal?c:l):s.inputs&&(s.$$watchDelegate=u),y[v]=s}return h(s,o);case"function":return h(i,o);default:return h(p,o)}}}]}function Wn(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return Vn(function(e){t.$evalAsync(e)},e)}]}function Bn(){this.$get=["$browser","$exceptionHandler",function(t,e){return Vn(function(e){t.defer(e)},e)}]}function Vn(t,e){function r(t,e,n){function i(e){return function(n){r||(r=!0,e.call(t,n))}}var r=!1;return[i(e),i(n)]}function a(){this.$$state={status:0}}function s(t,e){return function(n){e.call(t,n)}}function u(t){var i,r,o;o=t.pending,t.processScheduled=!1,t.pending=n;for(var a=0,s=o.length;s>a;++a){r=o[a][0],i=o[a][t.status];try{$(i)?r.resolve(i(t.value)):1===t.status?r.resolve(t.value):r.reject(t.value)}catch(u){r.reject(u),e(u)}}}function l(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){u(e)}))}function c(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function f(t){var e=new c,n=0,i=hr(t)?[]:{};return o(t,function(t,r){n++,v(t).then(function(t){i.hasOwnProperty(r)||(i[r]=t,--n||e.resolve(i))},function(t){i.hasOwnProperty(r)||e.reject(t)})}),0===n&&e.resolve(i),e.promise}var h=i("$q",TypeError),d=function(){return new c};a.prototype={then:function(t,e,n){var i=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),this.$$state.status>0&&l(this.$$state),i.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return m(e,!0,t)},function(e){return m(e,!1,t)},e)}},c.prototype={resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(h("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){var n,i;i=r(this,this.$$resolve,this.$$reject);try{(b(t)||$(t))&&(n=t&&t.then),$(n)?(this.promise.$$state.status=-1,n.call(t,i[0],i[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,l(this.promise.$$state))}catch(o){i[1](o),e(o)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,l(this.promise.$$state)},notify:function(n){var i=this.promise.$$state.pending;this.promise.$$state.status<=0&&i&&i.length&&t(function(){for(var t,r,o=0,a=i.length;a>o;o++){r=i[o][0],t=i[o][3];try{r.notify($(t)?t(n):n)}catch(s){e(s)}}})}};var p=function(t){var e=new c;return e.reject(t),e.promise},g=function(t,e){var n=new c;return e?n.resolve(t):n.reject(t),n.promise},m=function(t,e,n){var i=null;try{$(n)&&(i=n())}catch(r){return g(r,!1)}return A(i)?i.then(function(){return g(t,e)},function(t){return g(t,!1)}):g(t,e)},v=function(t,e,n,i){var r=new c;return r.resolve(t),r.promise.then(e,n,i)},y=function w(t){function e(t){i.resolve(t)}function n(t){i.reject(t)}if(!$(t))throw h("norslvr","Expected resolverFn, got '{0}'",t);if(!(this instanceof w))return new w(t);var i=new c;return t(e,n),i.promise};return y.defer=d,y.reject=p,y.when=v,y.all=f,y}function Yn(){this.$get=["$window","$timeout",function(t,e){function n(){for(var t=0;t<c.length;t++){var e=c[t];e&&(c[t]=null,e())}l=c.length=0}function i(t){var e=c.length;return l++,c.push(t),0===e&&(u=s(n)),function(){e>=0&&(c[e]=null,e=null,0===--l&&u&&(u(),u=null,c.length=0))}}var r=t.requestAnimationFrame||t.webkitRequestAnimationFrame,o=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,a=!!r,s=a?function(t){var e=r(t);return function(){o(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};i.supported=a;var u,l=0,c=[];return i}]}function Xn(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=l(),this.$$ChildScope=null}return e.prototype=t,e}var e=10,n=i("$rootScope"),a=null,s=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,u,c,f){function h(t){t.currentScope.$$destroyed=!0}function d(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function g(t){if(C.$$phase)throw n("inprog","{0} already in progress",C.$$phase);C.$$phase=t}function m(){C.$$phase=null}function y(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function w(){}function _(){for(;S.length;)try{S.shift()()}catch(t){u(t)}s=null}function x(){null===s&&(s=f.defer(function(){C.$apply(_)}))}d.prototype={constructor:d,$new:function(e,n){var i;return n=n||this,e?(i=new d,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(e||n!=this)&&i.$on("$destroy",h),i},$watch:function(t,e,n){var i=c(t);if(i.$$watchDelegate)return i.$$watchDelegate(this,e,n,i);var r=this,o=r.$$watchers,s={fn:e,last:w,get:i,exp:t,eq:!!n};return a=null,$(e)||(s.fn=p),o||(o=r.$$watchers=[]),o.unshift(s),function(){P(o,s),a=null}},$watchGroup:function(t,e){function n(){u=!1,l?(l=!1,e(r,r,s)):e(r,i,s)}var i=new Array(t.length),r=new Array(t.length),a=[],s=this,u=!1,l=!0;if(!t.length){var c=!0;return s.$evalAsync(function(){c&&e(r,r,s)}),function(){c=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){r[0]=t,i[0]=n,e(r,t===n?r:i,o)}):(o(t,function(t,e){var o=s.$watch(t,function(t,o){r[e]=t,i[e]=o,u||(u=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function n(t){o=t;var e,n,i,s,u;if(!v(o)){if(b(o))if(r(o)){a!==d&&(a=d,m=a.length=0,f++),e=o.length,m!==e&&(f++,a.length=m=e);for(var l=0;e>l;l++)u=a[l],s=o[l],i=u!==u&&s!==s,i||u===s||(f++,a[l]=s)}else{a!==p&&(a=p={},m=0,f++),e=0;for(n in o)o.hasOwnProperty(n)&&(e++,s=o[n],u=a[n],n in a?(i=u!==u&&s!==s,i||u===s||(f++,a[n]=s)):(m++,a[n]=s,f++));if(m>e){f++;for(n in a)o.hasOwnProperty(n)||(m--,delete a[n])}}else a!==o&&(a=o,f++);return f}}function i(){if(g?(g=!1,e(o,o,u)):e(o,s,u),l)if(b(o))if(r(o)){s=new Array(o.length);
for(var t=0;t<o.length;t++)s[t]=o[t]}else{s={};for(var n in o)Gi.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,u=this,l=e.length>1,f=0,h=c(t,n),d=[],p={},g=!0,m=0;return this.$watch(h,i)},$digest:function(){var t,i,r,o,l,c,h,d,p,v,y=e,b=this,x=[];g("$digest"),f.$$checkUrlChange(),this===C&&null!==s&&(f.defer.cancel(s),_()),a=null;do{for(c=!1,d=b;E.length;){try{v=E.shift(),v.scope.$eval(v.expression,v.locals)}catch(S){u(S)}a=null}t:do{if(o=d.$$watchers)for(l=o.length;l--;)try{if(t=o[l])if((i=t.get(d))===(r=t.last)||(t.eq?j(i,r):"number"==typeof i&&"number"==typeof r&&isNaN(i)&&isNaN(r))){if(t===a){c=!1;break t}}else c=!0,a=t,t.last=t.eq?R(i,null):i,t.fn(i,r===w?i:r,d),5>y&&(p=4-y,x[p]||(x[p]=[]),x[p].push({msg:$(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:i,oldVal:r}))}catch(S){u(S)}if(!(h=d.$$childHead||d!==b&&d.$$nextSibling))for(;d!==b&&!(h=d.$$nextSibling);)d=d.$parent}while(d=h);if((c||E.length)&&!y--)throw m(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,x)}while(c||E.length);for(m();k.length;)try{k.shift()()}catch(S){u(S)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==C){for(var e in this.$$listenerCount)y(this,this.$$listenerCount[e],e);t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=p,this.$on=this.$watch=this.$watchGroup=function(){return p},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(t,e){return c(t)(this,e)},$evalAsync:function(t,e){C.$$phase||E.length||f.defer(function(){E.length&&C.$digest()}),E.push({scope:this,expression:t,locals:e})},$$postDigest:function(t){k.push(t)},$apply:function(t){try{return g("$apply"),this.$eval(t)}catch(e){u(e)}finally{m();try{C.$digest()}catch(e){throw u(e),e}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&S.push(e),x()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var i=this;do i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(e);-1!==i&&(n[i]=null,y(r,1,t))}},$emit:function(t){var e,n,i,r=[],o=this,a=!1,s={name:t,targetScope:o,stopPropagation:function(){a=!0},preventDefault:function(){s.defaultPrevented=!0},defaultPrevented:!1},l=F([s],arguments,1);do{for(e=o.$$listeners[t]||r,s.currentScope=o,n=0,i=e.length;i>n;n++)if(e[n])try{e[n].apply(null,l)}catch(c){u(c)}else e.splice(n,1),n--,i--;if(a)return s.currentScope=null,s;o=o.$parent}while(o);return s.currentScope=null,s},$broadcast:function(t){var e=this,n=e,i=e,r={name:t,targetScope:e,preventDefault:function(){r.defaultPrevented=!0},defaultPrevented:!1};if(!e.$$listenerCount[t])return r;for(var o,a,s,l=F([r],arguments,1);n=i;){for(r.currentScope=n,o=n.$$listeners[t]||[],a=0,s=o.length;s>a;a++)if(o[a])try{o[a].apply(null,l)}catch(c){u(c)}else o.splice(a,1),a--,s--;if(!(i=n.$$listenerCount[t]&&n.$$childHead||n!==e&&n.$$nextSibling))for(;n!==e&&!(i=n.$$nextSibling);)n=n.$parent}return r.currentScope=null,r}};var C=new d,E=C.$$asyncQueue=[],k=C.$$postDigestQueue=[],S=C.$$applyAsyncQueue=[];return C}]}function Kn(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.$get=function(){return function(n,i){var r,o=i?e:t;return r=ri(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function Gn(t){if("self"===t)return t;if(w(t)){if(t.indexOf("***")>-1)throw xo("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=pr(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(C(t))return new RegExp("^"+t.source+"$");throw xo("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Zn(t){var e=[];return y(t)&&o(t,function(t){e.push(Gn(t))}),e}function Jn(){this.SCE_CONTEXTS=$o;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Zn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Zn(t)),e},this.$get=["$injector",function(i){function r(t,e){return"self"===t?oi(e):!!t.exec(e.href)}function o(n){var i,o,a=ri(n.toString()),s=!1;for(i=0,o=t.length;o>i;i++)if(r(t[i],a)){s=!0;break}if(s)for(i=0,o=e.length;o>i;i++)if(r(e[i],a)){s=!1;break}return s}function a(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function s(t,e){var i=h.hasOwnProperty(t)?h[t]:null;if(!i)throw xo("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||e===n||""===e)return e;if("string"!=typeof e)throw xo("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new i(e)}function u(t){return t instanceof f?t.$$unwrapTrustedValue():t}function l(t,e){if(null===e||e===n||""===e)return e;var i=h.hasOwnProperty(t)?h[t]:null;if(i&&e instanceof i)return e.$$unwrapTrustedValue();if(t===$o.RESOURCE_URL){if(o(e))return e;throw xo("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===$o.HTML)return c(e);throw xo("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(){throw xo("unsafe","Attempting to use an unsafe value in a safe context.")};i.has("$sanitize")&&(c=i.get("$sanitize"));var f=a(),h={};return h[$o.HTML]=a(f),h[$o.CSS]=a(f),h[$o.URL]=a(f),h[$o.JS]=a(f),h[$o.RESOURCE_URL]=a(h[$o.URL]),{trustAs:s,getTrusted:l,valueOf:u}}]}function Qn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>tr)throw xo("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=L($o);i.isEnabled=function(){return t},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,t||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=g),i.parseAs=function(t,n){var r=e(n);return r.literal&&r.constant?r:e(n,function(e){return i.getTrusted(t,e)})};var r=i.parseAs,a=i.getTrusted,s=i.trustAs;return o($o,function(t,e){var n=Ki(e);i[ge("parse_as_"+n)]=function(e){return r(t,e)},i[ge("get_trusted_"+n)]=function(e){return a(t,e)},i[ge("trust_as_"+n)]=function(e){return s(t,e)}}),i}]}function ti(){this.$get=["$window","$document",function(t,e){var n,i,r={},o=h((/android (\d+)/.exec(Ki((t.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,l=s.body&&s.body.style,c=!1,f=!1;if(l){for(var d in l)if(i=u.exec(d)){n=i[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),c=!!("transition"in l||n+"Transition"in l),f=!!("animation"in l||n+"Animation"in l),!o||c&&f||(c=w(s.body.style.webkitTransition),f=w(s.body.style.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>o||a),hasEvent:function(t){if("input"===t&&11>=tr)return!1;if(v(r[t])){var e=s.createElement("div");r[t]="on"+t in e}return r[t]},csp:gr(),vendorPrefix:n,transitions:c,animations:f,android:o}}]}function ei(){this.$get=["$templateCache","$http","$q",function(t,e,n){function i(r,o){function a(t){if(!o)throw Gr("tpload","Failed to load template: {0}",r);return n.reject(t)}i.totalPendingRequests++;var s=e.defaults&&e.defaults.transformResponse;hr(s)?s=s.filter(function(t){return t!==on}):s===on&&(s=null);var u={cache:t,transformResponse:s};return e.get(r,u)["finally"](function(){i.totalPendingRequests--}).then(function(t){return t.data},a)}return i.totalPendingRequests=0,i}]}function ni(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var i={};return i.findBindings=function(t,e,n){var i=t.getElementsByClassName("ng-binding"),r=[];return o(i,function(t){var i=lr.element(t).data("$binding");i&&o(i,function(i){if(n){var o=new RegExp("(^|\\s)"+pr(e)+"(\\s|\\||$)");o.test(i)&&r.push(t)}else-1!=i.indexOf(e)&&r.push(t)})}),r},i.findModels=function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=n?"=":"*=",a="["+i[r]+"model"+o+'"'+e+'"]',s=t.querySelectorAll(a);if(s.length)return s}},i.getLocation=function(){return n.url()},i.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},i.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},i}]}function ii(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,i,r){function o(o,s,u){var l,c=y(u)&&!u,f=(c?i:n).defer(),h=f.promise;return l=e.defer(function(){try{f.resolve(o())}catch(e){f.reject(e),r(e)}finally{delete a[h.$$timeoutId]}c||t.$apply()},s),h.$$timeoutId=l,a[l]=f,h}var a={};return o.cancel=function(t){return t&&t.$$timeoutId in a?(a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},o}]}function ri(t){var e=t;return tr&&(Co.setAttribute("href",e),e=Co.href),Co.setAttribute("href",e),{href:Co.href,protocol:Co.protocol?Co.protocol.replace(/:$/,""):"",host:Co.host,search:Co.search?Co.search.replace(/^\?/,""):"",hash:Co.hash?Co.hash.replace(/^#/,""):"",hostname:Co.hostname,port:Co.port,pathname:"/"===Co.pathname.charAt(0)?Co.pathname:"/"+Co.pathname}}function oi(t){var e=w(t)?ri(t):t;return e.protocol===Eo.protocol&&e.host===Eo.host}function ai(){this.$get=m(t)}function si(t){function e(i,r){if(b(i)){var a={};return o(i,function(t,n){a[n]=e(n,t)}),a}return t.factory(i+n,r)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",fi),e("date",Ci),e("filter",ui),e("json",Ei),e("limitTo",ki),e("lowercase",Mo),e("number",hi),e("orderBy",Si),e("uppercase",Ao)}function ui(){return function(t,e,n){if(!hr(t))return t;var i,r,o=null!==e?typeof e:"null";switch(o){case"function":i=e;break;case"boolean":case"null":case"number":case"string":r=!0;case"object":i=li(e,n,r);break;default:return t}return t.filter(i)}}function li(t,e,n){var i,r=b(t)&&"$"in t;return e===!0?e=j:$(e)||(e=function(t,e){return v(t)?!1:null===t||null===e?t===e:b(t)||b(e)?!1:(t=Ki(""+t),e=Ki(""+e),-1!==t.indexOf(e))}),i=function(i){return r&&!b(i)?ci(i,t.$,e,!1):ci(i,t,e,n)}}function ci(t,e,n,i,r){var o=null!==t?typeof t:"null",a=null!==e?typeof e:"null";if("string"===a&&"!"===e.charAt(0))return!ci(t,e.substring(1),n,i);if(hr(t))return t.some(function(t){return ci(t,e,n,i)});switch(o){case"object":var s;if(i){for(s in t)if("$"!==s.charAt(0)&&ci(t[s],e,n,!0))return!0;return r?!1:ci(t,e,n,!1)}if("object"===a){for(s in e){var u=e[s];if(!$(u)&&!v(u)){var l="$"===s,c=l?t:t[s];if(!ci(c,u,n,l,l))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function fi(t){var e=t.NUMBER_FORMATS;return function(t,n,i){return v(n)&&(n=e.CURRENCY_SYM),v(i)&&(i=e.PATTERNS[1].maxFrac),null==t?t:di(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function hi(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:di(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function di(t,e,n,i,r){if(!isFinite(t)||b(t))return"";var o=0>t;t=Math.abs(t);var a=t+"",s="",u=[],l=!1;if(-1!==a.indexOf("e")){var c=a.match(/([\d\.]+)e(-?)(\d+)/);c&&"-"==c[2]&&c[3]>r+1?t=0:(s=a,l=!0)}if(l)r>0&&1>t&&(s=t.toFixed(r),t=parseFloat(s));else{var f=(a.split(ko)[1]||"").length;v(r)&&(r=Math.min(Math.max(e.minFrac,f),e.maxFrac)),t=+(Math.round(+(t.toString()+"e"+r)).toString()+"e"+-r);var h=(""+t).split(ko),d=h[0];h=h[1]||"";var p,g=0,m=e.lgSize,y=e.gSize;if(d.length>=m+y)for(g=d.length-m,p=0;g>p;p++)(g-p)%y===0&&0!==p&&(s+=n),s+=d.charAt(p);for(p=g;p<d.length;p++)(d.length-p)%m===0&&0!==p&&(s+=n),s+=d.charAt(p);for(;h.length<r;)h+="0";r&&"0"!==r&&(s+=i+h.substr(0,r))}return 0===t&&(o=!1),u.push(o?e.negPre:e.posPre,s,o?e.negSuf:e.posSuf),u.join("")}function pi(t,e,n){var i="";for(0>t&&(i="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),i+t}function gi(t,e,n,i){return n=n||0,function(r){var o=r["get"+t]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),pi(o,e,i)}}function mi(t,e){return function(n,i){var r=n["get"+t](),o=Zi(e?"SHORT"+t:t);return i[o][r]}}function vi(t){var e=-1*t.getTimezoneOffset(),n=e>=0?"+":"";return n+=pi(Math[e>0?"floor":"ceil"](e/60),2)+pi(Math.abs(e%60),2)}function yi(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function bi(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function wi(t){return function(e){var n=yi(e.getFullYear()),i=bi(e),r=+i-+n,o=1+Math.round(r/6048e5);return pi(o,t)}}function _i(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function xi(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function $i(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function Ci(t){function e(t){var e;if(e=t.match(n)){var i=new Date(0),r=0,o=0,a=e[8]?i.setUTCFullYear:i.setFullYear,s=e[8]?i.setUTCHours:i.setHours;e[9]&&(r=h(e[9]+e[10]),o=h(e[9]+e[11])),a.call(i,h(e[1]),h(e[2])-1,h(e[3]));var u=h(e[4]||0)-r,l=h(e[5]||0)-o,c=h(e[6]||0),f=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(i,u,l,c,f),i}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var a,s,u="",l=[];if(i=i||"mediumDate",i=t.DATETIME_FORMATS[i]||i,w(n)&&(n=Oo.test(n)?h(n):e(n)),_(n)&&(n=new Date(n)),!x(n))return n;for(;i;)s=To.exec(i),s?(l=F(l,s,1),i=l.pop()):(l.push(i),i=null);return r&&"UTC"===r&&(n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+n.getTimezoneOffset())),o(l,function(e){a=So[e],u+=a?a(n,t.DATETIME_FORMATS):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function Ei(){return function(t,e){return v(e)&&(e=2),U(t,e)}}function ki(){return function(t,e){return _(t)&&(t=t.toString()),hr(t)||w(t)?(e=1/0===Math.abs(Number(e))?Number(e):h(e),e?e>0?t.slice(0,e):t.slice(e):w(t)?"":[]):t}}function Si(t){return function(e,n,i){function o(t,e){for(var i=0;i<n.length;i++){var r=n[i](t,e);if(0!==r)return r}return 0}function a(t,e){return e?function(e,n){return t(n,e)}:t}function s(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function u(t){return null===t?"null":"function"==typeof t.valueOf&&(t=t.valueOf(),s(t))?t:"function"==typeof t.toString&&(t=t.toString(),s(t))?t:""}function l(t,e){var n=typeof t,i=typeof e;return n===i&&"object"===n&&(t=u(t),e=u(e)),n===i?("string"===n&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e?0:e>t?-1:1):i>n?-1:1}return r(e)?(n=hr(n)?n:[n],0===n.length&&(n=["+"]),n=n.map(function(e){var n=!1,i=e||g;if(w(e)){if(("+"==e.charAt(0)||"-"==e.charAt(0))&&(n="-"==e.charAt(0),e=e.substring(1)),""===e)return a(l,n);if(i=t(e),i.constant){var r=i();return a(function(t,e){return l(t[r],e[r])},n)}}return a(function(t,e){return l(i(t),i(e))},n)}),rr.call(e).sort(a(o,i))):e}}function Ti(t){return $(t)&&(t={link:t}),t.restrict=t.restrict||"AC",m(t)}function Oi(t,e){t.$name=e}function Mi(t,e,i,r,a){var s=this,u=[],l=s.$$parentForm=t.parent().controller("form")||No;s.$error={},s.$$success={},s.$pending=n,s.$name=a(e.name||e.ngForm||"")(i),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,l.$addControl(s),s.$rollbackViewValue=function(){o(u,function(t){t.$rollbackViewValue()})},s.$commitViewValue=function(){o(u,function(t){t.$commitViewValue()})},s.$addControl=function(t){ae(t.$name,"input"),u.push(t),t.$name&&(s[t.$name]=t)},s.$$renameControl=function(t,e){var n=t.$name;s[n]===t&&delete s[n],s[e]=t,t.$name=e},s.$removeControl=function(t){t.$name&&s[t.$name]===t&&delete s[t.$name],o(s.$pending,function(e,n){s.$setValidity(n,null,t)}),o(s.$error,function(e,n){s.$setValidity(n,null,t)}),o(s.$$success,function(e,n){s.$setValidity(n,null,t)}),P(u,t)},Bi({ctrl:this,$element:t,set:function(t,e,n){var i=t[e];if(i){var r=i.indexOf(n);-1===r&&i.push(n)}else t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(P(i,n),0===i.length&&delete t[e])},parentForm:l,$animate:r}),s.$setDirty=function(){r.removeClass(t,ma),r.addClass(t,va),s.$dirty=!0,s.$pristine=!1,l.$setDirty()},s.$setPristine=function(){r.setClass(t,ma,va+" "+Po),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,o(u,function(t){t.$setPristine()})},s.$setUntouched=function(){o(u,function(t){t.$setUntouched()})},s.$setSubmitted=function(){r.addClass(t,Po),s.$submitted=!0,l.$setSubmitted()}}function Ai(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function Di(t,e,n,i,r,o){Ii(t,e,n,i,r,o),Ai(i)}function Ii(t,e,n,i,r,o){var a=Ki(e[0].type);if(!r.android){var s=!1;e.on("compositionstart",function(){s=!0}),e.on("compositionend",function(){s=!1,u()})}var u=function(t){if(l&&(o.defer.cancel(l),l=null),!s){var r=e.val(),u=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(r=dr(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,u)}};if(r.hasEvent("input"))e.on("input",u);else{var l,c=function(t,e,n){l||(l=o.defer(function(){l=null,e&&e.value===n||u(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||e>15&&19>e||e>=37&&40>=e||c(t,this,this.value)}),r.hasEvent("paste")&&e.on("paste cut",c)}e.on("change",u),i.$render=function(){e.val(i.$isEmpty(i.$viewValue)?"":i.$viewValue)}}function Ni(t,e){if(x(t))return t;if(w(t)){Bo.lastIndex=0;var n=Bo.exec(t);if(n){var i=+n[1],r=+n[2],o=0,a=0,s=0,u=0,l=yi(i),c=7*(r-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),u=e.getMilliseconds()),new Date(i,0,l.getDate()+c,o,a,s,u)}}return 0/0}function Pi(t,e){return function(n,i){var r,a;if(x(n))return n;if(w(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Fo.test(n))return new Date(n);if(t.lastIndex=0,r=t.exec(n))return r.shift(),a=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(r,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return 0/0}}function Ri(t,e,i,r){return function(o,a,s,u,l,c,f){function h(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function d(t){return y(t)?x(t)?t:i(t):n}Li(o,a,s,u),Ii(o,a,s,u,l,c);var p,g=u&&u.$options&&u.$options.timezone;if(u.$$parserName=t,u.$parsers.push(function(t){if(u.$isEmpty(t))return null;if(e.test(t)){var r=i(t,p);return"UTC"===g&&r.setMinutes(r.getMinutes()-r.getTimezoneOffset()),r}return n}),u.$formatters.push(function(t){if(t&&!x(t))throw _a("datefmt","Expected `{0}` to be a date",t);if(h(t)){if(p=t,p&&"UTC"===g){var e=6e4*p.getTimezoneOffset();p=new Date(p.getTime()+e)}return f("date")(t,r,g)}return p=null,""}),y(s.min)||s.ngMin){var m;u.$validators.min=function(t){return!h(t)||v(m)||i(t)>=m},s.$observe("min",function(t){m=d(t),u.$validate()})}if(y(s.max)||s.ngMax){var b;u.$validators.max=function(t){return!h(t)||v(b)||i(t)<=b},s.$observe("max",function(t){b=d(t),u.$validate()})}}}function Li(t,e,i,r){var o=e[0],a=r.$$hasNativeValidators=b(o.validity);a&&r.$parsers.push(function(t){var i=e.prop(Xi)||{};return i.badInput&&!i.typeMismatch?n:t})}function ji(t,e,i,r,o,a){if(Li(t,e,i,r),Ii(t,e,i,r,o,a),r.$$parserName="number",r.$parsers.push(function(t){return r.$isEmpty(t)?null:qo.test(t)?parseFloat(t):n}),r.$formatters.push(function(t){if(!r.$isEmpty(t)){if(!_(t))throw _a("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),y(i.min)||i.ngMin){var s;r.$validators.min=function(t){return r.$isEmpty(t)||v(s)||t>=s},i.$observe("min",function(t){y(t)&&!_(t)&&(t=parseFloat(t,10)),s=_(t)&&!isNaN(t)?t:n,r.$validate()})}if(y(i.max)||i.ngMax){var u;r.$validators.max=function(t){return r.$isEmpty(t)||v(u)||u>=t},i.$observe("max",function(t){y(t)&&!_(t)&&(t=parseFloat(t,10)),u=_(t)&&!isNaN(t)?t:n,r.$validate()})}}function Fi(t,e,n,i,r,o){Ii(t,e,n,i,r,o),Ai(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||Ho.test(n)}}function Hi(t,e,n,i,r,o){Ii(t,e,n,i,r,o),Ai(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||zo.test(n)}}function zi(t,e,n,i){v(n.name)&&e.attr("name",l());var r=function(t){e[0].checked&&i.$setViewValue(n.value,t&&t.type)};e.on("click",r),i.$render=function(){var t=n.value;e[0].checked=t==i.$viewValue},n.$observe("value",i.$render)}function qi(t,e,n,r,o){var a;if(y(r)){if(a=t(r),!a.constant)throw i("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return a(e)}return o}function Ui(t,e,n,i,r,o,a,s){var u=qi(s,t,"ngTrueValue",n.ngTrueValue,!0),l=qi(s,t,"ngFalseValue",n.ngFalseValue,!1),c=function(t){i.$setViewValue(e[0].checked,t&&t.type)};e.on("click",c),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return t===!1},i.$formatters.push(function(t){return j(t,u)}),i.$parsers.push(function(t){return t?u:l})}function Wi(t,e){return t="ngClass"+t,["$animate",function(n){function i(t,e){var n=[];t:for(var i=0;i<t.length;i++){for(var r=t[i],o=0;o<e.length;o++)if(r==e[o])continue t;n.push(r)}return n}function r(t){if(hr(t))return t;if(w(t))return t.split(" ");if(b(t)){var e=[];return o(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e}return t}return{restrict:"AC",link:function(a,s,u){function l(t){var e=f(t,1);u.$addClass(e)}function c(t){var e=f(t,-1);u.$removeClass(e)}function f(t,e){var n=s.data("$classCounts")||{},i=[];return o(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&i.push(t))}),s.data("$classCounts",n),i.join(" ")}function h(t,e){var r=i(e,t),o=i(t,e);r=f(r,1),o=f(o,-1),r&&r.length&&n.addClass(s,r),o&&o.length&&n.removeClass(s,o)}function d(t){if(e===!0||a.$index%2===e){var n=r(t||[]);if(p){if(!j(t,p)){var i=r(p);h(i,n)}}else l(n)}p=L(t)}var p;a.$watch(u[t],d,!0),u.$observe("class",function(){d(a.$eval(u[t]))}),"ngClass"!==t&&a.$watch("$index",function(n,i){var o=1&n;if(o!==(1&i)){var s=r(a.$eval(u[t]));o===e?l(s):c(s)}})}}}]}function Bi(t){function e(t,e,u){e===n?i("$pending",t,u):r("$pending",t,u),M(e)?e?(f(s.$error,t,u),c(s.$$success,t,u)):(c(s.$error,t,u),f(s.$$success,t,u)):(f(s.$error,t,u),f(s.$$success,t,u)),s.$pending?(o(wa,!0),s.$valid=s.$invalid=n,a("",null)):(o(wa,!1),s.$valid=Vi(s.$error),s.$invalid=!s.$valid,a("",s.$valid));var l;l=s.$pending&&s.$pending[t]?n:s.$error[t]?!1:s.$$success[t]?!0:null,a(t,l),h.$setValidity(t,l,s)}function i(t,e,n){s[t]||(s[t]={}),c(s[t],e,n)}function r(t,e,i){s[t]&&f(s[t],e,i),Vi(s[t])&&(s[t]=n)}function o(t,e){e&&!l[t]?(d.addClass(u,t),l[t]=!0):!e&&l[t]&&(d.removeClass(u,t),l[t]=!1)}function a(t,e){t=t?"-"+ne(t,"-"):"",o(pa+t,e===!0),o(ga+t,e===!1)}var s=t.ctrl,u=t.$element,l={},c=t.set,f=t.unset,h=t.parentForm,d=t.$animate;l[ga]=!(l[pa]=u.hasClass(pa)),s.$setValidity=e}function Vi(t){if(t)for(var e in t)return!1;return!0}var Yi=/^\/(.+)\/([a-z]*)$/,Xi="validity",Ki=function(t){return w(t)?t.toLowerCase():t},Gi=Object.prototype.hasOwnProperty,Zi=function(t){return w(t)?t.toUpperCase():t},Ji=function(t){return w(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},Qi=function(t){return w(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(Ki=Ji,Zi=Qi);var tr,er,nr,ir,rr=[].slice,or=[].splice,ar=[].push,sr=Object.prototype.toString,ur=i("ng"),lr=t.angular||(t.angular={}),cr=0;tr=e.documentMode,p.$inject=[],g.$inject=[];var fr,hr=Array.isArray,dr=function(t){return w(t)?t.trim():t},pr=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},gr=function(){if(y(gr.isActive_))return gr.isActive_;var t=!(!e.querySelector("[ng-csp]")&&!e.querySelector("[data-ng-csp]"));if(!t)try{new Function("")}catch(n){t=!0}return gr.isActive_=t},mr=["ng-","data-ng-","ng:","x-ng-"],vr=/[A-Z]/g,yr=!1,br=1,wr=2,_r=3,xr=8,$r=9,Cr=11,Er={full:"1.3.16",major:1,minor:3,dot:16,codeName:"cookie-oatmealification"};we.expando="ng339";var kr=we.cache={},Sr=1,Tr=function(t,e,n){t.addEventListener(e,n,!1)},Or=function(t,e,n){t.removeEventListener(e,n,!1)};we._data=function(t){return this.cache[t[this.expando]]||{}};var Mr=/([\:\-\_]+(.))/g,Ar=/^moz([A-Z])/,Dr={mouseleave:"mouseout",mouseenter:"mouseover"},Ir=i("jqLite"),Nr=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Pr=/<|&#?\w+;/,Rr=/<([\w:]+)/,Lr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,jr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};jr.optgroup=jr.option,jr.tbody=jr.tfoot=jr.colgroup=jr.caption=jr.thead,jr.th=jr.td;var Fr=we.prototype={ready:function(n){function i(){r||(r=!0,n())}var r=!1;"complete"===e.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),we(t).on("load",i))},toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return er(t>=0?this[t]:this[this.length+t])},length:0,push:ar,sort:[].sort,splice:[].splice},Hr={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){Hr[Ki(t)]=t});var zr={};o("input,select,option,textarea,button,form,details".split(","),function(t){zr[t]=!0});var qr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:ke,removeData:Ce},function(t,e){we[e]=t}),o({data:ke,inheritedData:De,scope:function(t){return er.data(t,"$scope")||De(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return er.data(t,"$isolateScope")||er.data(t,"$isolateScopeNoTemplate")},controller:Ae,injector:function(t){return De(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Se,css:function(t,e,n){return e=ge(e),y(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,i){var r=t.nodeType;if(r!==_r&&r!==wr&&r!==xr){var o=Ki(e);if(Hr[o]){if(!y(i))return t[e]||(t.attributes.getNamedItem(e)||p).specified?o:n;i?(t[e]=!0,t.setAttribute(e,o)):(t[e]=!1,t.removeAttribute(o))}else if(y(i))t.setAttribute(e,i);else if(t.getAttribute){var a=t.getAttribute(e,2);return null===a?n:a}}},prop:function(t,e,n){return y(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(v(e)){var n=t.nodeType;return n===br||n===_r?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(v(e)){if(t.multiple&&"select"===N(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return v(e)?t.innerHTML:(xe(t,!0),void(t.innerHTML=e))},empty:Ie},function(t,e){we.prototype[e]=function(e,i){var r,o,a=this.length;if(t!==Ie&&(2==t.length&&t!==Se&&t!==Ae?e:i)===n){if(b(e)){for(r=0;a>r;r++)if(t===ke)t(this[r],e);else for(o in e)t(this[r],o,e[o]);return this}for(var s=t.$dv,u=s===n?Math.min(a,1):a,l=0;u>l;l++){var c=t(this[l],e,i);s=s?s+c:c}return s}for(r=0;a>r;r++)t(this[r],e,i);return this}}),o({removeData:Ce,on:function Xa(t,e,n,i){if(y(i))throw Ir("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ve(t)){var r=Ee(t,!0),o=r.events,a=r.handle;a||(a=r.handle=je(t,o));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],u=s.length;u--;){e=s[u];var l=o[e];l||(o[e]=[],"mouseenter"===e||"mouseleave"===e?Xa(t,Dr[e],function(t){var n=this,i=t.relatedTarget;(!i||i!==n&&!n.contains(i))&&a(t,e)}):"$destroy"!==e&&Tr(t,e,a),l=o[e]),l.push(n)}}},off:$e,one:function(t,e,n){t=er(t),t.on(e,function i(){t.off(e,n),t.off(e,i)}),t.on(e,n)},replaceWith:function(t,e){var n,i=t.parentNode;xe(t),o(new we(e),function(e){n?i.insertBefore(e,n.nextSibling):i.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===br&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===br||n===Cr){e=new we(e);for(var i=0,r=e.length;r>i;i++){var o=e[i];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===br){var n=t.firstChild;o(new we(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){e=er(e).eq(0).clone()[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:Ne,detach:function(t){Ne(t,!0)},after:function(t,e){var n=t,i=t.parentNode;e=new we(e);for(var r=0,o=e.length;o>r;r++){var a=e[r];i.insertBefore(a,n.nextSibling),n=a}},addClass:Oe,removeClass:Te,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var i=n;v(i)&&(i=!Se(t,e)),(i?Oe:Te)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==Cr?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:_e,triggerHandler:function(t,e,n){var i,r,a,s=e.type||e,u=Ee(t),l=u&&u.events,c=l&&l[s];c&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:p,type:s,target:t},e.type&&(i=f(i,e)),r=L(c),a=n?[i].concat(n):[i],o(r,function(e){i.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(t,e){we.prototype[e]=function(e,n,i){for(var r,o=0,a=this.length;a>o;o++)v(r)?(r=t(this[o],e,n,i),y(r)&&(r=er(r))):Me(r,t(this[o],e,n,i));return y(r)?r:this},we.prototype.bind=we.prototype.on,we.prototype.unbind=we.prototype.off}),ze.prototype={put:function(t,e){this[He(t,this.nextUid)]=e},get:function(t){return this[He(t,this.nextUid)]},remove:function(t){var e=this[t=He(t,this.nextUid)];return delete this[t],e}};var Ur=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Wr=/,/,Br=/^\s*(_?)(\S+?)\1\s*$/,Vr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Yr=i("$injector");We.$$annotate=Ue;var Xr=i("$animate"),Kr=["$provide",function(t){this.$$selectors={},this.register=function(e,n){var i=e+"-animation";if(e&&"."!=e.charAt(0))throw Xr("notcsel","Expecting class selector starting with '.' got '{0}'.",e);this.$$selectors[e.substr(1)]=i,t.factory(i,n)},this.classNameFilter=function(t){return 1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(t,e,n){function i(e){var i,r=t.defer();return r.promise.$$cancelFn=function(){i&&i()},n.$$postDigest(function(){i=e(function(){r.resolve()})}),r.promise}function r(t,e){var n=[],i=[],r=le();return o((t.attr("class")||"").split(/\s+/),function(t){r[t]=!0}),o(e,function(t,e){var o=r[e];t===!1&&o?i.push(e):t!==!0||o||n.push(e)}),n.length+i.length>0&&[n.length?n:null,i.length?i:null]}function a(t,e,n){for(var i=0,r=e.length;r>i;++i){var o=e[i];t[o]=n}}function s(){return l||(l=t.defer(),e(function(){l.resolve(),l=null})),l.promise}function u(t,e){if(lr.isObject(e)){var n=f(e.from||{},e.to||{});t.css(n)}}var l;return{animate:function(t,e,n){return u(t,{from:e,to:n}),s()},enter:function(t,e,n,i){return u(t,i),n?n.after(t):e.prepend(t),s()},leave:function(t,e){return u(t,e),t.remove(),s()},move:function(t,e,n,i){return this.enter(t,e,n,i)},addClass:function(t,e,n){return this.setClass(t,e,[],n)},$$addClassImmediately:function(t,e,n){return t=er(t),e=w(e)?e:hr(e)?e.join(" "):"",o(t,function(t){Oe(t,e)}),u(t,n),s()},removeClass:function(t,e,n){return this.setClass(t,[],e,n)},$$removeClassImmediately:function(t,e,n){return t=er(t),e=w(e)?e:hr(e)?e.join(" "):"",o(t,function(t){Te(t,e)}),u(t,n),s()
},setClass:function(t,e,n,o){var s=this,u="$$animateClasses",l=!1;t=er(t);var c=t.data(u);c?o&&c.options&&(c.options=lr.extend(c.options||{},o)):(c={classes:{},options:o},l=!0);var f=c.classes;return e=hr(e)?e:e.split(" "),n=hr(n)?n:n.split(" "),a(f,e,!0),a(f,n,!1),l&&(c.promise=i(function(e){var n=t.data(u);if(t.removeData(u),n){var i=r(t,n.classes);i&&s.$$setClassImmediately(t,i[0],i[1],n.options)}e()}),t.data(u,c)),c.promise},$$setClassImmediately:function(t,e,n,i){return e&&this.$$addClassImmediately(t,e),n&&this.$$removeClassImmediately(t,n),u(t,i),s()},enabled:p,cancel:p}}]}],Gr=i("$compile");Ze.$inject=["$provide","$$sanitizeUriProvider"];var Zr=/^((?:x|data)[\:\-_])/i,Jr=i("$controller"),Qr="application/json",to={"Content-Type":Qr+";charset=utf-8"},eo=/^\[|^\{(?!\{)/,no={"[":/]$/,"{":/}$/},io=/^\)\]\}',?\n/,ro=i("$interpolate"),oo=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ao={http:80,https:443,ftp:21},so=i("$location"),uo={$$html5:!1,$$replace:!1,absUrl:On("$$absUrl"),url:function(t){if(v(t))return this.$$url;var e=oo.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:On("$$protocol"),host:On("$$host"),port:On("$$port"),path:Mn("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(w(t)||_(t))t=t.toString(),this.$$search=Y(t);else{if(!b(t))throw so("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=R(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:v(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Mn("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([Tn,Sn,kn],function(t){t.prototype=Object.create(uo),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==kn||!this.$$html5)throw so("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(e)?null:e,this}});var lo=i("$parse"),co=Function.prototype.call,fo=Function.prototype.apply,ho=Function.prototype.bind,po=le();o({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(t,e){t.constant=t.literal=t.sharedGetter=!0,po[e]=t}),po["this"]=function(t){return t},po["this"].sharedGetter=!0;var go=f(le(),{"+":function(t,e,i,r){return i=i(t,e),r=r(t,e),y(i)?y(r)?i+r:i:y(r)?r:n},"-":function(t,e,n,i){return n=n(t,e),i=i(t,e),(y(n)?n:0)-(y(i)?i:0)},"*":function(t,e,n,i){return n(t,e)*i(t,e)},"/":function(t,e,n,i){return n(t,e)/i(t,e)},"%":function(t,e,n,i){return n(t,e)%i(t,e)},"===":function(t,e,n,i){return n(t,e)===i(t,e)},"!==":function(t,e,n,i){return n(t,e)!==i(t,e)},"==":function(t,e,n,i){return n(t,e)==i(t,e)},"!=":function(t,e,n,i){return n(t,e)!=i(t,e)},"<":function(t,e,n,i){return n(t,e)<i(t,e)},">":function(t,e,n,i){return n(t,e)>i(t,e)},"<=":function(t,e,n,i){return n(t,e)<=i(t,e)},">=":function(t,e,n,i){return n(t,e)>=i(t,e)},"&&":function(t,e,n,i){return n(t,e)&&i(t,e)},"||":function(t,e,n,i){return n(t,e)||i(t,e)},"!":function(t,e,n){return!n(t,e)},"=":!0,"|":!0}),mo={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},vo=function(t){this.options=t};vo.prototype={constructor:vo,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),i=n+this.peek(2),r=go[e],o=go[n],a=go[i];if(r||o||a){var s=a?i:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return t>="0"&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||""===t||" "===t},isIdent:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var i=y(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw lo("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,i,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Ki(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=mo[o];n+=s||o}r=!1}else if("\\"===o)r=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var yo=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n};yo.ZERO=f(function(){return 0},{sharedGetter:!0,constant:!0}),yo.prototype={constructor:yo,parse:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e.literal=!!e.literal,e.constant=!!e.constant,e},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.peek().identifier&&this.peek().text in po?t=po[this.consume().text]:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e,n;e=this.expect("(","[",".");)"("===e.text?(t=this.functionCall(t,n),n=null):"["===e.text?(n=t,t=this.objectIndex(t)):"."===e.text?(n=t,t=this.fieldAccess(t)):this.throwError("IMPOSSIBLE");return t},throwError:function(t,e){throw lo("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},peekToken:function(){if(0===this.tokens.length)throw lo("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,r){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===i||a===r||!e&&!n&&!i&&!r)return o}return!1},expect:function(t,e,n,i){var r=this.peek(t,e,n,i);return r?(this.tokens.shift(),r):!1},consume:function(t){if(0===this.tokens.length)throw lo("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},unaryFn:function(t,e){var n=go[t];return f(function(t,i){return n(t,i,e)},{constant:e.constant,inputs:[e]})},binaryFn:function(t,e,n,i){var r=go[e];return f(function(e,i){return r(e,i,t,n)},{constant:t.constant&&n.constant,inputs:!i&&[t,n]})},identifier:function(){for(var t=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)t+=this.consume().text+this.consume().text;return zn(t,this.options,this.text)},constant:function(){var t=this.consume().value;return f(function(){return t},{constant:!0,literal:!0})},statements:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.filterChain()),!this.expect(";"))return 1===t.length?t[0]:function(e,n){for(var i,r=0,o=t.length;o>r;r++)i=t[r](e,n);return i}},filterChain:function(){for(var t,e=this.expression();t=this.expect("|");)e=this.filter(e);return e},filter:function(t){var e,i,r=this.$filter(this.consume().text);if(this.peek(":"))for(e=[],i=[];this.expect(":");)e.push(this.expression());var o=[t].concat(e||[]);return f(function(o,a){var s=t(o,a);if(i){i[0]=s;for(var u=e.length;u--;)i[u+1]=e[u](o,a);return r.apply(n,i)}return r(s)},{constant:!r.$stateful&&o.every(Rn),inputs:!r.$stateful&&o})},expression:function(){return this.assignment()},assignment:function(){var t,e,n=this.ternary();return(e=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,e.index)+"] can not be assigned to",e),t=this.ternary(),f(function(e,i){return n.assign(e,t(e,i),i)},{inputs:[n,t]})):n},ternary:function(){var t,e,n=this.logicalOR();if((e=this.expect("?"))&&(t=this.assignment(),this.consume(":"))){var i=this.assignment();return f(function(e,r){return n(e,r)?t(e,r):i(e,r)},{constant:n.constant&&t.constant&&i.constant})}return n},logicalOR:function(){for(var t,e=this.logicalAND();t=this.expect("||");)e=this.binaryFn(e,t.text,this.logicalAND(),!0);return e},logicalAND:function(){for(var t,e=this.equality();t=this.expect("&&");)e=this.binaryFn(e,t.text,this.equality(),!0);return e},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e=this.binaryFn(e,t.text,this.relational());return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e=this.binaryFn(e,t.text,this.additive());return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e=this.binaryFn(e,t.text,this.multiplicative());return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e=this.binaryFn(e,t.text,this.unary());return e},unary:function(){var t;return this.expect("+")?this.primary():(t=this.expect("-"))?this.binaryFn(yo.ZERO,t.text,this.unary()):(t=this.expect("!"))?this.unaryFn(t.text,this.unary()):this.primary()},fieldAccess:function(t){var e=this.identifier();return f(function(i,r,o){var a=o||t(i,r);return null==a?n:e(a)},{assign:function(n,i,r){var o=t(n,r);return o||t.assign(n,o={},r),e.assign(o,i)}})},objectIndex:function(t){var e=this.text,i=this.expression();return this.consume("]"),f(function(r,o){var a,s=t(r,o),u=i(r,o);return In(u,e),s?a=Nn(s[u],e):n},{assign:function(n,r,o){var a=In(i(n,o),e),s=Nn(t(n,o),e);return s||t.assign(n,s={},o),s[a]=r}})},functionCall:function(t,e){var i=[];if(")"!==this.peekToken().text)do i.push(this.expression());while(this.expect(","));this.consume(")");var r=this.text,o=i.length?[]:null;return function(a,s){var u=e?e(a,s):y(e)?n:a,l=t(a,s,u)||p;if(o)for(var c=i.length;c--;)o[c]=Nn(i[c](a,s),r);Nn(u,r),Pn(l,r);var f=l.apply?l.apply(u,o):l(o[0],o[1],o[2],o[3],o[4]);return o&&(o.length=0),Nn(f,r)}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),f(function(e,n){for(var i=[],r=0,o=t.length;o>r;r++)i.push(t[r](e,n));return i},{literal:!0,constant:t.every(Rn),inputs:t})},object:function(){var t=[],e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.consume();n.constant?t.push(n.value):n.identifier?t.push(n.text):this.throwError("invalid key",n),this.consume(":"),e.push(this.expression())}while(this.expect(","));return this.consume("}"),f(function(n,i){for(var r={},o=0,a=e.length;a>o;o++)r[t[o]]=e[o](n,i);return r},{literal:!0,constant:e.every(Rn),inputs:e})}};var bo=le(),wo=le(),_o=Object.prototype.valueOf,xo=i("$sce"),$o={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Gr=i("$compile"),Co=e.createElement("a"),Eo=ri(t.location.href);si.$inject=["$provide"],fi.$inject=["$locale"],hi.$inject=["$locale"];var ko=".",So={yyyy:gi("FullYear",4),yy:gi("FullYear",2,0,!0),y:gi("FullYear",1),MMMM:mi("Month"),MMM:mi("Month",!0),MM:gi("Month",2,1),M:gi("Month",1,1),dd:gi("Date",2),d:gi("Date",1),HH:gi("Hours",2),H:gi("Hours",1),hh:gi("Hours",2,-12),h:gi("Hours",1,-12),mm:gi("Minutes",2),m:gi("Minutes",1),ss:gi("Seconds",2),s:gi("Seconds",1),sss:gi("Milliseconds",3),EEEE:mi("Day"),EEE:mi("Day",!0),a:_i,Z:vi,ww:wi(2),w:wi(1),G:xi,GG:xi,GGG:xi,GGGG:$i},To=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Oo=/^\-?\d+$/;Ci.$inject=["$locale"];var Mo=m(Ki),Ao=m(Zi);Si.$inject=["$parse"];var Do=m({restrict:"E",compile:function(t,e){return e.href||e.xlinkHref||e.name?void 0:function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===sr.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),Io={};o(Hr,function(t,e){if("multiple"!=t){var n=Je("ng-"+e);Io[n]=function(){return{restrict:"A",priority:100,link:function(t,i,r){t.$watch(r[n],function(t){r.$set(e,!!t)})}}}}}),o(qr,function(t,e){Io[e]=function(){return{priority:100,link:function(t,n,i){if("ngPattern"===e&&"/"==i.ngPattern.charAt(0)){var r=i.ngPattern.match(Yi);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}t.$watch(i[e],function(t){i.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=Je("ng-"+t);Io[e]=function(){return{priority:99,link:function(n,i,r){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===sr.call(i.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$observe(e,function(e){return e?(r.$set(a,e),void(tr&&o&&i.prop(o,r[a]))):void("href"===t&&r.$set(a,null))})}}}});var No={$addControl:p,$$renameControl:Oi,$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p,$setSubmitted:p},Po="ng-submitted";Mi.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Ro=function(t){return["$timeout",function(e){var i={name:"form",restrict:t?"EAC":"E",controller:Mi,compile:function(i,r){i.addClass(ma).addClass(pa);var o=r.name?"name":t&&r.ngForm?"ngForm":!1;return{pre:function(t,i,r,a){if(!("action"in r)){var s=function(e){t.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),e.preventDefault()};Tr(i[0],"submit",s),i.on("$destroy",function(){e(function(){Or(i[0],"submit",s)},0,!1)})}var u=a.$$parentForm;o&&(Ln(t,null,a.$name,a,a.$name),r.$observe(o,function(e){a.$name!==e&&(Ln(t,null,a.$name,n,a.$name),u.$$renameControl(a,e),Ln(t,null,a.$name,a,a.$name))})),i.on("$destroy",function(){u.$removeControl(a),o&&Ln(t,null,r[o],n,a.$name),f(a,No)})}}}};return i}]},Lo=Ro(),jo=Ro(!0),Fo=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Ho=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,zo=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,qo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Uo=/^(\d{4})-(\d{2})-(\d{2})$/,Wo=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Bo=/^(\d{4})-W(\d\d)$/,Vo=/^(\d{4})-(\d\d)$/,Yo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Xo={text:Di,date:Ri("date",Uo,Pi(Uo,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Ri("datetimelocal",Wo,Pi(Wo,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Ri("time",Yo,Pi(Yo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Ri("week",Bo,Ni,"yyyy-Www"),month:Ri("month",Vo,Pi(Vo,["yyyy","MM"]),"yyyy-MM"),number:ji,url:Fi,email:Hi,radio:zi,checkbox:Ui,hidden:p,button:p,submit:p,reset:p,file:p},Ko=["$browser","$sniffer","$filter","$parse",function(t,e,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,a,s){s[0]&&(Xo[Ki(a.type)]||Xo.text)(r,o,a,s[0],e,t,n,i)}}}}],Go=/^(true|false|\d+)$/,Zo=function(){return{restrict:"A",priority:100,compile:function(t,e){return Go.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},Jo=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,i,r){t.$$addBindingInfo(i,r.ngBind),i=i[0],e.$watch(r.ngBind,function(t){i.textContent=t===n?"":t})}}}}],Qo=["$interpolate","$compile",function(t,e){return{compile:function(i){return e.$$addBindingClass(i),function(i,r,o){var a=t(r.attr(o.$attr.ngBindTemplate));e.$$addBindingInfo(r,a.expressions),r=r[0],o.$observe("ngBindTemplate",function(t){r.textContent=t===n?"":t})}}}}],ta=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(i,r){var o=e(r.ngBindHtml),a=e(r.ngBindHtml,function(t){return(t||"").toString()});return n.$$addBindingClass(i),function(e,i,r){n.$$addBindingInfo(i,r.ngBindHtml),e.$watch(a,function(){i.html(t.getTrustedHtml(o(e))||"")})}}}}],ea=m({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),na=Wi("",!0),ia=Wi("Odd",0),ra=Wi("Even",1),oa=Ti({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),aa=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],sa={},ua={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=Je("ng-"+t);sa[e]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var a=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var r=function(){a(e,{$event:n})};ua[t]&&i.$$phase?e.$evalAsync(r):e.$apply(r)})}}}}]});var la=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,u,l;n.$watch(r.ngIf,function(n){n?u||a(function(n,o){u=o,n[n.length++]=e.createComment(" end ngIf: "+r.ngIf+" "),s={clone:n},t.enter(n,i.parent(),i)}):(l&&(l.remove(),l=null),u&&(u.$destroy(),u=null),s&&(l=ue(s.clone),t.leave(l).then(function(){l=null}),s=null))})}}}],ca=["$templateRequest","$anchorScroll","$animate","$sce",function(t,e,n,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:lr.noop,compile:function(r,o){var a=o.ngInclude||o.src,s=o.onload||"",u=o.autoscroll;return function(r,o,l,c,f){var h,d,p,g=0,m=function(){d&&(d.remove(),d=null),h&&(h.$destroy(),h=null),p&&(n.leave(p).then(function(){d=null}),d=p,p=null)};r.$watch(i.parseAsResourceUrl(a),function(i){var a=function(){!y(u)||u&&!r.$eval(u)||e()},l=++g;i?(t(i,!0).then(function(t){if(l===g){var e=r.$new();c.template=t;var u=f(e,function(t){m(),n.enter(t,null,o).then(a)});h=e,p=u,h.$emit("$includeContentLoaded",i),r.$eval(s)}},function(){l===g&&(m(),r.$emit("$includeContentError",i))}),r.$emit("$includeContentRequested",i)):(m(),c.template=null)})}}}}],fa=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){return/SVG/.test(i[0].toString())?(i.empty(),void t(ye(o.template,e).childNodes)(n,function(t){i.append(t)},{futureParentElement:i})):(i.html(o.template),void t(i.contents())(n))}}}],ha=Ti({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),da=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,i,r){var a=e.attr(i.$attr.ngList)||", ",s="false"!==i.ngTrim,u=s?dr(a):a,l=function(t){if(!v(t)){var e=[];return t&&o(t.split(u),function(t){t&&e.push(s?dr(t):t)}),e}};r.$parsers.push(l),r.$formatters.push(function(t){return hr(t)?t.join(a):n}),r.$isEmpty=function(t){return!t||!t.length}}}},pa="ng-valid",ga="ng-invalid",ma="ng-pristine",va="ng-dirty",ya="ng-untouched",ba="ng-touched",wa="ng-pending",_a=new i("ngModel"),xa=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,i,r,a,s,u,l,c,f){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=f(i.name||"",!1)(t);var h,d=a(i.ngModel),g=d.assign,m=d,b=g,w=null,x=this;this.$$setOptions=function(t){if(x.$options=t,t&&t.getterSetter){var e=a(i.ngModel+"()"),n=a(i.ngModel+"($$$p)");m=function(t){var n=d(t);return $(n)&&(n=e(t)),n},b=function(t){$(d(t))?n(t,{$$$p:x.$modelValue}):g(t,x.$modelValue)}}else if(!d.assign)throw _a("nonassign","Expression '{0}' is non-assignable. Element: {1}",i.ngModel,B(r))},this.$render=p,this.$isEmpty=function(t){return v(t)||""===t||null===t||t!==t};var C=r.inheritedData("$formController")||No,E=0;Bi({ctrl:this,$element:r,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},parentForm:C,$animate:s}),this.$setPristine=function(){x.$dirty=!1,x.$pristine=!0,s.removeClass(r,va),s.addClass(r,ma)},this.$setDirty=function(){x.$dirty=!0,x.$pristine=!1,s.removeClass(r,ma),s.addClass(r,va),C.$setDirty()},this.$setUntouched=function(){x.$touched=!1,x.$untouched=!0,s.setClass(r,ya,ba)},this.$setTouched=function(){x.$touched=!0,x.$untouched=!1,s.setClass(r,ba,ya)},this.$rollbackViewValue=function(){u.cancel(w),x.$viewValue=x.$$lastCommittedViewValue,x.$render()},this.$validate=function(){if(!_(x.$modelValue)||!isNaN(x.$modelValue)){var t=x.$$lastCommittedViewValue,e=x.$$rawModelValue,i=x.$valid,r=x.$modelValue,o=x.$options&&x.$options.allowInvalid;x.$$runValidators(e,t,function(t){o||i===t||(x.$modelValue=t?e:n,x.$modelValue!==r&&x.$$writeModelToScope())})}},this.$$runValidators=function(t,e,i){function r(){var t=x.$$parserName||"parse";return h!==n?(h||(o(x.$validators,function(t,e){u(e,null)}),o(x.$asyncValidators,function(t,e){u(e,null)})),u(t,h),h):(u(t,null),!0)}function a(){var n=!0;return o(x.$validators,function(i,r){var o=i(t,e);n=n&&o,u(r,o)}),n?!0:(o(x.$asyncValidators,function(t,e){u(e,null)}),!1)}function s(){var i=[],r=!0;o(x.$asyncValidators,function(o,a){var s=o(t,e);if(!A(s))throw _a("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);u(a,n),i.push(s.then(function(){u(a,!0)},function(){r=!1,u(a,!1)}))}),i.length?c.all(i).then(function(){l(r)},p):l(!0)}function u(t,e){f===E&&x.$setValidity(t,e)}function l(t){f===E&&i(t)}E++;var f=E;return r()&&a()?void s():void l(!1)},this.$commitViewValue=function(){var t=x.$viewValue;u.cancel(w),(x.$$lastCommittedViewValue!==t||""===t&&x.$$hasNativeValidators)&&(x.$$lastCommittedViewValue=t,x.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function e(){x.$modelValue!==a&&x.$$writeModelToScope()}var i=x.$$lastCommittedViewValue,r=i;if(h=v(r)?n:!0)for(var o=0;o<x.$parsers.length;o++)if(r=x.$parsers[o](r),v(r)){h=!1;break}_(x.$modelValue)&&isNaN(x.$modelValue)&&(x.$modelValue=m(t));var a=x.$modelValue,s=x.$options&&x.$options.allowInvalid;x.$$rawModelValue=r,s&&(x.$modelValue=r,e()),x.$$runValidators(r,x.$$lastCommittedViewValue,function(t){s||(x.$modelValue=t?r:n,e())})},this.$$writeModelToScope=function(){b(t,x.$modelValue),o(x.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){x.$viewValue=t,(!x.$options||x.$options.updateOnDefault)&&x.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,i=0,r=x.$options;r&&y(r.debounce)&&(n=r.debounce,_(n)?i=n:_(n[e])?i=n[e]:_(n["default"])&&(i=n["default"])),u.cancel(w),i?w=u(function(){x.$commitViewValue()},i):l.$$phase?x.$commitViewValue():t.$apply(function(){x.$commitViewValue()})},t.$watch(function(){var e=m(t);if(e!==x.$modelValue&&(x.$modelValue===x.$modelValue||e===e)){x.$modelValue=x.$$rawModelValue=e,h=n;for(var i=x.$formatters,r=i.length,o=e;r--;)o=i[r](o);x.$viewValue!==o&&(x.$viewValue=x.$$lastCommittedViewValue=o,x.$render(),x.$$runValidators(e,o,p))}return e})}],$a=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:xa,priority:1,compile:function(e){return e.addClass(ma).addClass(ya).addClass(pa),{pre:function(t,e,n,i){var r=i[0],o=i[1]||No;r.$$setOptions(i[2]&&i[2].$options),o.$addControl(r),n.$observe("name",function(t){r.$name!==t&&o.$$renameControl(r,t)}),t.$on("$destroy",function(){o.$removeControl(r)})},post:function(e,n,i,r){var o=r[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],Ca=/(\s+|^)default(\s+|$)/,Ea=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var i=this;this.$options=t.$eval(e.ngModelOptions),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=dr(this.$options.updateOn.replace(Ca,function(){return i.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ka=Ti({terminal:!0,priority:1e3}),Sa=["$locale","$interpolate",function(t,e){var n=/{}/g,i=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(r,a,s){function u(t){a.text(t||"")}var l,c=s.count,f=s.$attr.when&&a.attr(s.$attr.when),h=s.offset||0,d=r.$eval(f)||{},p={},g=e.startSymbol(),m=e.endSymbol(),v=g+c+"-"+h+m,y=lr.noop;o(s,function(t,e){var n=i.exec(e);if(n){var r=(n[1]?"-":"")+Ki(n[2]);d[r]=a.attr(s.$attr[e])}}),o(d,function(t,i){p[i]=e(t.replace(n,v))}),r.$watch(c,function(e){var n=parseFloat(e),i=isNaN(n);i||n in d||(n=t.pluralCat(n-h)),n===l||i&&isNaN(l)||(y(),y=r.$watch(p[n],u),l=n)})}}}],Ta=["$parse","$animate",function(t,a){var s="$$NG_REMOVED",u=i("ngRepeat"),l=function(t,e,n,i,r,o,a){t[n]=i,r&&(t[r]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},c=function(t){return t.clone[0]},f=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,h){var d=h.ngRepeat,p=e.createComment(" end ngRepeat: "+d+" "),g=d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!g)throw u("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",d);var m=g[1],v=g[2],y=g[3],b=g[4];if(g=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!g)throw u("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var w=g[3]||g[1],_=g[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw u("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);var x,$,C,E,k={$id:He};return b?x=t(b):(C=function(t,e){return He(e)},E=function(t){return t}),function(t,e,i,h,g){x&&($=function(e,n,i){return _&&(k[_]=e),k[w]=n,k.$index=i,x(t,k)});var m=le();t.$watchCollection(v,function(i){var h,v,b,x,k,S,T,O,M,A,D,I,N=e[0],P=le();if(y&&(t[y]=i),r(i))M=i,O=$||C;else{O=$||E,M=[];for(var R in i)i.hasOwnProperty(R)&&"$"!=R.charAt(0)&&M.push(R);M.sort()}for(x=M.length,D=new Array(x),h=0;x>h;h++)if(k=i===M?h:M[h],S=i[k],T=O(k,S,h),m[T])A=m[T],delete m[T],P[T]=A,D[h]=A;else{if(P[T])throw o(D,function(t){t&&t.scope&&(m[t.id]=t)}),u("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",d,T,S);D[h]={id:T,scope:n,clone:n},P[T]=!0}for(var L in m){if(A=m[L],I=ue(A.clone),a.leave(I),I[0].parentNode)for(h=0,v=I.length;v>h;h++)I[h][s]=!0;A.scope.$destroy()}for(h=0;x>h;h++)if(k=i===M?h:M[h],S=i[k],A=D[h],A.scope){b=N;do b=b.nextSibling;while(b&&b[s]);c(A)!=b&&a.move(ue(A.clone),null,er(N)),N=f(A),l(A.scope,h,w,S,_,k,x)}else g(function(t,e){A.scope=e;var n=p.cloneNode(!1);t[t.length++]=n,a.enter(t,null,er(N)),N=n,A.clone=t,P[A.id]=A,l(A.scope,h,w,S,_,k,x)});m=P})}}}}],Oa="ng-hide",Ma="ng-hide-animate",Aa=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngShow,function(e){t[e?"removeClass":"addClass"](n,Oa,{tempClasses:Ma})})}}}],Da=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngHide,function(e){t[e?"addClass":"removeClass"](n,Oa,{tempClasses:Ma})})}}}],Ia=Ti(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),Na=["$animate",function(t){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,a){var s=r.ngSwitch||r.on,u=[],l=[],c=[],f=[],h=function(t,e){return function(){t.splice(e,1)}};n.$watch(s,function(n){var i,r;for(i=0,r=c.length;r>i;++i)t.cancel(c[i]);for(c.length=0,i=0,r=f.length;r>i;++i){var s=ue(l[i].clone);f[i].$destroy();var d=c[i]=t.leave(s);d.then(h(c,i))}l.length=0,f.length=0,(u=a.cases["!"+n]||a.cases["?"])&&o(u,function(n){n.transclude(function(i,r){f.push(r);var o=n.element;i[i.length++]=e.createComment(" end ngSwitchWhen: ");var a={clone:i};l.push(a),t.enter(i,o.parent(),o)})})})}}}],Pa=Ti({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:e})}}),Ra=Ti({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),La=Ti({restrict:"EAC",link:function(t,e,n,r,o){if(!o)throw i("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",B(e));o(function(t){e.empty(),e.append(t)})}}),ja=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"==n.type){var i=n.id,r=e[0].text;t.put(i,r)}}}}],Fa=i("ngOptions"),Ha=m({restrict:"A",terminal:!0}),za=["$compile","$parse",function(t,i){var r=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:p};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(t,e,n){var i,r,o=this,a={},u=s;o.databound=n.ngModel,o.init=function(t,e,n){u=t,i=e,r=n},o.addOption=function(e,n){ae(e,'"option value"'),a[e]=!0,u.$viewValue==e&&(t.val(e),r.parent()&&r.remove()),n&&n[0].hasAttribute("selected")&&(n[0].selected=!0)},o.removeOption=function(t){this.hasOption(t)&&(delete a[t],u.$viewValue===t&&this.renderUnknownOption(t))},o.renderUnknownOption=function(e){var n="? "+He(e)+" ?";r.val(n),t.prepend(r),t.val(n),r.prop("selected",!0)},o.hasOption=function(t){return a.hasOwnProperty(t)},e.$on("$destroy",function(){o.renderUnknownOption=p})}],link:function(s,u,l,c){function f(t,e,n,i){n.$render=function(){var t=n.$viewValue;i.hasOption(t)?(C.parent()&&C.remove(),e.val(t),""===t&&p.prop("selected",!0)):null==t&&p?e.val(""):i.renderUnknownOption(t)},e.on("change",function(){t.$apply(function(){C.parent()&&C.remove(),n.$setViewValue(e.val())})})}function h(t,e,n){var i;n.$render=function(){var t=new ze(n.$viewValue);o(e.find("option"),function(e){e.selected=y(t.get(e.value))})},t.$watch(function(){j(i,n.$viewValue)||(i=L(n.$viewValue),n.$render())}),e.on("change",function(){t.$apply(function(){var t=[];o(e.find("option"),function(e){e.selected&&t.push(e.value)}),n.$setViewValue(t)})})}function d(e,s,u){function l(t,n,i){return j[S]=i,M&&(j[M]=n),t(e,j)
}function c(){e.$apply(function(){var t,n=I(e)||[];if(v)t=[],o(s.val(),function(e){e=P?R[e]:e,t.push(f(e,n[e]))});else{var i=P?R[s.val()]:s.val();t=f(i,n[i])}u.$setViewValue(t),C()})}function f(t,e){if("?"===t)return n;if(""===t)return null;var i=O?O:D;return l(i,t,e)}function h(){var t,n=I(e);if(n&&hr(n)){t=new Array(n.length);for(var i=0,r=n.length;r>i;i++)t[i]=l(k,i,n[i]);return t}if(n){t={};for(var o in n)n.hasOwnProperty(o)&&(t[o]=l(k,o,n[o]))}return t}function d(t){var e;if(v)if(P&&hr(t)){e=new ze([]);for(var n=0;n<t.length;n++)e.put(l(P,null,t[n]),!0)}else e=new ze(t);else P&&(t=l(P,null,t));return function(n,i){var r;return r=P?P:O?O:D,v?y(e.remove(l(r,n,i))):t===l(r,n,i)}}function p(){_||(e.$$postDigest(C),_=!0)}function m(t,e,n){t[e]=t[e]||0,t[e]+=n?1:-1}function C(){_=!1;var t,n,i,r,c,f,h,p,b,C,E,S,T,O,D,N,F,H={"":[]},z=[""],q=u.$viewValue,U=I(e)||[],W=M?a(U):U,B={},V=d(q),Y=!1;for(R={},S=0;C=W.length,C>S;S++)h=S,M&&(h=W[S],"$"===h.charAt(0))||(p=U[h],t=l(A,h,p)||"",(n=H[t])||(n=H[t]=[],z.push(t)),T=V(h,p),Y=Y||T,N=l(k,h,p),N=y(N)?N:"",F=P?P(e,j):M?W[S]:S,P&&(R[F]=h),n.push({id:F,label:N,selected:T}));for(v||(w||null===q?H[""].unshift({id:"",label:"",selected:!Y}):Y||H[""].unshift({id:"?",label:"",selected:!0})),E=0,b=z.length;b>E;E++){for(t=z[E],n=H[t],L.length<=E?(r={element:$.clone().attr("label",t),label:n.label},c=[r],L.push(c),s.append(r.element)):(c=L[E],r=c[0],r.label!=t&&r.element.attr("label",r.label=t)),O=null,S=0,C=n.length;C>S;S++)i=n[S],(f=c[S+1])?(O=f.element,f.label!==i.label&&(m(B,f.label,!1),m(B,i.label,!0),O.text(f.label=i.label),O.prop("label",f.label)),f.id!==i.id&&O.val(f.id=i.id),O[0].selected!==i.selected&&(O.prop("selected",f.selected=i.selected),tr&&O.prop("selected",f.selected))):(""===i.id&&w?D=w:(D=x.clone()).val(i.id).prop("selected",i.selected).attr("selected",i.selected).prop("label",i.label).text(i.label),c.push(f={element:D,label:i.label,id:i.id,selected:i.selected}),m(B,i.label,!0),O?O.after(D):r.element.append(D),O=D);for(S++;c.length>S;)i=c.pop(),m(B,i.label,!1),i.element.remove()}for(;L.length>E;){for(n=L.pop(),S=1;S<n.length;++S)m(B,n[S].label,!1);n[0].element.remove()}o(B,function(t,e){t>0?g.addOption(e):0>t&&g.removeOption(e)})}var E;if(!(E=b.match(r)))throw Fa("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",b,B(s));var k=i(E[2]||E[1]),S=E[4]||E[6],T=/ as /.test(E[0])&&E[1],O=T?i(T):null,M=E[5],A=i(E[3]||""),D=i(E[2]?E[1]:S),I=i(E[7]),N=E[8],P=N?i(E[8]):null,R={},L=[[{element:s,label:""}]],j={};w&&(t(w)(e),w.removeClass("ng-scope"),w.remove()),s.empty(),s.on("change",c),u.$render=C,e.$watchCollection(I,p),e.$watchCollection(h,p),v&&e.$watchCollection(function(){return u.$modelValue},p)}if(c[1]){for(var p,g=c[0],m=c[1],v=l.multiple,b=l.ngOptions,w=!1,_=!1,x=er(e.createElement("option")),$=er(e.createElement("optgroup")),C=x.clone(),E=0,k=u.children(),S=k.length;S>E;E++)if(""===k[E].value){p=w=k.eq(E);break}g.init(m,w,C),v&&(m.$isEmpty=function(t){return!t||0===t.length}),b?d(s,u,m):v?h(s,u,m):f(s,u,m,g)}}}}],qa=["$interpolate",function(t){var e={addOption:p,removeOption:p};return{restrict:"E",priority:100,compile:function(n,i){if(v(i.value)){var r=t(n.text(),!0);r||i.$set("value",n.text())}return function(t,n,i){var o="$selectController",a=n.parent(),s=a.data(o)||a.parent().data(o);s&&s.databound||(s=e),r?t.$watch(r,function(t,e){i.$set("value",t),e!==t&&s.removeOption(e),s.addOption(t,n)}):s.addOption(i.value,n),n.on("$destroy",function(){s.removeOption(i.value)})}}}}],Ua=m({restrict:"E",terminal:!1}),Wa=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},Ba=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,r,o){if(o){var a,s=r.ngPattern||r.pattern;r.$observe("pattern",function(t){if(w(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,t,B(e));a=t||n,o.$validate()}),o.$validators.pattern=function(t){return o.$isEmpty(t)||v(a)||a.test(t)}}}}},Va=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=-1;n.$observe("maxlength",function(t){var e=h(t);r=isNaN(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(t,e){return 0>r||i.$isEmpty(e)||e.length<=r}}}}},Ya=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("minlength",function(t){r=h(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r}}}}};return t.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(ie(),de(lr),void er(e).ready(function(){J(e,Q)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),/**
 * @license AngularJS v1.3.16
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";e.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var t="$$ngAnimateChildren";return function(n,i,r){var o=r.ngAnimateChildren;e.isString(o)&&0===o.length?i.data(t,!0):n.$watch(o,function(e){i.data(t,!!e)})}}).factory("$$animateReflow",["$$rAF","$document",function(t,e){var n=e[0].body;return function(e){return t(function(){e(n.offsetWidth)})}}]).config(["$provide","$animateProvider",function(i,r){function o(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType==m)return n}}function a(t){return t&&e.element(t)}function s(t){return e.element(o(t))}function u(t,e){return o(t)==o(e)}var l,c=e.noop,f=e.forEach,h=r.$$selectors,d=e.isArray,p=e.isString,g=e.isObject,m=1,v="$$ngAnimateState",y="$$ngAnimateChildren",b="ng-animate",w={running:!0};i.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(t,n,i,m,_,x,$,C,E,k){function S(t,e){var n=t.data(v)||{};return e&&(n.running=!0,n.structural=!0,t.data(v,n)),n.disabled||n.running&&n.structural}function T(t){var e,i=n.defer();return i.promise.$$cancelFn=function(){e&&e()},$.$$postDigest(function(){e=t(function(){i.resolve()})}),i.promise}function O(t){return g(t)?(t.tempClasses&&p(t.tempClasses)&&(t.tempClasses=t.tempClasses.split(/\s+/)),t):void 0}function M(t,e,n){n=n||{};var i={};f(n,function(t,e){f(e.split(" "),function(e){i[e]=t})});var r=Object.create(null);f((t.attr("class")||"").split(/\s+/),function(t){r[t]=!0});var o=[],a=[];return f(e&&e.classes||[],function(t,e){var n=r[e],s=i[e]||{};t===!1?(n||"addClass"==s.event)&&a.push(e):t===!0&&(n&&"removeClass"!=s.event||o.push(e))}),o.length+a.length>0&&[o.join(" "),a.join(" ")]}function A(t){if(t){var e=[],n={},r=t.substr(1).split(".");(m.transitions||m.animations)&&e.push(i.get(h[""]));for(var o=0;o<r.length;o++){var a=r[o],s=h[a];s&&!n[a]&&(e.push(i.get(s)),n[a]=!0)}return e}}function D(t,n,i,r){function o(t,e){var n=t[e],i=t["before"+e.charAt(0).toUpperCase()+e.substr(1)];return n||i?("leave"==e&&(i=n,n=null),x.push({event:e,fn:n}),b.push({event:e,fn:i}),!0):void 0}function a(e,n,o){function a(t){if(n){if((n[t]||c)(),++h<s.length)return;n=null}o()}var s=[];f(e,function(t){t.fn&&s.push(t)});var h=0;f(s,function(e,o){var s=function(){a(o)};switch(e.event){case"setClass":n.push(e.fn(t,u,l,s,r));break;case"animate":n.push(e.fn(t,i,r.from,r.to,s));break;case"addClass":n.push(e.fn(t,u||i,s,r));break;case"removeClass":n.push(e.fn(t,l||i,s,r));break;default:n.push(e.fn(t,s,r))}}),n&&0===n.length&&o()}var s=t[0];if(s){r&&(r.to=r.to||{},r.from=r.from||{});var u,l;d(i)&&(u=i[0],l=i[1],u?l?i=u+" "+l:(i=u,n="addClass"):(i=l,n="removeClass"));var h="setClass"==n,p=h||"addClass"==n||"removeClass"==n||"animate"==n,g=t.attr("class"),m=g+" "+i;if(H(m)){var v=c,y=[],b=[],w=c,_=[],x=[],$=(" "+m).replace(/\s+/g,".");return f(A($),function(t){var e=o(t,n);!e&&h&&(o(t,"addClass"),o(t,"removeClass"))}),{node:s,event:n,className:i,isClassBased:p,isSetClassOperation:h,applyStyles:function(){r&&t.css(e.extend(r.from||{},r.to||{}))},before:function(t){v=t,a(b,y,function(){v=c,t()})},after:function(t){w=t,a(x,_,function(){w=c,t()})},cancel:function(){y&&(f(y,function(t){(t||c)(!0)}),v(!0)),_&&(f(_,function(t){(t||c)(!0)}),w(!0))}}}}}function I(t,n,i,r,o,a,s,u){function h(e){var r="$animate:"+e;$&&$[r]&&$[r].length>0&&x(function(){i.triggerHandler(r,{event:t,className:n})})}function d(){h("before")}function p(){h("after")}function g(){h("close"),u()}function m(){m.hasBeenRun||(m.hasBeenRun=!0,a())}function y(){if(!y.hasBeenRun){_&&_.applyStyles(),y.hasBeenRun=!0,s&&s.tempClasses&&f(s.tempClasses,function(t){l.removeClass(i,t)});var e=i.data(v);e&&(_&&_.isClassBased?P(i,n):(x(function(){var e=i.data(v)||{};I==e.index&&P(i,n,t)}),i.data(v,e))),g()}}var w=c,_=D(i,t,n,s);if(!_)return m(),d(),p(),y(),w;t=_.event,n=_.className;var $=e.element._data(_.node);if($=$&&$.events,r||(r=o?o.parent():i.parent()),R(i,r))return m(),d(),p(),y(),w;var C=i.data(v)||{},E=C.active||{},k=C.totalActive||0,S=C.last,T=!1;if(k>0){var O=[];if(_.isClassBased){if("setClass"==S.event)O.push(S),P(i,n);else if(E[n]){var M=E[n];M.event==t?T=!0:(O.push(M),P(i,n))}}else if("leave"==t&&E["ng-leave"])T=!0;else{for(var A in E)O.push(E[A]);C={},P(i,!0)}O.length>0&&f(O,function(t){t.cancel()})}if(!_.isClassBased||_.isSetClassOperation||"animate"==t||T||(T="addClass"==t==i.hasClass(n)),T)return m(),d(),p(),g(),w;E=C.active||{},k=C.totalActive||0,"leave"==t&&i.one("$destroy",function(){var t=e.element(this),n=t.data(v);if(n){var i=n.active["ng-leave"];i&&(i.cancel(),P(t,"ng-leave"))}}),l.addClass(i,b),s&&s.tempClasses&&f(s.tempClasses,function(t){l.addClass(i,t)});var I=j++;return k++,E[n]=_,i.data(v,{last:_,active:E,index:I,totalActive:k}),d(),_.before(function(e){var r=i.data(v);e=e||!r||!r.active[n]||_.isClassBased&&r.active[n].event!=t,m(),e===!0?y():(p(),_.after(y))}),_.cancel}function N(t){var n=o(t);if(n){var i=e.isFunction(n.getElementsByClassName)?n.getElementsByClassName(b):n.querySelectorAll("."+b);f(i,function(t){t=e.element(t);var n=t.data(v);n&&n.active&&f(n.active,function(t){t.cancel()})})}}function P(t,e){if(u(t,_))w.disabled||(w.running=!1,w.structural=!1);else if(e){var n=t.data(v)||{},i=e===!0;!i&&n.active&&n.active[e]&&(n.totalActive--,delete n.active[e]),(i||!n.totalActive)&&(l.removeClass(t,b),t.removeData(v))}}function R(t,n){if(w.disabled)return!0;if(u(t,_))return w.running;var i,r,o;do{if(0===n.length)break;var a=u(n,_),s=a?w:n.data(v)||{};if(s.disabled)return!0;if(a&&(o=!0),i!==!1){var l=n.data(y);e.isDefined(l)&&(i=l)}r=r||s.running||s.last&&!s.last.isClassBased}while(n=n.parent());return!o||!i&&r}l=k,_.data(v,w);var L=$.$watch(function(){return E.totalPendingRequests},function(t){0===t&&(L(),$.$$postDigest(function(){$.$$postDigest(function(){w.running=!1})}))}),j=0,F=r.classNameFilter(),H=F?function(t){return F.test(t)}:function(){return!0};return{animate:function(t,e,n,i,r){return i=i||"ng-inline-animate",r=O(r)||{},r.from=n?e:null,r.to=n?n:e,T(function(e){return I("animate",i,s(t),null,null,c,r,e)})},enter:function(n,i,r,o){return o=O(o),n=e.element(n),i=a(i),r=a(r),S(n,!0),t.enter(n,i,r),T(function(t){return I("enter","ng-enter",s(n),i,r,c,o,t)})},leave:function(n,i){return i=O(i),n=e.element(n),N(n),S(n,!0),T(function(e){return I("leave","ng-leave",s(n),null,null,function(){t.leave(n)},i,e)})},move:function(n,i,r,o){return o=O(o),n=e.element(n),i=a(i),r=a(r),N(n),S(n,!0),t.move(n,i,r),T(function(t){return I("move","ng-move",s(n),i,r,c,o,t)})},addClass:function(t,e,n){return this.setClass(t,e,[],n)},removeClass:function(t,e,n){return this.setClass(t,[],e,n)},setClass:function(n,i,r,a){a=O(a);var u="$$animateClasses";if(n=e.element(n),n=s(n),S(n))return t.$$setClassImmediately(n,i,r,a);var l,c=n.data(u),h=!!c;return c||(c={},c.classes={}),l=c.classes,i=d(i)?i:i.split(" "),f(i,function(t){t&&t.length&&(l[t]=!0)}),r=d(r)?r:r.split(" "),f(r,function(t){t&&t.length&&(l[t]=!1)}),h?(a&&c.options&&(c.options=e.extend(c.options||{},a)),c.promise):(n.data(u,c={classes:l,options:a}),c.promise=T(function(e){var i=n.parent(),r=o(n),a=r.parentNode;if(!a||a.$$NG_REMOVED||r.$$NG_REMOVED)return void e();var s=n.data(u);n.removeData(u);var l=n.data(v)||{},c=M(n,s,l.active);return c?I("setClass",c,n,i,null,function(){c[0]&&t.$$addClassImmediately(n,c[0]),c[1]&&t.$$removeClassImmediately(n,c[1])},s.options,e):e()}))},cancel:function(t){t.$$cancelFn()},enabled:function(t,e){switch(arguments.length){case 2:if(t)P(e);else{var n=e.data(v)||{};n.disabled=!0,e.data(v,n)}break;case 1:w.disabled=!t;break;default:t=!w.disabled}return!!t}}}]),r.register("",["$window","$sniffer","$timeout","$$animateReflow",function(i,r,a,s){function u(){P||(P=s(function(){X=[],P=null,V={}}))}function h(t,e){P&&P(),X.push(e),P=s(function(){f(X,function(t){t()}),X=[],P=null,V={}})}function g(t,n){var i=o(t);t=e.element(i),Z.push(t);var r=Date.now()+n;G>=r||(a.cancel(K),G=r,K=a(function(){v(Z),Z=[]},n,!1))}function v(t){f(t,function(t){var e=t.data(q);e&&f(e.closeAnimationFns,function(t){t()})})}function y(t,e){var n=e?V[e]:null;if(!n){var r=0,o=0,a=0,s=0;f(t,function(t){if(t.nodeType==m){var e=i.getComputedStyle(t)||{},n=e[M+R];r=Math.max(b(n),r);var u=e[M+j];o=Math.max(b(u),o);{e[D+j]}s=Math.max(b(e[D+j]),s);var l=b(e[D+R]);l>0&&(l*=parseInt(e[D+F],10)||1),a=Math.max(l,a)}}),n={total:0,transitionDelay:o,transitionDuration:r,animationDelay:s,animationDuration:a},e&&(V[e]=n)}return n}function b(t){var e=0,n=p(t)?t.split(/\s*,\s*/):[];return f(n,function(t){e=Math.max(parseFloat(t)||0,e)}),e}function w(t){var e=t.parent(),n=e.data(z);return n||(e.data(z,++Y),n=Y),n+"-"+o(t).getAttribute("class")}function _(t,e,n,i){var r=["ng-enter","ng-leave","ng-move"].indexOf(n)>=0,a=w(e),s=a+" "+n,u=V[s]?++V[s].total:0,c={};if(u>0){var f=n+"-stagger",h=a+" "+f,d=!V[h];d&&l.addClass(e,f),c=y(e,h),d&&l.removeClass(e,f)}l.addClass(e,n);var p=e.data(q)||{},g=y(e,s),m=g.transitionDuration,v=g.animationDuration;if(r&&0===m&&0===v)return l.removeClass(e,n),!1;var b=i||r&&m>0,_=v>0&&c.animationDelay>0&&0===c.animationDuration,x=p.closeAnimationFns||[];e.data(q,{stagger:c,cacheKey:s,running:p.running||0,itemIndex:u,blockTransition:b,closeAnimationFns:x});var E=o(e);return b&&($(E,!0),i&&e.css(i)),_&&C(E,!0),!0}function x(t,e,n,i,r){function s(){e.off(j,u),l.removeClass(e,d),l.removeClass(e,p),R&&a.cancel(R),T(e,n);var t=o(e);for(var i in v)t.style.removeProperty(v[i])}function u(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||e.timeStamp||Date.now(),r=parseFloat(e.elapsedTime.toFixed(U));Math.max(n-L,0)>=D&&r>=O&&i()}var c=o(e),h=e.data(q);if(-1==c.getAttribute("class").indexOf(n)||!h)return void i();var d="",p="";f(n.split(" "),function(t,e){var n=(e>0?" ":"")+t;d+=n+"-active",p+=n+"-pending"});var m="",v=[],b=h.itemIndex,w=h.stagger,_=0;if(b>0){var x=0;w.transitionDelay>0&&0===w.transitionDuration&&(x=w.transitionDelay*b);var E=0;w.animationDelay>0&&0===w.animationDuration&&(E=w.animationDelay*b,v.push(N+"animation-play-state")),_=Math.round(100*Math.max(x,E))/100}_||(l.addClass(e,d),h.blockTransition&&$(c,!1));var k=h.cacheKey+" "+d,S=y(e,k),O=Math.max(S.transitionDuration,S.animationDuration);if(0===O)return l.removeClass(e,d),T(e,n),void i();!_&&r&&Object.keys(r).length>0&&(S.transitionDuration||(e.css("transition",S.animationDuration+"s linear all"),v.push("transition")),e.css(r));var M=Math.max(S.transitionDelay,S.animationDelay),D=M*B;if(v.length>0){var P=c.getAttribute("style")||"";";"!==P.charAt(P.length-1)&&(P+=";"),c.setAttribute("style",P+" "+m)}var R,L=Date.now(),j=I+" "+A,F=(M+O)*W,H=(_+F)*B;return _>0&&(l.addClass(e,p),R=a(function(){R=null,S.transitionDuration>0&&$(c,!1),S.animationDuration>0&&C(c,!1),l.addClass(e,d),l.removeClass(e,p),r&&(0===S.transitionDuration&&e.css("transition",S.animationDuration+"s linear all"),e.css(r),v.push("transition"))},_*B,!1)),e.on(j,u),h.closeAnimationFns.push(function(){s(),i()}),h.running++,g(e,H),s}function $(t,e){t.style[M+L]=e?"none":""}function C(t,e){t.style[D+H]=e?"paused":""}function E(t,e,n,i){return _(t,e,n,i)?function(t){t&&T(e,n)}:void 0}function k(t,e,n,i,r){return e.data(q)?x(t,e,n,i,r):(T(e,n),void i())}function S(t,e,n,i,r){var o=E(t,e,n,r.from);if(!o)return u(),void i();var a=o;return h(e,function(){a=k(t,e,n,i,r.to)}),function(t){(a||c)(t)}}function T(t,e){l.removeClass(t,e);var n=t.data(q);n&&(n.running&&n.running--,n.running&&0!==n.running||t.removeData(q))}function O(t,e){var n="";return t=d(t)?t:t.split(/\s+/),f(t,function(t,i){t&&t.length>0&&(n+=(i>0?" ":"")+t+e)}),n}var M,A,D,I,N="";t.ontransitionend===n&&t.onwebkittransitionend!==n?(N="-webkit-",M="WebkitTransition",A="webkitTransitionEnd transitionend"):(M="transition",A="transitionend"),t.onanimationend===n&&t.onwebkitanimationend!==n?(N="-webkit-",D="WebkitAnimation",I="webkitAnimationEnd animationend"):(D="animation",I="animationend");var P,R="Duration",L="Property",j="Delay",F="IterationCount",H="PlayState",z="$$ngAnimateKey",q="$$ngAnimateCSS3Data",U=3,W=1.5,B=1e3,V={},Y=0,X=[],K=null,G=0,Z=[];return{animate:function(t,e,n,i,r,o){return o=o||{},o.from=n,o.to=i,S("animate",t,e,r,o)},enter:function(t,e,n){return n=n||{},S("enter",t,"ng-enter",e,n)},leave:function(t,e,n){return n=n||{},S("leave",t,"ng-leave",e,n)},move:function(t,e,n){return n=n||{},S("move",t,"ng-move",e,n)},beforeSetClass:function(t,e,n,i,r){r=r||{};var o=O(n,"-remove")+" "+O(e,"-add"),a=E("setClass",t,o,r.from);return a?(h(t,i),a):(u(),void i())},beforeAddClass:function(t,e,n,i){i=i||{};var r=E("addClass",t,O(e,"-add"),i.from);return r?(h(t,n),r):(u(),void n())},beforeRemoveClass:function(t,e,n,i){i=i||{};var r=E("removeClass",t,O(e,"-remove"),i.from);return r?(h(t,n),r):(u(),void n())},setClass:function(t,e,n,i,r){r=r||{},n=O(n,"-remove"),e=O(e,"-add");var o=n+" "+e;return k("setClass",t,o,i,r.to)},addClass:function(t,e,n,i){return i=i||{},k("addClass",t,O(e,"-add"),n,i.to)},removeClass:function(t,e,n,i){return i=i||{},k("removeClass",t,O(e,"-remove"),n,i.to)}}}])}])}(window,window.angular),/**
 * @license AngularJS v1.3.16
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";e.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(t,i){function r(){var t,r,o,u;for(t in s)c(a[t])&&(i.cookies(t,n),delete s[t]);for(t in a)r=a[t],e.isString(r)||(r=""+r,a[t]=r),r!==s[t]&&(i.cookies(t,r),s[t]=r,u=!0);if(u){o=i.cookies();for(t in a)a[t]!==o[t]&&(c(o[t])?(delete a[t],delete s[t]):a[t]=s[t]=o[t])}}var o,a={},s={},u=!1,l=e.copy,c=e.isUndefined;return i.addPollFn(function(){var e=i.cookies();o!=e&&(o=e,l(e,s),l(e,a),u&&t.$apply())})(),u=!0,t.$watch(r),a}]).factory("$cookieStore",["$cookies",function(t){return{get:function(n){var i=t[n];return i?e.fromJson(i):i},put:function(n,i){t[n]=e.toJson(i)},remove:function(e){delete t[e]}}}])}(window,window.angular),/**
 * @license AngularJS v1.3.16
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e){"use strict";function n(t){return e.lowercase(t.nodeName||t[0]&&t[0].nodeName)}function i(t,n,i){r.directive(t,["$parse","$swipe",function(r,o){var a=75,s=.3,u=30;return function(l,c,f){function h(t){if(!d)return!1;var e=Math.abs(t.y-d.y),i=(t.x-d.x)*n;return p&&a>e&&i>0&&i>u&&s>e/i}var d,p,g=r(f[t]),m=["touch"];e.isDefined(f.ngSwipeDisableMouse)||m.push("mouse"),o.bind(c,{start:function(t){d=t,p=!0},cancel:function(){p=!1},end:function(t,e){h(t)&&l.$apply(function(){c.triggerHandler(i),g(l,{$event:e})})}},m)}}])}var r=e.module("ngTouch",[]);r.factory("$swipe",[function(){function t(t){var e=t.originalEvent||t,n=e.touches&&e.touches.length?e.touches:[e],i=e.changedTouches&&e.changedTouches[0]||n[0];return{x:i.clientX,y:i.clientY}}function n(t,n){var i=[];return e.forEach(t,function(t){var e=r[t][n];e&&i.push(e)}),i.join(" ")}var i=10,r={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(e,r,o){var a,s,u,l,c=!1;o=o||["mouse","touch"],e.on(n(o,"start"),function(e){u=t(e),c=!0,a=0,s=0,l=u,r.start&&r.start(u,e)});var f=n(o,"cancel");f&&e.on(f,function(t){c=!1,r.cancel&&r.cancel(t)}),e.on(n(o,"move"),function(e){if(c&&u){var n=t(e);if(a+=Math.abs(n.x-l.x),s+=Math.abs(n.y-l.y),l=n,!(i>a&&i>s))return s>a?(c=!1,void(r.cancel&&r.cancel(e))):(e.preventDefault(),void(r.move&&r.move(n,e)))}}),e.on(n(o,"end"),function(e){c&&(c=!1,r.end&&r.end(t(e),e))})}}}]),r.config(["$provide",function(t){t.decorator("ngClickDirective",["$delegate",function(t){return t.shift(),t}])}]),r.directive("ngClick",["$parse","$timeout","$rootElement",function(t,i,r){function o(t,e,n,i){return Math.abs(t-n)<m&&Math.abs(e-i)<m}function a(t,e,n){for(var i=0;i<t.length;i+=2)if(o(t[i],t[i+1],e,n))return t.splice(i,i+2),!0;return!1}function s(t){if(!(Date.now()-c>g)){var e=t.touches&&t.touches.length?t.touches:[t],i=e[0].clientX,r=e[0].clientY;1>i&&1>r||h&&h[0]===i&&h[1]===r||(h&&(h=null),"label"===n(t.target)&&(h=[i,r]),a(f,i,r)||(t.stopPropagation(),t.preventDefault(),t.target&&t.target.blur&&t.target.blur()))}}function u(t){var e=t.touches&&t.touches.length?t.touches:[t],n=e[0].clientX,r=e[0].clientY;f.push(n,r),i(function(){for(var t=0;t<f.length;t+=2)if(f[t]==n&&f[t+1]==r)return void f.splice(t,t+2)},g,!1)}function l(t,e){f||(r[0].addEventListener("click",s,!0),r[0].addEventListener("touchstart",u,!0),f=[]),c=Date.now(),a(f,t,e)}var c,f,h,d=750,p=12,g=2500,m=25,v="ng-click-active";return function(n,i,r){function o(){h=!1,i.removeClass(v)}var a,s,u,c,f=t(r.ngClick),h=!1;i.on("touchstart",function(t){h=!0,a=t.target?t.target:t.srcElement,3==a.nodeType&&(a=a.parentNode),i.addClass(v),s=Date.now();var e=t.originalEvent||t,n=e.touches&&e.touches.length?e.touches:[e],r=n[0];u=r.clientX,c=r.clientY}),i.on("touchmove",function(){o()}),i.on("touchcancel",function(){o()}),i.on("touchend",function(t){var n=Date.now()-s,f=t.originalEvent||t,g=f.changedTouches&&f.changedTouches.length?f.changedTouches:f.touches&&f.touches.length?f.touches:[f],m=g[0],v=m.clientX,y=m.clientY,b=Math.sqrt(Math.pow(v-u,2)+Math.pow(y-c,2));h&&d>n&&p>b&&(l(v,y),a&&a.blur(),e.isDefined(r.disabled)&&r.disabled!==!1||i.triggerHandler("click",[t])),o()}),i.onclick=function(){},i.on("click",function(t,e){n.$apply(function(){f(n,{$event:e||t})})}),i.on("mousedown",function(){i.addClass(v)}),i.on("mousemove mouseup",function(){i.removeClass(v)})}}]),i("ngSwipeLeft",-1,"swipeleft"),i("ngSwipeRight",1,"swiperight")}(window,window.angular),/**
 * @license AngularJS v1.3.16
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e){"use strict";/*
 * HTML Parser By Misko Hevery (misko@hevery.com)
 * based on:  HTML Parser By John Resig (ejohn.org)
 * Original code by Erik Arvidsson, Mozilla Public License
 * http://erik.eae.net/simplehtmlparser/simplehtmlparser.js
 *
 * // Use like so:
 * htmlParser(htmlString, {
 *     start: function(tag, attrs, unary) {},
 *     end: function(tag) {},
 *     chars: function(text) {},
 *     comment: function(text) {}
 * });
 *
 */
function n(){this.$get=["$$sanitizeUri",function(t){return function(e){var n=[];return o(e,u(n,function(e,n){return!/^unsafe/.test(t(e,n))})),n.join("")}}]}function i(t){var n=[],i=u(n,e.noop);return i.chars(t),n.join("")}function r(t){var e,n={},i=t.split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}function o(t,n){function i(t,i,o,s){if(i=e.lowercase(i),C[i])for(;b.last()&&E[b.last()];)r("",b.last());$[i]&&b.last()==i&&r("",i),s=w[i]||!!s,s||b.push(i);var u={};o.replace(h,function(t,e,n,i,r){var o=n||i||r||"";u[e]=a(o)}),n.start&&n.start(i,u,s)}function r(t,i){var r,o=0;if(i=e.lowercase(i))for(o=b.length-1;o>=0&&b[o]!=i;o--);if(o>=0){for(r=b.length-1;r>=o;r--)n.end&&n.end(b[r]);b.length=o}}"string"!=typeof t&&(t=null===t||"undefined"==typeof t?"":""+t);var o,s,u,y,b=[],_=t;for(b.last=function(){return b[b.length-1]};t;){if(y="",s=!0,b.last()&&S[b.last()]?(t=t.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+b.last()+"[^>]*>","i"),function(t,e){return e=e.replace(g,"$1").replace(v,"$1"),n.chars&&n.chars(a(e)),""}),r("",b.last())):(0===t.indexOf("<!--")?(o=t.indexOf("--",4),o>=0&&t.lastIndexOf("-->",o)===o&&(n.comment&&n.comment(t.substring(4,o)),t=t.substring(o+3),s=!1)):m.test(t)?(u=t.match(m),u&&(t=t.replace(u[0],""),s=!1)):p.test(t)?(u=t.match(f),u&&(t=t.substring(u[0].length),u[0].replace(f,r),s=!1)):d.test(t)&&(u=t.match(c),u?(u[4]&&(t=t.substring(u[0].length),u[0].replace(c,i)),s=!1):(y+="<",t=t.substring(1))),s&&(o=t.indexOf("<"),y+=0>o?t:t.substring(0,o),t=0>o?"":t.substring(o),n.chars&&n.chars(a(y)))),t==_)throw l("badparse","The sanitizer was unable to parse the following block of html: {0}",t);_=t}r()}function a(t){return t?(I.innerHTML=t.replace(/</g,"&lt;"),I.textContent):""}function s(t){return t.replace(/&/g,"&amp;").replace(y,function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return"&#"+(1024*(e-55296)+(n-56320)+65536)+";"}).replace(b,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(t,n){var i=!1,r=e.bind(t,t.push);return{start:function(t,o,a){t=e.lowercase(t),!i&&S[t]&&(i=t),i||T[t]!==!0||(r("<"),r(t),e.forEach(o,function(i,o){var a=e.lowercase(o),u="img"===t&&"src"===a||"background"===a;D[a]!==!0||O[a]===!0&&!n(i,u)||(r(" "),r(o),r('="'),r(s(i)),r('"'))}),r(a?"/>":">"))},end:function(t){t=e.lowercase(t),i||T[t]!==!0||(r("</"),r(t),r(">")),t==i&&(i=!1)},chars:function(t){i||r(s(t))}}}var l=e.$$minErr("$sanitize"),c=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,f=/^<\/\s*([\w:-]+)[^>]*>/,h=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,d=/^</,p=/^<\//,g=/<!--(.*?)-->/g,m=/<!DOCTYPE([^>]*?)>/i,v=/<!\[CDATA\[(.*?)]]>/g,y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/([^\#-~| |!])/g,w=r("area,br,col,hr,img,wbr"),_=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),x=r("rp,rt"),$=e.extend({},x,_),C=e.extend({},_,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),E=e.extend({},x,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),k=r("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),S=r("script,style"),T=e.extend({},w,C,E,$,k),O=r("background,cite,href,longdesc,src,usemap,xlink:href"),M=r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),A=r("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),D=e.extend({},O,A,M),I=document.createElement("pre");e.module("ngSanitize",[]).provider("$sanitize",n),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/,r=/^mailto:/;return function(o,a){function s(t){t&&d.push(i(t))}function u(t,n){d.push("<a "),e.isDefined(a)&&d.push('target="',a,'" '),d.push('href="',t.replace(/"/g,"&quot;"),'">'),s(n),d.push("</a>")}if(!o)return o;for(var l,c,f,h=o,d=[];l=h.match(n);)c=l[0],l[2]||l[4]||(c=(l[3]?"http://":"mailto:")+c),f=l.index,s(h.substr(0,f)),u(c,l[0].replace(r,"")),h=h.substring(f+l[0].length);return s(h),t(d.join(""))}}])}(window,window.angular),/**
 * State-based routing for AngularJS
 * @version v0.2.15
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(t,e,n){"use strict";function i(t,e){return F(new(F(function(){},{prototype:t})),e)}function r(t){return j(arguments,function(e){e!==t&&j(e,function(e,n){t.hasOwnProperty(n)||(t[n]=e)})}),t}function o(t,e){var n=[];for(var i in t.path){if(t.path[i]!==e.path[i])break;n.push(t.path[i])}return n}function a(t){if(Object.keys)return Object.keys(t);var e=[];return j(t,function(t,n){e.push(n)}),e}function s(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var n=t.length>>>0,i=Number(arguments[2])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=n);n>i;i++)if(i in t&&t[i]===e)return i;return-1}function u(t,e,n,i){var r,u=o(n,i),l={},c=[];for(var f in u)if(u[f].params&&(r=a(u[f].params),r.length))for(var h in r)s(c,r[h])>=0||(c.push(r[h]),l[r[h]]=t[r[h]]);return F({},l,e)}function l(t,e,n){if(!n){n=[];for(var i in t)n.push(i)}for(var r=0;r<n.length;r++){var o=n[r];if(t[o]!=e[o])return!1}return!0}function c(t,e){var n={};return j(t,function(t){n[t]=e[t]}),n}function f(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return j(n,function(n){n in t&&(e[n]=t[n])}),e}function h(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in t)-1==s(n,i)&&(e[i]=t[i]);return e}function d(t,e){var n=L(t),i=n?[]:{};return j(t,function(t,r){e(t,r)&&(i[n?i.length:r]=t)}),i}function p(t,e){var n=L(t)?[]:{};return j(t,function(t,i){n[i]=e(t,i)}),n}function g(t,e){var i=1,o=2,u={},l=[],c=u,f=F(t.when(u),{$$promises:u,$$values:u});this.study=function(u){function d(t,n){if(y[n]!==o){if(v.push(n),y[n]===i)throw v.splice(0,s(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(y[n]=i,P(t))m.push(n,[function(){return e.get(t)}],l);else{var r=e.annotate(t);j(r,function(t){t!==n&&u.hasOwnProperty(t)&&d(u[t],t)}),m.push(n,t,r)}v.pop(),y[n]=o}}function p(t){return R(t)&&t.then&&t.$$promises}if(!R(u))throw new Error("'invocables' must be an object");var g=a(u||{}),m=[],v=[],y={};return j(u,d),u=v=y=null,function(i,o,a){function s(){--w||(_||r(b,o.$$values),v.$$values=b,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,d.resolve(b))}function u(t){v.$$failure=t,d.reject(t)}function l(n,r,o){function l(t){f.reject(t),u(t)}function c(){if(!I(v.$$failure))try{f.resolve(e.invoke(r,a,b)),f.promise.then(function(t){b[n]=t,s()},l)}catch(t){l(t)}}var f=t.defer(),h=0;j(o,function(t){y.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(h++,y[t].then(function(e){b[t]=e,--h||c()},l))}),h||c(),y[n]=f.promise}if(p(i)&&a===n&&(a=o,o=i,i=null),i){if(!R(i))throw new Error("'locals' must be an object")}else i=c;if(o){if(!p(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=f;var d=t.defer(),v=d.promise,y=v.$$promises={},b=F({},i),w=1+m.length/3,_=!1;if(I(o.$$failure))return u(o.$$failure),v;o.$$inheritedValues&&r(b,h(o.$$inheritedValues,g)),F(y,o.$$promises),o.$$values?(_=r(b,h(o.$$values,g)),v.$$inheritedValues=h(o.$$values,g),s()):(o.$$inheritedValues&&(v.$$inheritedValues=h(o.$$inheritedValues,g)),o.then(s,u));for(var x=0,$=m.length;$>x;x+=3)i.hasOwnProperty(m[x])?s():l(m[x],m[x+1],m[x+2]);return v}},this.resolve=function(t,e,n,i){return this.study(t)(e,n,i)}}function m(t,e,n){this.fromConfig=function(t,e,n){return I(t.template)?this.fromString(t.template,e):I(t.templateUrl)?this.fromUrl(t.templateUrl,e):I(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},this.fromString=function(t,e){return N(t)?t(e):t},this.fromUrl=function(n,i){return N(n)&&(n=n(i)),null==n?null:t.get(n,{cache:e,headers:{Accept:"text/html"}}).then(function(t){return t.data})},this.fromProvider=function(t,e,i){return n.invoke(t,null,i||{params:e})}}function v(t,e,r){function o(e,n,i,r){if(m.push(e),p[e])return p[e];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+t+"'");if(g[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+t+"'");return g[e]=new z.Param(e,n,i,r),g[e]}function a(t,e,n,i){var r=["",""],o=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return o;switch(n){case!1:r=["(",")"+(i?"?":"")];break;case!0:r=["?(",")?"];break;default:r=["("+n+"|",")?"]}return o+r[0]+e+r[1]}function s(r,o){var a,s,u,l,c;return a=r[2]||r[3],c=e.params[a],u=t.substring(h,r.index),s=o?r[4]:r[4]||("*"==r[1]?".*":null),l=z.type(s||"string")||i(z.type("string"),{pattern:new RegExp(s,e.caseInsensitive?"i":n)}),{id:a,regexp:s,segment:u,type:l,cfg:c}}e=F({params:{}},R(e)?e:{});var u,l=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f="^",h=0,d=this.segments=[],p=r?r.params:{},g=this.params=r?r.params.$$new():new z.ParamSet,m=[];this.source=t;for(var v,y,b;(u=l.exec(t))&&(v=s(u,!1),!(v.segment.indexOf("?")>=0));)y=o(v.id,v.type,v.cfg,"path"),f+=a(v.segment,y.type.pattern.source,y.squash,y.isOptional),d.push(v.segment),h=l.lastIndex;b=t.substring(h);var w=b.indexOf("?");if(w>=0){var _=this.sourceSearch=b.substring(w);if(b=b.substring(0,w),this.sourcePath=t.substring(0,h+w),_.length>0)for(h=0;u=c.exec(_);)v=s(u,!0),y=o(v.id,v.type,v.cfg,"search"),h=l.lastIndex}else this.sourcePath=t,this.sourceSearch="";f+=a(b)+(e.strict===!1?"/?":"")+"$",d.push(b),this.regexp=new RegExp(f,e.caseInsensitive?"i":n),this.prefix=d[0],this.$$paramNames=m}function y(t){F(this,t)}function b(){function t(t){return null!=t?t.toString().replace(/\//g,"%2F"):t}function r(t){return null!=t?t.toString().replace(/%2F/g,"/"):t}function o(){return{strict:g,caseInsensitive:h}}function u(t){return N(t)||L(t)&&N(t[t.length-1])}function l(){for(;x.length;){var t=x.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");e.extend(w[t.name],f.invoke(t.def))}}function c(t){F(this,t||{})}z=this;var f,h=!1,g=!0,m=!1,w={},_=!0,x=[],$={string:{encode:t,decode:r,is:function(t){return null==t||!I(t)||"string"==typeof t},pattern:/[^/]*/},"int":{encode:t,decode:function(t){return parseInt(t,10)},is:function(t){return I(t)&&this.decode(t.toString())===t},pattern:/\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:function(t){return t===!0||t===!1},pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):n},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):n},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return this.is(t)&&this.is(e)&&t.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:e.toJson,decode:e.fromJson,is:e.isObject,equals:e.equals,pattern:/[^/]*/},any:{encode:e.identity,decode:e.identity,equals:e.equals,pattern:/.*/}};b.$$getDefaultValue=function(t){if(!u(t.value))return t.value;if(!f)throw new Error("Injectable functions cannot be called at configuration time");return f.invoke(t.value)},this.caseInsensitive=function(t){return I(t)&&(h=t),h},this.strictMode=function(t){return I(t)&&(g=t),g},this.defaultSquashPolicy=function(t){if(!I(t))return m;if(t!==!0&&t!==!1&&!P(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return m=t,t},this.compile=function(t,e){return new v(t,F(o(),e))},this.isMatcher=function(t){if(!R(t))return!1;var e=!0;return j(v.prototype,function(n,i){N(n)&&(e=e&&I(t[i])&&N(t[i]))}),e},this.type=function(t,e,n){if(!I(e))return w[t];if(w.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return w[t]=new y(F({name:t},e)),n&&(x.push({name:t,def:n}),_||l()),this},j($,function(t,e){w[e]=new y(F({name:e},t))}),w=i(w,{}),this.$get=["$injector",function(t){return f=t,_=!1,l(),j($,function(t,e){w[e]||(w[e]=new y(t))}),this}],this.Param=function(t,e,i,r){function o(t){var e=R(t)?a(t):[],n=-1===s(e,"value")&&-1===s(e,"type")&&-1===s(e,"squash")&&-1===s(e,"array");return n&&(t={value:t}),t.$$fn=u(t.value)?t.value:function(){return t.value},t}function l(e,n,i){if(e.type&&n)throw new Error("Param '"+t+"' has two type configurations.");return n?n:e.type?e.type instanceof y?e.type:new y(e.type):"config"===i?w.any:w.string}function c(){var e={array:"search"===r?"auto":!1},n=t.match(/\[\]$/)?{array:!0}:{};return F(e,n,i).array}function h(t,e){var n=t.squash;if(!e||n===!1)return!1;if(!I(n)||null==n)return m;if(n===!0||P(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function g(t,e,i,r){var o,a,u=[{from:"",to:i||e?n:""},{from:null,to:i||e?n:""}];return o=L(t.replace)?t.replace:[],P(r)&&o.push({from:r,to:n}),a=p(o,function(t){return t.from}),d(u,function(t){return-1===s(a,t.from)}).concat(o)}function v(){if(!f)throw new Error("Injectable functions cannot be called at configuration time");var t=f.invoke(i.$$fn);if(null!==t&&t!==n&&!x.type.is(t))throw new Error("Default value ("+t+") for parameter '"+x.id+"' is not an instance of Type ("+x.type.name+")");return t}function b(t){function e(t){return function(e){return e.from===t}}function n(t){var n=p(d(x.replace,e(t)),function(t){return t.to});return n.length?n[0]:t}return t=n(t),I(t)?x.type.$normalize(t):v()}function _(){return"{Param:"+t+" "+e+" squash: '"+E+"' optional: "+C+"}"}var x=this;i=o(i),e=l(i,e,r);var $=c();e=$?e.$asArray($,"search"===r):e,"string"!==e.name||$||"path"!==r||i.value!==n||(i.value="");var C=i.value!==n,E=h(i,C),k=g(i,$,C,E);F(this,{id:t,type:e,location:r,array:$,squash:E,replace:k,isOptional:C,value:b,dynamic:n,config:i,toString:_})},c.prototype={$$new:function(){return i(this,F(new c,{$$parent:this}))},$$keys:function(){for(var t=[],e=[],n=this,i=a(c.prototype);n;)e.push(n),n=n.$$parent;return e.reverse(),j(e,function(e){j(a(e),function(e){-1===s(t,e)&&-1===s(i,e)&&t.push(e)})}),t},$$values:function(t){var e={},n=this;return j(n.$$keys(),function(i){e[i]=n[i].value(t&&t[i])}),e},$$equals:function(t,e){var n=!0,i=this;return j(i.$$keys(),function(r){var o=t&&t[r],a=e&&e[r];i[r].type.equals(o,a)||(n=!1)}),n},$$validates:function(t){var i,r,o,a,s,u=this.$$keys();for(i=0;i<u.length&&(r=this[u[i]],o=t[u[i]],o!==n&&null!==o||!r.isOptional);i++){if(a=r.type.$normalize(o),!r.type.is(a))return!1;if(s=r.type.encode(a),e.isString(s)&&!r.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=c}function w(t,i){function r(t){var e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source);return null!=e?e[1].replace(/\\(.)/g,"$1"):""}function o(t,e){return t.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})}function a(t,e,n){if(!n)return!1;var i=t.invoke(e,e,{$match:n});return I(i)?i:!0}function s(i,r,o,a){function s(t,e,n){return"/"===g?t:e?g.slice(0,-1)+t:n?g.slice(1)+t:t}function h(t){function e(t){var e=t(o,i);return e?(P(e)&&i.replace().url(e),!0):!1}if(!t||!t.defaultPrevented){{p&&i.url()===p}p=n;var r,a=l.length;for(r=0;a>r;r++)if(e(l[r]))return;c&&e(c)}}function d(){return u=u||r.$on("$locationChangeSuccess",h)}var p,g=a.baseHref(),m=i.url();return f||d(),{sync:function(){h()},listen:function(){return d()},update:function(t){return t?void(m=i.url()):void(i.url()!==m&&(i.url(m),i.replace()))},push:function(t,e,r){var o=t.format(e||{});null!==o&&e&&e["#"]&&(o+="#"+e["#"]),i.url(o),p=r&&r.$$avoidResync?i.url():n,r&&r.replace&&i.replace()},href:function(n,r,o){if(!n.validates(r))return null;var a=t.html5Mode();e.isObject(a)&&(a=a.enabled);var u=n.format(r);if(o=o||{},a||null===u||(u="#"+t.hashPrefix()+u),null!==u&&r&&r["#"]&&(u+="#"+r["#"]),u=s(u,a,o.absolute),!o.absolute||!u)return u;var l=!a&&u?"/":"",c=i.port();return c=80===c||443===c?"":":"+c,[i.protocol(),"://",i.host(),c,l,u].join("")}}}var u,l=[],c=null,f=!1;this.rule=function(t){if(!N(t))throw new Error("'rule' must be a function");return l.push(t),this},this.otherwise=function(t){if(P(t)){var e=t;t=function(){return e}}else if(!N(t))throw new Error("'rule' must be a function");return c=t,this},this.when=function(t,e){var n,s=P(e);if(P(t)&&(t=i.compile(t)),!s&&!N(e)&&!L(e))throw new Error("invalid 'handler' in when()");var u={matcher:function(t,e){return s&&(n=i.compile(e),e=["$match",function(t){return n.format(t)}]),F(function(n,i){return a(n,e,t.exec(i.path(),i.search()))},{prefix:P(t.prefix)?t.prefix:""})},regex:function(t,e){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=e,e=["$match",function(t){return o(n,t)}]),F(function(n,i){return a(n,e,t.exec(i.path()))},{prefix:r(t)})}},l={matcher:i.isMatcher(t),regex:t instanceof RegExp};for(var c in l)if(l[c])return this.rule(u[c](t,e));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){t===n&&(t=!0),f=t},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser"]}function _(t,r){function o(t){return 0===t.indexOf(".")||0===t.indexOf("^")}function h(t,e){if(!t)return n;var i=P(t),r=i?t:t.name,a=o(r);if(a){if(!e)throw new Error("No reference point given for path '"+r+"'");e=h(e);for(var s=r.split("."),u=0,l=s.length,c=e;l>u;u++)if(""!==s[u]||0!==u){if("^"!==s[u])break;if(!c.parent)throw new Error("Path '"+r+"' not valid for state '"+e.name+"'");c=c.parent}else c=e;s=s.slice(u).join("."),r=c.name+(c.name&&s?".":"")+s}var f=E[r];return!f||!i&&(i||f!==t&&f.self!==t)?n:f}function d(t,e){k[t]||(k[t]=[]),k[t].push(e)}function g(t){for(var e=k[t]||[];e.length;)m(e.shift())}function m(e){e=i(e,{self:e,resolve:e.resolve||{},toString:function(){return this.name}});var n=e.name;if(!P(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(E.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var r=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):P(e.parent)?e.parent:R(e.parent)&&P(e.parent.name)?e.parent.name:"";if(r&&!E[r])return d(r,e.self);for(var o in T)N(T[o])&&(e[o]=T[o](e,T.$delegates[o]));return E[n]=e,!e[S]&&e.url&&t.when(e.url,["$match","$stateParams",function(t,n){C.$current.navigable==e&&l(t,n)||C.transitionTo(e,t,{inherit:!0,location:!1})}]),g(n),e}function v(t){return t.indexOf("*")>-1}function y(t){for(var e=t.split("."),n=C.$current.name.split("."),i=0,r=e.length;r>i;i++)"*"===e[i]&&(n[i]="*");return"**"===e[0]&&(n=n.slice(s(n,e[1])),n.unshift("**")),"**"===e[e.length-1]&&(n.splice(s(n,e[e.length-2])+1,Number.MAX_VALUE),n.push("**")),e.length!=n.length?!1:n.join("")===e.join("")}function b(t,e){return P(t)&&!I(e)?T[t]:N(e)&&P(t)?(T[t]&&!T.$delegates[t]&&(T.$delegates[t]=T[t]),T[t]=e,this):this}function w(t,e){return R(t)?e=t:e.name=t,m(e),this}function _(t,r,o,s,f,d,g){function m(e,n,i,o){var a=t.$broadcast("$stateNotFound",e,n,i);if(a.defaultPrevented)return g.update(),k;if(!a.retry)return null;if(o.$retry)return g.update(),T;var s=C.transition=r.when(a.retry);return s.then(function(){return s!==C.transition?w:(e.options.$retry=!0,C.transitionTo(e.to,e.toParams,e.options))},function(){return k}),g.update(),s}function b(t,n,i,a,u,l){function h(){var n=[];return j(t.views,function(i,r){var a=i.resolve&&i.resolve!==t.resolve?i.resolve:{};a.$template=[function(){return o.load(r,{view:i,locals:u.globals,params:d,notify:l.notify})||""}],n.push(f.resolve(a,u.globals,u.resolve,t).then(function(n){if(N(i.controllerProvider)||L(i.controllerProvider)){var o=e.extend({},a,u.globals);n.$$controller=s.invoke(i.controllerProvider,null,o)}else n.$$controller=i.controller;n.$$state=t,n.$$controllerAs=i.controllerAs,u[r]=n}))}),r.all(n).then(function(){return u.globals})}var d=i?n:c(t.params.$$keys(),n),p={$stateParams:d};u.resolve=f.resolve(t.resolve,p,u.resolve,t);var g=[u.resolve.then(function(t){u.globals=t})];return a&&g.push(a),r.all(g).then(h).then(function(){return u})}var w=r.reject(new Error("transition superseded")),_=r.reject(new Error("transition prevented")),k=r.reject(new Error("transition aborted")),T=r.reject(new Error("transition failed"));return $.locals={resolve:null,globals:{$stateParams:{}}},C={params:{},current:$.self,$current:$,transition:null},C.reload=function(t){return C.transitionTo(C.current,d,{reload:t||!0,inherit:!1,notify:!0})},C.go=function(t,e,n){return C.transitionTo(t,e,F({inherit:!0,relative:C.$current},n))},C.transitionTo=function(e,n,o){n=n||{},o=F({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,l=C.$current,f=C.params,p=l.path,v=h(e,o.relative),y=n["#"];if(!I(v)){var E={to:e,toParams:n,options:o},k=m(E,l.self,f,o);if(k)return k;if(e=E.to,n=E.toParams,o=E.options,v=h(e,o.relative),!I(v)){if(!o.relative)throw new Error("No such state '"+e+"'");throw new Error("Could not resolve '"+e+"' from state '"+o.relative+"'")}}if(v[S])throw new Error("Cannot transition to abstract state '"+e+"'");if(o.inherit&&(n=u(d,n||{},C.$current,v)),!v.params.$$validates(n))return T;n=v.params.$$values(n),e=v;var O=e.path,M=0,A=O[M],D=$.locals,N=[];if(o.reload){if(P(o.reload)||R(o.reload)){if(R(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var L=o.reload===!0?p[0]:h(o.reload);if(o.reload&&!L)throw new Error("No such reload state '"+(P(o.reload)?o.reload:o.reload.name)+"'");for(;A&&A===p[M]&&A!==L;)D=N[M]=A.locals,M++,A=O[M]}}else for(;A&&A===p[M]&&A.ownParams.$$equals(n,f);)D=N[M]=A.locals,M++,A=O[M];if(x(e,n,l,f,D,o))return y&&(n["#"]=y),C.params=n,H(C.params,d),o.location&&e.navigable&&e.navigable.url&&(g.push(e.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),g.update(!0)),C.transition=null,r.when(C.current);if(n=c(e.params.$$keys(),n||{}),o.notify&&t.$broadcast("$stateChangeStart",e.self,n,l.self,f).defaultPrevented)return t.$broadcast("$stateChangeCancel",e.self,n,l.self,f),g.update(),_;for(var j=r.when(D),z=M;z<O.length;z++,A=O[z])D=N[z]=i(D),j=b(A,n,A===e,j,D,o);var q=C.transition=j.then(function(){var i,r,a;if(C.transition!==q)return w;for(i=p.length-1;i>=M;i--)a=p[i],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(i=M;i<O.length;i++)r=O[i],r.locals=N[i],r.self.onEnter&&s.invoke(r.self.onEnter,r.self,r.locals.globals);return y&&(n["#"]=y),C.transition!==q?w:(C.$current=e,C.current=e.self,C.params=n,H(C.params,d),C.transition=null,o.location&&e.navigable&&g.push(e.navigable.url,e.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&t.$broadcast("$stateChangeSuccess",e.self,n,l.self,f),g.update(!0),C.current)},function(i){return C.transition!==q?w:(C.transition=null,a=t.$broadcast("$stateChangeError",e.self,n,l.self,f,i),a.defaultPrevented||g.update(),r.reject(i))});return q},C.is=function(t,e,i){i=F({relative:C.$current},i||{});var r=h(t,i.relative);return I(r)?C.$current!==r?!1:e?l(r.params.$$values(e),d):!0:n},C.includes=function(t,e,i){if(i=F({relative:C.$current},i||{}),P(t)&&v(t)){if(!y(t))return!1;t=C.$current.name}var r=h(t,i.relative);return I(r)?I(C.$current.includes[r.name])?e?l(r.params.$$values(e),d,a(e)):!0:!1:n},C.href=function(t,e,i){i=F({lossy:!0,inherit:!0,absolute:!1,relative:C.$current},i||{});var r=h(t,i.relative);if(!I(r))return null;i.inherit&&(e=u(d,e||{},C.$current,r));var o=r&&i.lossy?r.navigable:r;return o&&o.url!==n&&null!==o.url?g.href(o.url,c(r.params.$$keys().concat("#"),e||{}),{absolute:i.absolute}):null},C.get=function(t,e){if(0===arguments.length)return p(a(E),function(t){return E[t].self});var n=h(t,e||C.$current);return n&&n.self?n.self:null},C}function x(t,e,n,i,r,o){function a(t,e,n){function i(e){return"search"!=t.params[e].location}var r=t.params.$$keys().filter(i),o=f.apply({},[t.params].concat(r)),a=new z.ParamSet(o);return a.$$equals(e,n)}return!o.reload&&t===n&&(r===n.locals||t.self.reloadOnSearch===!1&&a(n,i,e))?!0:void 0}var $,C,E={},k={},S="abstract",T={parent:function(t){if(I(t.parent)&&t.parent)return h(t.parent);var e=/^(.+)\.[^.]+$/.exec(t.name);return e?h(e[1]):$},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=F({},t.parent.data,t.data)),t.data},url:function(t){var e=t.url,n={params:t.params||{}};if(P(e))return"^"==e.charAt(0)?r.compile(e.substring(1),n):(t.parent.navigable||$).url.concat(e,n);if(!e||r.isMatcher(e))return e;throw new Error("Invalid url '"+e+"' in state '"+t+"'")},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},ownParams:function(t){var e=t.url&&t.url.params||new z.ParamSet;return j(t.params||{},function(t,n){e[n]||(e[n]=new z.Param(n,null,t,"config"))}),e},params:function(t){return t.parent&&t.parent.params?F(t.parent.params.$$new(),t.ownParams):new z.ParamSet},views:function(t){var e={};return j(I(t.views)?t.views:{"":t},function(n,i){i.indexOf("@")<0&&(i+="@"+t.parent.name),e[i]=n}),e},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var e=t.parent?F({},t.parent.includes):{};return e[t.name]=!0,e},$delegates:{}};$=m({name:"",url:"^",views:null,"abstract":!0}),$.navigable=null,this.decorator=b,this.state=w,this.$get=_,_.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function x(){function t(t,e){return{load:function(n,i){var r,o={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return i=F(o,i),i.view&&(r=e.fromConfig(i.view,i.params,i.locals)),r&&i.notify&&t.$broadcast("$viewContentLoading",i),r}}}this.$get=t,t.$inject=["$rootScope","$templateFactory"]}function $(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){return n(function(){t[0].scrollIntoView()},0,!1)}}]}function C(t,n,i,r){function o(){return n.has?function(t){return n.has(t)?n.get(t):null}:function(t){try{return n.get(t)}catch(e){return null}}}function a(t,e){var n=function(){return{enter:function(t,e,n){e.after(t),n()},leave:function(t,e){t.remove(),e()}}};if(l)return{enter:function(t,e,n){var i=l.enter(t,null,e,n);i&&i.then&&i.then(n)},leave:function(t,e){var n=l.leave(t,e);n&&n.then&&n.then(e)}};if(u){var i=u&&u(e,t);return{enter:function(t,e,n){i.enter(t,null,e),n()},leave:function(t,e){i.leave(t),e()}}}return n()}var s=o(),u=s("$animator"),l=s("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,o,s){return function(n,o,u){function l(){f&&(f.remove(),f=null),d&&(d.$destroy(),d=null),h&&(v.leave(h,function(){f=null}),f=h,h=null)}function c(a){var c,f=k(n,u,o,r),y=f&&t.$current&&t.$current.locals[f];if(a||y!==p){c=n.$new(),p=t.$current.locals[f];var b=s(c,function(t){v.enter(t,o,function(){d&&d.$emit("$viewContentAnimationEnded"),(e.isDefined(m)&&!m||n.$eval(m))&&i(t)}),l()});h=b,d=c,d.$emit("$viewContentLoaded"),d.$eval(g)}}var f,h,d,p,g=u.onload||"",m=u.autoscroll,v=a(u,n);n.$on("$stateChangeSuccess",function(){c(!1)}),n.$on("$viewContentLoading",function(){c(!1)}),c(!0)}}};return c}function E(t,e,n,i){return{restrict:"ECA",priority:-400,compile:function(r){var o=r.html();return function(r,a,s){var u=n.$current,l=k(r,s,a,i),c=u&&u.locals[l];if(c){a.data("$uiView",{name:l,state:c.$$state}),a.html(c.$template?c.$template:o);var f=t(a.contents());if(c.$$controller){c.$scope=r,c.$element=a;var h=e(c.$$controller,c);c.$$controllerAs&&(r[c.$$controllerAs]=h),a.data("$ngControllerController",h),a.children().data("$ngControllerController",h)}f(r)}}}}}function k(t,e,n,i){var r=i(e.uiView||e.name||"")(t),o=n.inheritedData("$uiView");return r.indexOf("@")>=0?r:r+"@"+(o?o.state.name:"")}function S(t,e){var n,i=t.match(/^\s*({[^}]*})\s*$/);if(i&&(t=e+"("+i[1]+")"),n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function T(t){var e=t.parent().inheritedData("$uiView");return e&&e.state&&e.state.name?e.state:void 0}function O(t,n){var i=["location","inherit","reload","absolute"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,o,a,s){var u=S(a.uiSref,t.current.name),l=null,c=T(o)||t.$current,f="[object SVGAnimatedString]"===Object.prototype.toString.call(o.prop("href"))?"xlink:href":"href",h=null,d="A"===o.prop("tagName").toUpperCase(),p="FORM"===o[0].nodeName,g=p?"action":f,m=!0,v={relative:c,inherit:!0},y=r.$eval(a.uiSrefOpts)||{};e.forEach(i,function(t){t in y&&(v[t]=y[t])});var b=function(n){if(n&&(l=e.copy(n)),m){h=t.href(u.state,l,v);var i=s[1]||s[0];return i&&i.$$addStateInfo(u.state,l),null===h?(m=!1,!1):void a.$set(g,h)}};u.paramExpr&&(r.$watch(u.paramExpr,function(t){t!==l&&b(t)},!0),l=e.copy(r.$eval(u.paramExpr))),b(),p||o.bind("click",function(e){var i=e.which||e.button;if(!(i>1||e.ctrlKey||e.metaKey||e.shiftKey||o.attr("target"))){var r=n(function(){t.go(u.state,l,v)});e.preventDefault();var a=d&&!h?1:0;e.preventDefault=function(){a--<=0&&n.cancel(r)}}})}}}function M(t,e,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(e,i,r){function o(){a()?i.addClass(u):i.removeClass(u)}function a(){for(var t=0;t<l.length;t++)if(s(l[t].state,l[t].params))return!0;return!1}function s(e,n){return"undefined"!=typeof r.uiSrefActiveEq?t.is(e.name,n):t.includes(e.name,n)}var u,l=[];u=n(r.uiSrefActiveEq||r.uiSrefActive||"",!1)(e),this.$$addStateInfo=function(e,n){var r=t.get(e,T(i));l.push({state:r||{name:e},params:n}),o()},e.$on("$stateChangeSuccess",o)}]}}function A(t){var e=function(e){return t.is(e)};return e.$stateful=!0,e}function D(t){var e=function(e){return t.includes(e)};return e.$stateful=!0,e}var I=e.isDefined,N=e.isFunction,P=e.isString,R=e.isObject,L=e.isArray,j=e.forEach,F=e.extend,H=e.copy;e.module("ui.router.util",["ng"]),e.module("ui.router.router",["ui.router.util"]),e.module("ui.router.state",["ui.router.router","ui.router.util"]),e.module("ui.router",["ui.router.state"]),e.module("ui.router.compat",["ui.router"]),g.$inject=["$q","$injector"],e.module("ui.router.util").service("$resolve",g),m.$inject=["$http","$templateCache","$injector"],e.module("ui.router.util").service("$templateFactory",m);var z;v.prototype.concat=function(t,e){var n={caseInsensitive:z.caseInsensitive(),strict:z.strictMode(),squash:z.defaultSquashPolicy()};return new v(this.sourcePath+t+this.sourceSearch,F(n,e),this)},v.prototype.toString=function(){return this.source},v.prototype.exec=function(t,e){function n(t){function e(t){return t.split("").reverse().join("")}function n(t){return t.replace(/\\-/g,"-")}var i=e(t).split(/-(?!\\)/),r=p(i,e);return p(r,n).reverse()}var i=this.regexp.exec(t);if(!i)return null;e=e||{};var r,o,a,s=this.parameters(),u=s.length,l=this.segments.length-1,c={};if(l!==i.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(r=0;l>r;r++){a=s[r];var f=this.params[a],h=i[r+1];for(o=0;o<f.replace;o++)f.replace[o].from===h&&(h=f.replace[o].to);h&&f.array===!0&&(h=n(h)),c[a]=f.value(h)}for(;u>r;r++)a=s[r],c[a]=this.params[a].value(e[a]);return c},v.prototype.parameters=function(t){return I(t)?this.params[t]||null:this.$$paramNames},v.prototype.validates=function(t){return this.params.$$validates(t)},v.prototype.format=function(t){function e(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})}t=t||{};var n=this.segments,i=this.parameters(),r=this.params;if(!this.validates(t))return null;var o,a=!1,s=n.length-1,u=i.length,l=n[0];for(o=0;u>o;o++){var c=s>o,f=i[o],h=r[f],d=h.value(t[f]),g=h.isOptional&&h.type.equals(h.value(),d),m=g?h.squash:!1,v=h.type.encode(d);if(c){var y=n[o+1];if(m===!1)null!=v&&(l+=L(v)?p(v,e).join("-"):encodeURIComponent(v)),l+=y;else if(m===!0){var b=l.match(/\/$/)?/\/?(.*)/:/(.*)/;l+=y.match(b)[1]}else P(m)&&(l+=m+y)}else{if(null==v||g&&m!==!1)continue;L(v)||(v=[v]),v=p(v,encodeURIComponent).join("&"+f+"="),l+=(a?"&":"?")+(f+"="+v),a=!0}}return l},y.prototype.is=function(){return!0},y.prototype.encode=function(t){return t},y.prototype.decode=function(t){return t},y.prototype.equals=function(t,e){return t==e},y.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},y.prototype.pattern=/.*/,y.prototype.toString=function(){return"{Type:"+this.name+"}"},y.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},y.prototype.$asArray=function(t,e){function i(t,e){function i(t,e){return function(){return t[e].apply(t,arguments)}}function r(t){return L(t)?t:I(t)?[t]:[]}function o(t){switch(t.length){case 0:return n;case 1:return"auto"===e?t[0]:t;default:return t}}function a(t){return!t}function s(t,e){return function(n){n=r(n);var i=p(n,t);return e===!0?0===d(i,a).length:o(i)}}function u(t){return function(e,n){var i=r(e),o=r(n);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!t(i[a],o[a]))return!1;return!0}}this.encode=s(i(t,"encode")),this.decode=s(i(t,"decode")),this.is=s(i(t,"is"),!0),this.equals=u(i(t,"equals")),this.pattern=t.pattern,this.$normalize=s(i(t,"$normalize")),this.name=t.name,this.$arrayMode=e}if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new i(this,t)},e.module("ui.router.util").provider("$urlMatcherFactory",b),e.module("ui.router.util").run(["$urlMatcherFactory",function(){}]),w.$inject=["$locationProvider","$urlMatcherFactoryProvider"],e.module("ui.router.router").provider("$urlRouter",w),_.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],e.module("ui.router.state").value("$stateParams",{}).provider("$state",_),x.$inject=[],e.module("ui.router.state").provider("$view",x),e.module("ui.router.state").provider("$uiViewScroll",$),C.$inject=["$state","$injector","$uiViewScroll","$interpolate"],E.$inject=["$compile","$controller","$state","$interpolate"],e.module("ui.router.state").directive("uiView",C),e.module("ui.router.state").directive("uiView",E),O.$inject=["$state","$timeout"],M.$inject=["$state","$stateParams","$interpolate"],e.module("ui.router.state").directive("uiSref",O).directive("uiSrefActive",M).directive("uiSrefActiveEq",M),A.$inject=["$state"],D.$inject=["$state"],e.module("ui.router.state").filter("isState",A).filter("includedByState",D)}(window,window.angular),/*!
	Papa Parse
	v4.1.1
	https://github.com/mholt/PapaParse
*/
function(t){"use strict";function e(e,n){if(n=n||{},n.worker&&$.WORKERS_SUPPORTED){var i=c();return i.userStep=n.step,i.userChunk=n.chunk,i.userComplete=n.complete,i.userError=n.error,n.step=v(n.step),n.chunk=v(n.chunk),n.complete=v(n.complete),n.error=v(n.error),delete n.worker,void i.postMessage({input:e,config:n,workerId:i.id})}var s=null;return"string"==typeof e?s=n.download?new r(n):new a(n):(t.File&&e instanceof File||e instanceof Object)&&(s=new o(n)),s.stream(e)}function n(t,e){function n(){"object"==typeof e&&("string"==typeof e.delimiter&&1==e.delimiter.length&&-1==$.BAD_DELIMITERS.indexOf(e.delimiter)&&(u=e.delimiter),("boolean"==typeof e.quotes||e.quotes instanceof Array)&&(s=e.quotes),"string"==typeof e.newline&&(l=e.newline))}function i(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function r(t,e){var n="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var i=t instanceof Array&&t.length>0,r=!(e[0]instanceof Array);if(i){for(var a=0;a<t.length;a++)a>0&&(n+=u),n+=o(t[a],a);e.length>0&&(n+=l)}for(var s=0;s<e.length;s++){for(var c=i?t.length:e[s].length,f=0;c>f;f++){f>0&&(n+=u);var h=i&&r?t[f]:f;n+=o(e[s][h],f)}s<e.length-1&&(n+=l)}return n}function o(t,e){if("undefined"==typeof t||null===t)return"";t=t.toString().replace(/"/g,'""');var n="boolean"==typeof s&&s||s instanceof Array&&s[e]||a(t,$.BAD_DELIMITERS)||t.indexOf(u)>-1||" "==t.charAt(0)||" "==t.charAt(t.length-1);return n?'"'+t+'"':t}function a(t,e){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1}var s=!1,u=",",l="\r\n";if(n(),"string"==typeof t&&(t=JSON.parse(t)),t instanceof Array){if(!t.length||t[0]instanceof Array)return r(null,t);if("object"==typeof t[0])return r(i(t[0]),t)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),t.data instanceof Array&&(t.fields||(t.fields=t.data[0]instanceof Array?t.fields:i(t.data[0])),t.data[0]instanceof Array||"object"==typeof t.data[0]||(t.data=[t.data])),r(t.fields||[],t.data||[]);throw"exception: Unable to serialize unrecognized input"}function i(e){function n(t){var e=g(t);e.chunkSize=parseInt(e.chunkSize),this._handle=new s(e),this._handle.streamer=this,this._config=e}this._handle=null,this._paused=!1,this._finished=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this._completeResults={data:[],errors:[],meta:{}},n.call(this,e),this.parseChunk=function(e){var n=this._partialLine+e;this._partialLine="";var i=this._handle.parse(n,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var r=i.meta.cursor;this._finished||(this._partialLine=n.substring(r-this._baseIndex),this._baseIndex=r),i&&i.data&&(this._rowCount+=i.data.length);var o=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(b)t.postMessage({results:i,workerId:$.WORKER_ID,finished:o});else if(v(this._config.chunk)){if(this._config.chunk(i,this._handle),this._paused)return;i=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(i.data),this._completeResults.errors=this._completeResults.errors.concat(i.errors),this._completeResults.meta=i.meta),!o||!v(this._config.complete)||i&&i.meta.aborted||this._config.complete(this._completeResults),o||i&&i.meta.paused||this._nextChunk(),i}},this._sendError=function(e){v(this._config.error)?this._config.error(e):b&&this._config.error&&t.postMessage({workerId:$.WORKER_ID,error:e,finished:!1})}}function r(t){function e(t){var e=t.getResponseHeader("Content-Range");return parseInt(e.substr(e.lastIndexOf("/")+1))}t=t||{},t.chunkSize||(t.chunkSize=$.RemoteChunkSize),i.call(this,t);var n;this._nextChunk=b?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)return void this._chunkLoaded();if(n=new XMLHttpRequest,b||(n.onload=m(this._chunkLoaded,this),n.onerror=m(this._chunkError,this)),n.open("GET",this._input,!b),this._config.chunkSize){var t=this._start+this._config.chunkSize-1;n.setRequestHeader("Range","bytes="+this._start+"-"+t),n.setRequestHeader("If-None-Match","webkit-no-cache")}try{n.send()}catch(e){this._chunkError(e.message)}b&&0==n.status?this._chunkError():this._start+=this._config.chunkSize},this._chunkLoaded=function(){if(4==n.readyState){if(n.status<200||n.status>=400)return void this._chunkError();this._finished=!this._config.chunkSize||this._start>e(n),this.parseChunk(n.responseText)}},this._chunkError=function(t){var e=n.statusText||t;this._sendError(e)}}function o(t){t=t||{},t.chunkSize||(t.chunkSize=$.LocalChunkSize),i.call(this,t);var e,n,r="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,r?(e=new FileReader,e.onload=m(this._chunkLoaded,this),e.onerror=m(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,i)}var o=e.readAsText(t,this._config.encoding);r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function a(t){t=t||{},i.call(this,t);var e,n;this.stream=function(t){return e=t,n=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,e=t?n.substr(0,t):n;return n=t?n.substr(t):"",this._finished=!n,this.parseChunk(e)}}}function s(t){function e(){if(_&&h&&(l("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+$.DefaultDelimiter+"'"),h=!1),t.skipEmptyLines)for(var e=0;e<_.data.length;e++)1==_.data[e].length&&""==_.data[e][0]&&_.data.splice(e--,1);return n()&&i(),r()}function n(){return t.header&&0==w.length}function i(){if(_){for(var t=0;n()&&t<_.data.length;t++)for(var e=0;e<_.data[t].length;e++)w.push(_.data[t][e]);_.data.splice(0,1)}}function r(){if(!_||!t.header&&!t.dynamicTyping)return _;for(var e=0;e<_.data.length;e++){for(var n={},i=0;i<_.data[e].length;i++){if(t.dynamicTyping){var r=_.data[e][i];_.data[e][i]="true"==r||"TRUE"==r?!0:"false"==r||"FALSE"==r?!1:s(r)}t.header&&(i>=w.length?(n.__parsed_extra||(n.__parsed_extra=[]),n.__parsed_extra.push(_.data[e][i])):n[w[i]]=_.data[e][i])}t.header&&(_.data[e]=n,i>w.length?l("FieldMismatch","TooManyFields","Too many fields: expected "+w.length+" fields but parsed "+i,e):i<w.length&&l("FieldMismatch","TooFewFields","Too few fields: expected "+w.length+" fields but parsed "+i,e))}return t.header&&_.meta&&(_.meta.fields=w),_}function o(e){for(var n,i,r,o=[",","	","|",";",$.RECORD_SEP,$.UNIT_SEP],a=0;a<o.length;a++){var s=o[a],l=0,c=0;r=void 0;for(var f=new u({delimiter:s,preview:10}).parse(e),h=0;h<f.data.length;h++){var d=f.data[h].length;c+=d,"undefined"!=typeof r?d>1&&(l+=Math.abs(d-r),r=d):r=d}c/=f.data.length,("undefined"==typeof i||i>l)&&c>1.99&&(i=l,n=s)}return t.delimiter=n,{successful:!!n,bestDelimiter:n}}function a(t){t=t.substr(0,1048576);var e=t.split("\r");if(1==e.length)return"\n";for(var n=0,i=0;i<e.length;i++)"\n"==e[i][0]&&n++;return n>=e.length/2?"\r\n":"\r"}function s(t){var e=d.test(t);return e?parseFloat(t):t}function l(t,e,n,i){_.errors.push({type:t,code:e,message:n,row:i})}var c,f,h,d=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,p=this,m=0,y=!1,b=!1,w=[],_={data:[],errors:[],meta:{}};if(v(t.step)){var x=t.step;t.step=function(i){if(_=i,n())e();else{if(e(),0==_.data.length)return;m+=i.data.length,t.preview&&m>t.preview?f.abort():x(_,p)}}}this.parse=function(n,i,r){if(t.newline||(t.newline=a(n)),h=!1,!t.delimiter){var s=o(n);s.successful?t.delimiter=s.bestDelimiter:(h=!0,t.delimiter=$.DefaultDelimiter),_.meta.delimiter=t.delimiter}var l=g(t);return t.preview&&t.header&&l.preview++,c=n,f=new u(l),_=f.parse(c,i,r),e(),y?{meta:{paused:!0}}:_||{meta:{paused:!1}}},this.paused=function(){return y},this.pause=function(){y=!0,f.abort(),c=c.substr(f.getCharIndex())},this.resume=function(){y=!1,p.streamer.parseChunk(c)},this.aborted=function(){return b},this.abort=function(){b=!0,f.abort(),_.meta.aborted=!0,v(t.complete)&&t.complete(_),c=""}}function u(t){t=t||{};var e=t.delimiter,n=t.newline,i=t.comments,r=t.step,o=t.preview,a=t.fastMode;if(("string"!=typeof e||$.BAD_DELIMITERS.indexOf(e)>-1)&&(e=","),i===e)throw"Comment character same as delimiter";i===!0?i="#":("string"!=typeof i||$.BAD_DELIMITERS.indexOf(i)>-1)&&(i=!1),"\n"!=n&&"\r"!=n&&"\r\n"!=n&&(n="\n");var s=0,u=!1;this.parse=function(t,l,c){function f(t){_.push(t),C=s}function h(e){return c?p():(e||(e=t.substr(s)),$.push(e),s=m,f($),w&&g(),p())}function d(e){s=e,f($),$=[],T=t.indexOf(n,s)}function p(t){return{data:_,errors:x,meta:{delimiter:e,linebreak:n,aborted:u,truncated:!!t,cursor:C+(l||0)}}}function g(){r(p()),_=[],x=[]}if("string"!=typeof t)throw"Input must be a string";var m=t.length,v=e.length,y=n.length,b=i.length,w="function"==typeof r;s=0;var _=[],x=[],$=[],C=0;if(!t)return p();if(a||a!==!1&&-1===t.indexOf('"')){for(var E=t.split(n),k=0;k<E.length;k++){var $=E[k];if(s+=$.length,k!==E.length-1)s+=n.length;else if(c)return p();if(!i||$.substr(0,b)!=i){if(w){if(_=[],f($.split(e)),g(),u)return p()}else f($.split(e));if(o&&k>=o)return _=_.slice(0,o),p(!0)}}return p()}for(var S=t.indexOf(e,s),T=t.indexOf(n,s);;)if('"'!=t[s])if(i&&0===$.length&&t.substr(s,b)===i){if(-1==T)return p();s=T+y,T=t.indexOf(n,s),S=t.indexOf(e,s)}else if(-1!==S&&(T>S||-1===T))$.push(t.substring(s,S)),s=S+v,S=t.indexOf(e,s);else{if(-1===T)break;if($.push(t.substring(s,T)),d(T+y),w&&(g(),u))return p();if(o&&_.length>=o)return p(!0)}else{var O=s;for(s++;;){var O=t.indexOf('"',O+1);if(-1===O)return c||x.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:_.length,index:s}),h();if(O===m-1){var M=t.substring(s,O).replace(/""/g,'"');return h(M)}if('"'!=t[O+1]){if(t[O+1]==e){$.push(t.substring(s,O).replace(/""/g,'"')),s=O+1+v,S=t.indexOf(e,s),T=t.indexOf(n,s);break}if(t.substr(O+1,y)===n){if($.push(t.substring(s,O).replace(/""/g,'"')),d(O+1+y),S=t.indexOf(e,s),w&&(g(),u))return p();if(o&&_.length>=o)return p(!0);break}}else O++}}return h()},this.abort=function(){u=!0},this.getCharIndex=function(){return s}}function l(){var t=document.getElementsByTagName("script");return t.length?t[t.length-1].src:""}function c(){if(!$.WORKERS_SUPPORTED)return!1;if(!w&&null===$.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var e=new t.Worker($.SCRIPT_PATH||y);return e.onmessage=f,e.id=x++,_[e.id]=e,e}function f(t){var e=t.data,n=_[e.workerId],i=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var r=function(){i=!0,h(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},o={abort:r,pause:d,resume:d};if(v(n.userStep)){for(var a=0;a<e.results.data.length&&(n.userStep({data:[e.results.data[a]],errors:e.results.errors,meta:e.results.meta},o),!i);a++);delete e.results}else v(n.userChunk)&&(n.userChunk(e.results,o,e.file),delete e.results)}e.finished&&!i&&h(e.workerId,e.results)}function h(t,e){var n=_[t];v(n.userComplete)&&n.userComplete(e),n.terminate(),delete _[t]}function d(){throw"Not implemented."}function p(e){var n=e.data;if("undefined"==typeof $.WORKER_ID&&n&&($.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:$.WORKER_ID,results:$.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var i=$.parse(n.input,n.config);i&&t.postMessage({workerId:$.WORKER_ID,results:i,finished:!0})}}function g(t){if("object"!=typeof t)return t;var e=t instanceof Array?[]:{};for(var n in t)e[n]=g(t[n]);return e}function m(t,e){return function(){t.apply(e,arguments)}}function v(t){return"function"==typeof t}var y,b=!t.document&&!!t.postMessage,w=!1,_={},x=0,$={};if($.parse=e,$.unparse=n,$.RECORD_SEP=String.fromCharCode(30),$.UNIT_SEP=String.fromCharCode(31),$.BYTE_ORDER_MARK="﻿",$.BAD_DELIMITERS=["\r","\n",'"',$.BYTE_ORDER_MARK],$.WORKERS_SUPPORTED=!!t.Worker,$.SCRIPT_PATH=null,$.LocalChunkSize=10485760,$.RemoteChunkSize=5242880,$.DefaultDelimiter=",",$.Parser=u,$.ParserHandle=s,$.NetworkStreamer=r,$.FileStreamer=o,$.StringStreamer=a,"undefined"!=typeof module&&module.exports?module.exports=$:v(t.define)&&t.define.amd?t.define(function(){return $}):t.Papa=$,t.jQuery){var C=t.jQuery;C.fn.parse=function(e){function n(){if(0==a.length)return void(v(e.complete)&&e.complete());var t=a[0];if(v(e.before)){var n=e.before(t.file,t.inputElem);if("object"==typeof n){if("abort"==n.action)return void i("AbortError",t.file,t.inputElem,n.reason);if("skip"==n.action)return void r();"object"==typeof n.config&&(t.instanceConfig=C.extend(t.instanceConfig,n.config))}else if("skip"==n)return void r()}var o=t.instanceConfig.complete;t.instanceConfig.complete=function(e){v(o)&&o(e,t.file,t.inputElem),r()},$.parse(t.file,t.instanceConfig)}function i(t,n,i,r){v(e.error)&&e.error({name:t},n,i,r)}function r(){a.splice(0,1),n()}var o=e.config||{},a=[];return this.each(function(){var e="INPUT"==C(this).prop("tagName").toUpperCase()&&"file"==C(this).attr("type").toLowerCase()&&t.FileReader;if(!e||!this.files||0==this.files.length)return!0;for(var n=0;n<this.files.length;n++)a.push({file:this.files[n],inputElem:this,instanceConfig:C.extend({},o)})}),n(),this}}b?t.onmessage=p:$.WORKERS_SUPPORTED&&(y=l(),document.body?document.addEventListener("DOMContentLoaded",function(){w=!0},!0):w=!0),r.prototype=Object.create(i.prototype),r.prototype.constructor=r,o.prototype=Object.create(i.prototype),o.prototype.constructor=o,a.prototype=Object.create(a.prototype),a.prototype.constructor=a}("undefined"!=typeof window?window:this),/*! jQuery UI - v1.11.4 - 2015-03-11
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, draggable.js, droppable.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js, menu.js, progressbar.js, resizable.js, selectable.js, selectmenu.js, slider.js, sortable.js, spinner.js, tabs.js, tooltip.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,i){var r,o,a,s=e.nodeName.toLowerCase();return"area"===s?(r=e.parentNode,o=r.name,e.href&&o&&"map"===r.nodeName.toLowerCase()?(a=t("img[usemap='#"+o+"']")[0],!!a&&n(a)):!1):(/^(input|select|textarea|button|object)$/.test(s)?!e.disabled:"a"===s?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}function i(t){for(var e,n;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}function r(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=o(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function o(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(n,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",a)}function a(){t.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function s(e,n){t.extend(e,n);for(var i in n)null==n[i]&&(e[i]=n[i]);return e}/*!
 * jQuery UI Spinner 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/spinner/
 */
function u(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}/*!
 * jQuery UI Core 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return i&&"static"===e.css("position")?!1:r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(n){return e(n,!isNaN(t.attr(n,"tabindex")))},tabbable:function(n){var i=t.attr(n,"tabindex"),r=isNaN(i);return(r||i>=0)&&e(n,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,n){function i(e,n,i,o){return t.each(r,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(e){return void 0===e?a["inner"+n].call(this):this.each(function(){t(this).css(o,i(this,e)+"px")})},t.fn["outer"+n]=function(e,r){return"number"!=typeof e?a["outer"+n].call(this,e):this.each(function(){t(this).css(o,i(this,e,!0,r)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(n,i){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var n,i,r=t(this[0]);r.length&&r[0]!==document;){if(n=r.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(i=parseInt(r.css("zIndex"),10),!isNaN(i)&&0!==i))return i;r=r.parent()}return 0}}),t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}};/*!
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
var l=0,c=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{i=t._data(r,"events"),i&&i.remove&&t(r).triggerHandler("remove")}catch(a){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var r,o,a,s,u={},l=e.split(".")[0];return e=e.split(".")[1],r=l+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[l]=t[l]||{},o=t[l][e],a=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new a(t,e)},t.extend(a,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),s=new n,s.options=t.widget.extend({},s.options),t.each(i,function(e,i){return t.isFunction(i)?void(u[e]=function(){var t=function(){return n.prototype[e].apply(this,arguments)},r=function(t){return n.prototype[e].apply(this,t)};return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}()):void(u[e]=i)}),a.prototype=t.widget.extend(s,{widgetEventPrefix:o?s.widgetEventPrefix||e:e},u,{constructor:a,namespace:l,widgetName:e,widgetFullName:r}),o?(t.each(o._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete o._childConstructors):n._childConstructors.push(a),t.widget.bridge(e,a),a},t.widget.extend=function(e){for(var n,i,r=c.call(arguments,1),o=0,a=r.length;a>o;o++)for(n in r[o])i=r[o][n],r[o].hasOwnProperty(n)&&void 0!==i&&(e[n]=t.isPlainObject(i)?t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(r){var o="string"==typeof r,a=c.call(arguments,1),s=this;return o?this.each(function(){var n,o=t.data(this,i);return"instance"===r?(s=o,!1):o?t.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,a),n!==o&&void 0!==n?(s=n&&n.jquery?s.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):(a.length&&(r=t.widget.extend.apply(null,[r].concat(a))),this.each(function(){var e=t.data(this,i);e?(e.option(r||{}),e._init&&e._init()):t.data(this,i,new n(r,this))})),s}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},i=e.split("."),e=i.shift(),i.length){for(r=a[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,a){function s(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var u=i.match(/^([\w:-]*)\s*(.*)$/),l=u[1]+o.eventNamespace,c=u[2];c?r.delegate(c,l,s):n.bind(l,s)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(n).undelegate(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var r,o,a=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(a)&&a.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?r===!0||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),a=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&t.effects&&t.effects.effect[s]?i[e](r):s!==e&&i[s]?i[s](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}});var f=(t.widget,!1);t(document).mouseup(function(){f=!1});t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!f){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,r="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return i&&!r&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),f=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),f=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});/*!
 * jQuery UI Position 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
!function(){function e(t,e,n){return[parseFloat(t[0])*(d.test(t[0])?e/100:1),parseFloat(t[1])*(d.test(t[1])?n/100:1)]}function n(e,n){return parseInt(t.css(e,n),10)||0}function i(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var r,o,a=Math.max,s=Math.abs,u=Math.round,l=/left|center|right/,c=/top|center|bottom/,f=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,d=/%$/,p=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==r)return r;var e,n,i=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=i.children()[0];return t("body").append(i),e=o.offsetWidth,i.css("overflow","scroll"),n=o.offsetWidth,e===n&&(n=i[0].clientWidth),i.remove(),r=e-n},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth,o="scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i||r?n.width():n.outerWidth(),height:i||r?n.height():n.outerHeight()}}},t.fn.position=function(r){if(!r||!r.of)return p.apply(this,arguments);r=t.extend({},r);var d,g,m,v,y,b,w=t(r.of),_=t.position.getWithinInfo(r.within),x=t.position.getScrollInfo(_),$=(r.collision||"flip").split(" "),C={};return b=i(w),w[0].preventDefault&&(r.at="left top"),g=b.width,m=b.height,v=b.offset,y=t.extend({},v),t.each(["my","at"],function(){var t,e,n=(r[this]||"").split(" ");1===n.length&&(n=l.test(n[0])?n.concat(["center"]):c.test(n[0])?["center"].concat(n):["center","center"]),n[0]=l.test(n[0])?n[0]:"center",n[1]=c.test(n[1])?n[1]:"center",t=f.exec(n[0]),e=f.exec(n[1]),C[this]=[t?t[0]:0,e?e[0]:0],r[this]=[h.exec(n[0])[0],h.exec(n[1])[0]]}),1===$.length&&($[1]=$[0]),"right"===r.at[0]?y.left+=g:"center"===r.at[0]&&(y.left+=g/2),"bottom"===r.at[1]?y.top+=m:"center"===r.at[1]&&(y.top+=m/2),d=e(C.at,g,m),y.left+=d[0],y.top+=d[1],this.each(function(){var i,l,c=t(this),f=c.outerWidth(),h=c.outerHeight(),p=n(this,"marginLeft"),b=n(this,"marginTop"),E=f+p+n(this,"marginRight")+x.width,k=h+b+n(this,"marginBottom")+x.height,S=t.extend({},y),T=e(C.my,c.outerWidth(),c.outerHeight());"right"===r.my[0]?S.left-=f:"center"===r.my[0]&&(S.left-=f/2),"bottom"===r.my[1]?S.top-=h:"center"===r.my[1]&&(S.top-=h/2),S.left+=T[0],S.top+=T[1],o||(S.left=u(S.left),S.top=u(S.top)),i={marginLeft:p,marginTop:b},t.each(["left","top"],function(e,n){t.ui.position[$[e]]&&t.ui.position[$[e]][n](S,{targetWidth:g,targetHeight:m,elemWidth:f,elemHeight:h,collisionPosition:i,collisionWidth:E,collisionHeight:k,offset:[d[0]+T[0],d[1]+T[1]],my:r.my,at:r.at,within:_,elem:c})}),r.using&&(l=function(t){var e=v.left-S.left,n=e+g-f,i=v.top-S.top,o=i+m-h,u={target:{element:w,left:v.left,top:v.top,width:g,height:m},element:{element:c,left:S.left,top:S.top,width:f,height:h},horizontal:0>n?"left":e>0?"right":"center",vertical:0>o?"top":i>0?"bottom":"middle"};f>g&&s(e+n)<g&&(u.horizontal="center"),h>m&&s(i+o)<m&&(u.vertical="middle"),u.important=a(s(e),s(n))>a(s(i),s(o))?"horizontal":"vertical",r.using.call(this,t,u)}),c.offset(t.extend(S,{using:l}))})},t.ui.position={fit:{left:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,s=t.left-e.collisionPosition.marginLeft,u=r-s,l=s+e.collisionWidth-o-r;e.collisionWidth>o?u>0&&0>=l?(n=t.left+u+e.collisionWidth-o-r,t.left+=u-n):t.left=l>0&&0>=u?r:u>l?r+o-e.collisionWidth:r:u>0?t.left+=u:l>0?t.left-=l:t.left=a(t.left-s,t.left)},top:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollTop:i.offset.top,o=e.within.height,s=t.top-e.collisionPosition.marginTop,u=r-s,l=s+e.collisionHeight-o-r;e.collisionHeight>o?u>0&&0>=l?(n=t.top+u+e.collisionHeight-o-r,t.top+=u-n):t.top=l>0&&0>=u?r:u>l?r+o-e.collisionHeight:r:u>0?t.top+=u:l>0?t.top-=l:t.top=a(t.top-s,t.top)}},flip:{left:function(t,e){var n,i,r=e.within,o=r.offset.left+r.scrollLeft,a=r.width,u=r.isWindow?r.scrollLeft:r.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-u,f=l+e.collisionWidth-a-u,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,d="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];0>c?(n=t.left+h+d+p+e.collisionWidth-a-o,(0>n||n<s(c))&&(t.left+=h+d+p)):f>0&&(i=t.left-e.collisionPosition.marginLeft+h+d+p-u,(i>0||s(i)<f)&&(t.left+=h+d+p))},top:function(t,e){var n,i,r=e.within,o=r.offset.top+r.scrollTop,a=r.height,u=r.isWindow?r.scrollTop:r.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-u,f=l+e.collisionHeight-a-u,h="top"===e.my[1],d=h?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(i=t.top+d+p+g+e.collisionHeight-a-o,(0>i||i<s(c))&&(t.top+=d+p+g)):f>0&&(n=t.top-e.collisionPosition.marginTop+d+p+g-u,(n>0||s(n)<f)&&(t.top+=d+p+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,n,i,r,a,s=document.getElementsByTagName("body")[0],u=document.createElement("div");e=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&t.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in i)e.style[a]=i[a];e.appendChild(u),n=s||document.documentElement,n.insertBefore(e,n.firstChild),u.style.cssText="position: absolute; left: 10.7432222px;",r=t(u).offset().left,o=r>10&&11>r,e.innerHTML="",n.removeChild(e)}()}();t.ui.position,t.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void("disabled"===t&&(this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e))))},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var n=t.ui.keyCode,i=this.headers.length,r=this.headers.index(e.target),o=!1;switch(e.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(e);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),o.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var e=t(this),n=e.uniqueId().attr("id"),i=e.next(),r=i.uniqueId().attr("id");e.attr("aria-controls",r),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(e=r.height(),this.element.siblings(":visible").each(function(){var n=t(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(e-=n.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===i&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).css("height","").height())}).height(e))},_activate:function(e){var n=this._findActive(e)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var n=this.options,i=this.active,r=t(e.currentTarget),o=r[0]===i[0],a=o&&n.collapsible,s=a?t():r.next(),u=i.next(),l={oldHeader:i,oldPanel:u,newHeader:a?t():r,newPanel:s};e.preventDefault(),o&&!n.collapsible||this._trigger("beforeActivate",e,l)===!1||(n.active=a?!1:this.headers.index(r),this.active=o?t():r,this._toggle(l),i.removeClass("ui-accordion-header-active ui-state-active"),n.icons&&i.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),o||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),n.icons&&r.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var n=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,e):(i.hide(),n.show(),this._toggleComplete(e)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,n){var i,r,o,a=this,s=0,u=t.css("box-sizing"),l=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},f=l&&c.down||c,h=function(){a._toggleComplete(n)};return"number"==typeof f&&(o=f),"string"==typeof f&&(r=f),r=r||f.easing||c.easing,o=o||f.duration||c.duration,e.length?t.length?(i=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:r,complete:h,step:function(t,n){n.now=Math.round(t),"height"!==n.prop?"content-box"===u&&(s+=n.now):"content"!==a.options.heightStyle&&(n.now=Math.round(i-e.outerHeight()-s),s=0)}})):e.animate(this.hideProps,o,r,h):t.animate(this.showProps,o,r,h)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target);!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var n=t(e.currentTarget);n.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(e,n)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){var n,i,r,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,i=this.previousFilter||"",r=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),r===i?o=!0:r=i+r,n=this._filterMenuItems(r),n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(r=String.fromCharCode(e.keyCode),n=this._filterMenuItems(r)),n.length?(this.focus(e,n),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(t):this.select(t))},refresh:function(){var e,n,i=this,r=this.options.icons.submenu,o=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),o.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.parent(),i=t("<span>").addClass("ui-menu-icon ui-icon "+r).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",n.attr("id"))}),e=o.add(this.element),n=e.find(this.options.items),n.not(".ui-menu-item").each(function(){var e=t(this);i._isDivider(e)&&e.addClass("ui-widget-content ui-menu-divider")}),n.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),n.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},focus:function(t,e){var n,i;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=e.children(".ui-menu"),n.length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,r,o,a,s;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=e.outerHeight(),0>r?this.activeMenu.scrollTop(o+r):r+s>a&&this.activeMenu.scrollTop(o+r-a+s))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this.activeMenu=i},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(e){var n,i,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-i-r<0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var n,i,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-i+r>0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items).first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)},_filterMenuItems:function(e){var n=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(t.trim(t(this).text()))})}});/*!
 * jQuery UI Autocomplete 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/autocomplete/
 */
t.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,a="input"===r;this.isMultiLine=o?!0:a?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault());if(!n){var r=t.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(t){return i?(i=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(i){i.target===e.element[0]||i.target===n||t.contains(n,i.target)||e.close()})})},menufocus:function(e,n){var i,r;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)})):(r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:r})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(r.value),i=n.item.attr("aria-label")||r.value,void(i&&t.trim(i).length&&(this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))))},menuselect:function(t,e){var n=e.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",t,{item:n})&&this._value(n.value),this.term=this._value(),this.close(t),this.selectedItem=n}}),this.liveRegion=t("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,r){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),n=this.menu.element.is(":visible"),i=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!n&&!i)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").text(n.label).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))}});var h,d=(t.ui.autocomplete,"ui-button ui-widget ui-state-default ui-corner-all"),p="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",g=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},m=function(e){var n=e.name,i=e.form,r=t([]);return n&&(n=n.replace(/'/g,"\\'"),r=i?t(i).find("[name='"+n+"'][type=radio]"):t("[name='"+n+"'][type=radio]",e.ownerDocument).filter(function(){return!this.form})),r};t.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,g),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,n=this.options,i="checkbox"===this.type||"radio"===this.type,r=i?"":"ui-state-active";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(d).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){n.disabled||this===h&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){n.disabled||t(this).removeClass(r)}).bind("click"+this.eventNamespace,function(t){n.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),i&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return n.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var i=e.element[0];m(i).not(i).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return n.disabled?!1:(t(this).addClass("ui-state-active"),h=this,void e.document.one("mouseup",function(){h=null}))}).bind("mouseup"+this.eventNamespace,function(){return n.disabled?!1:void t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){return n.disabled?!1:void((e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var t,e,n;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),n=this.element.is(":checked"),n&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(d+" ui-state-active "+p).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),void(e&&this.buttonElement.removeClass("checkbox"===this.type||"radio"===this.type?"ui-state-focus":"ui-state-focus ui-state-active"))):void this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?m(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(p),n=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),i=this.options.icons,r=i.primary&&i.secondary,o=[];i.primary||i.secondary?(this.options.text&&o.push("ui-button-text-icon"+(r?"s":i.primary?"-primary":"-secondary")),i.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(o.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(n)))):o.push("ui-button-text-only"),e.addClass(o.join(" "))}}),t.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction"),n=this.element.find(this.options.items),i=n.filter(":ui-button");n.not(":ui-button").button(),i.button("refresh"),this.buttons=n.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});t.ui.button;/*!
 * jQuery UI Datepicker 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/datepicker/
 */
t.extend(t.ui,{datepicker:{version:"1.11.4"}});var v;t.extend(r.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return s(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var i,r,o;i=e.nodeName.toLowerCase(),r="div"===i||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),r),o.settings=t.extend({},n||{}),"input"===i?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,n){var i=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:i,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?o(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]),n.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),t.data(e,"datepicker",n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var i,r,o,a=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove(),a&&(n.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[s?"before":"after"](n.append)),e.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),i=this._get(n,"showOn"),("focus"===i||"both"===i)&&e.focus(this._showDatepicker),("button"===i||"both"===i)&&(r=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r)),e[s?"before":"after"](n.trigger),n.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,r,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(n=0,i=0,r=0;r<t.length;r++)t[r].length>n&&(n=t[r].length,i=r);return i},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,n){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),t.data(e,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,i,r,o){var a,u,l,c,f,h=this._dialogInst;return h||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},t.data(this._dialogInput[0],"datepicker",h)),s(h.settings,r||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(u=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,f=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[u/2-100+c,l/2-150+f]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(e){var n,i=t(e),r=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===n||"span"===n)&&i.removeClass(this.markerClassName).empty(),v===r&&(v=null))},_enableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&(i=r.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&(i=r.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,i){var r,o,a,u,l=this._getInst(e);return 2===arguments.length&&"string"==typeof n?"defaults"===n?t.extend({},t.datepicker._defaults):l?"all"===n?t.extend({},l.settings):this._get(l,n):null:(r=n||{},"string"==typeof n&&(r={},r[n]=i),void(l&&(this._curInst===l&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),a=this._getMinMaxDate(l,"min"),u=this._getMinMaxDate(l,"max"),s(l.settings,r),null!==a&&void 0!==r.dateFormat&&void 0===r.minDate&&(l.settings.minDate=this._formatDate(l,a)),null!==u&&void 0!==r.dateFormat&&void 0===r.maxDate&&(l.settings.maxDate=this._formatDate(l,u)),"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,o),this._updateAlternate(l),this._updateDatepicker(l))))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,i,r,o=t.datepicker._getInst(e.target),a=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),r[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),n=t.datepicker._get(o,"onSelect"),n?(i=t.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,i,r=t.datepicker._getInst(e.target);return t.datepicker._get(r,"constrainInput")?(n=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">i||!n||n.indexOf(i)>-1):void 0},_doKeyUp:function(e){var n,i=t.datepicker._getInst(e.target);if(i.input.val()!==i.lastVal)try{n=t.datepicker.parseDate(t.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,t.datepicker._getFormatConfig(i)),n&&(t.datepicker._setDateFromField(i),t.datepicker._updateAlternate(i),t.datepicker._updateDatepicker(i))}catch(r){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var n,r,o,a,u,l,c;n=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==n&&(t.datepicker._curInst.dpDiv.stop(!0,!0),n&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),r=t.datepicker._get(n,"beforeShow"),o=r?r.apply(e,[e,n]):{},o!==!1&&(s(n.settings,o),n.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(n),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),a=!1,t(e).parents().each(function(){return a|="fixed"===t(this).css("position"),!a}),u={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(n),u=t.datepicker._checkOffset(n,u,a),n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":a?"fixed":"absolute",display:"none",left:u.left+"px",top:u.top+"px"}),n.inline||(l=t.datepicker._get(n,"showAnim"),c=t.datepicker._get(n,"duration"),n.dpDiv.css("z-index",i(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?n.dpDiv.show(l,t.datepicker._get(n,"showOptions"),c):n.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(n)&&n.input.focus(),t.datepicker._curInst=n))}},_updateDatepicker:function(e){this.maxRows=4,v=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n,i=this._getNumberOfMonths(e),r=i[1],o=17,s=e.dpDiv.find("."+this._dayOverClass+" a");s.length>0&&a.apply(s.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",o*r+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(n=e.yearshtml,setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,i){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,s=e.input?e.input.outerHeight():0,u=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?r-a:0,n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=i&&n.top===e.input.offset().top+s?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>u&&u>r?Math.abs(n.left+r-u):0),n.top-=Math.min(n.top,n.top+o>l&&l>o?Math.abs(o+s):0),n},_findPos:function(e){for(var n,i=this._getInst(e),r=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return n=t(e).offset(),[n.left,n.top]},_hideDatepicker:function(e){var n,i,r,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(n=this._get(a,"showAnim"),i=this._get(a,"duration"),r=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[n]||t.effects[n])?a.dpDiv.hide(n,t.datepicker._get(a,"showOptions"),i,r):a.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id!==t.datepicker._mainDivId&&0===n.parents("#"+t.datepicker._mainDivId).length&&!n.hasClass(t.datepicker.markerClassName)&&!n.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||n.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==i)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,i){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(e){var n,i=t(e),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(e,n,i){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,n,i,r){var o,a=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",r).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var i,r=t(e),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),i=this._get(o,"onSelect"),i?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var n,i,r,o=this._get(e,"altField");o&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),r=this.formatDate(n,i,this._getFormatConfig(e)),t(o).each(function(){t(this).val(r)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,i){if(null==e||null==n)throw"Invalid arguments";if(n="object"==typeof n?n.toString():n+"",""===n)return null;var r,o,a,s,u=0,l=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),f=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,h=(i?i.dayNames:null)||this._defaults.dayNames,d=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,p=(i?i.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,y=-1,b=!1,w=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;return n&&r++,n},_=function(t){var e=w(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r="y"===t?i:1,o=new RegExp("^\\d{"+r+","+i+"}"),a=n.substring(u).match(o);if(!a)throw"Missing number at position "+u;return u+=a[0].length,parseInt(a[0],10)},x=function(e,i,r){var o=-1,a=t.map(w(e)?r:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var i=e[1];return n.substr(u,i.length).toLowerCase()===i.toLowerCase()?(o=e[0],u+=i.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+u},$=function(){if(n.charAt(u)!==e.charAt(r))throw"Unexpected literal at position "+u;u++};for(r=0;r<e.length;r++)if(b)"'"!==e.charAt(r)||w("'")?$():b=!1;else switch(e.charAt(r)){case"d":v=_("d");break;case"D":x("D",f,h);break;case"o":y=_("o");break;case"m":m=_("m");break;case"M":m=x("M",d,p);break;case"y":g=_("y");break;case"@":s=new Date(_("@")),g=s.getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"!":s=new Date((_("!")-this._ticksTo1970)/1e4),g=s.getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"'":w("'")?$():b=!0;break;default:$()}if(u<n.length&&(a=n.substr(u),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=g?0:-100)),y>-1)for(m=1,v=y;;){if(o=this._getDaysInMonth(g,m-1),o>=v)break;m++,v-=o}if(s=this._daylightSavingAdjust(new Date(g,m-1,v)),s.getFullYear()!==g||s.getMonth()+1!==m||s.getDate()!==v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,u=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},l=function(t,e,n){var i=""+e;if(u(t))for(;i.length<n;)i="0"+i;return i},c=function(t,e,n,i){return u(t)?i[e]:n[e]},f="",h=!1;if(e)for(i=0;i<t.length;i++)if(h)"'"!==t.charAt(i)||u("'")?f+=t.charAt(i):h=!1;else switch(t.charAt(i)){case"d":f+=l("d",e.getDate(),2);break;case"D":f+=c("D",e.getDay(),r,o);break;case"o":f+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":f+=l("m",e.getMonth()+1,2);break;case"M":f+=c("M",e.getMonth(),a,s);break;case"y":f+=u("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":f+=e.getTime();break;case"!":f+=1e4*e.getTime()+this._ticksTo1970;break;case"'":u("'")?f+="'":h=!0;break;default:f+=t.charAt(i)}return f},_possibleChars:function(t){var e,n="",i=!1,r=function(n){var i=e+1<t.length&&t.charAt(e+1)===n;return i&&e++,i};for(e=0;e<t.length;e++)if(i)"'"!==t.charAt(e)||r("'")?n+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,a=this._getFormatConfig(t);try{o=this.parseDate(n,i,a)||r}catch(s){i=e?"":i}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=i?o.getDate():0,t.currentMonth=i?o.getMonth():0,t.currentYear=i?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var r=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(i){}for(var r=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=r.getFullYear(),a=r.getMonth(),s=r.getDate(),u=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=u.exec(n);l;){switch(l[2]||"d"){case"d":case"D":s+=parseInt(l[1],10);break;case"w":case"W":s+=7*parseInt(l[1],10);break;case"m":case"M":a+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(o,a))}l=u.exec(n)}return new Date(o,a,s)},a=null==n||""===n?i:"string"==typeof n?o(n):"number"==typeof n?isNaN(n)?i:r(n):new Date(n.getTime());return a=a&&"Invalid Date"===a.toString()?i:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(i,-n,"M")},next:function(){t.datepicker._adjustDate(i,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,r,o,a,s,u,l,c,f,h,d,p,g,m,v,y,b,w,_,x,$,C,E,k,S,T,O,M,A,D,I,N,P,R,L,j,F,H=new Date,z=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),q=this._get(t,"isRTL"),U=this._get(t,"showButtonPanel"),W=this._get(t,"hideIfNoPrevNext"),B=this._get(t,"navigationAsDateFormat"),V=this._getNumberOfMonths(t),Y=this._get(t,"showCurrentAtPos"),X=this._get(t,"stepMonths"),K=1!==V[0]||1!==V[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Q=t.drawMonth-Y,te=t.drawYear;if(0>Q&&(Q+=12,te--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-V[0]*V[1]+1,J.getDate())),e=Z&&Z>e?Z:e;this._daylightSavingAdjust(new Date(te,Q,1))>e;)Q--,0>Q&&(Q=11,te--);for(t.drawMonth=Q,t.drawYear=te,n=this._get(t,"prevText"),n=B?this.formatDate(n,this._daylightSavingAdjust(new Date(te,Q-X,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,te,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"e":"w")+"'>"+n+"</span></a>":W?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"e":"w")+"'>"+n+"</span></a>",r=this._get(t,"nextText"),r=B?this.formatDate(r,this._daylightSavingAdjust(new Date(te,Q+X,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,te,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"w":"e")+"'>"+r+"</span></a>":W?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"w":"e")+"'>"+r+"</span></a>",a=this._get(t,"currentText"),s=this._get(t,"gotoCurrent")&&t.currentDay?G:z,a=B?this.formatDate(a,s,this._getFormatConfig(t)):a,u=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=U?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(q?u:"")+(this._isInRange(t,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(q?"":u)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,f=this._get(t,"showWeek"),h=this._get(t,"dayNames"),d=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),w="",x=0;x<V[0];x++){for($="",this.maxRows=4,C=0;C<V[1];C++){if(E=this._daylightSavingAdjust(new Date(te,Q,t.selectedDay)),k=" ui-corner-all",S="",K){if(S+="<div class='ui-datepicker-group",V[1]>1)switch(C){case 0:S+=" ui-datepicker-group-first",k=" ui-corner-"+(q?"right":"left");break;case V[1]-1:S+=" ui-datepicker-group-last",k=" ui-corner-"+(q?"left":"right");break;default:S+=" ui-datepicker-group-middle",k=""}S+="'>"}for(S+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+k+"'>"+(/all|left/.test(k)&&0===x?q?o:i:"")+(/all|right/.test(k)&&0===x?q?i:o:"")+this._generateMonthYearHeader(t,Q,te,Z,J,x>0||C>0,p,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=f?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",_=0;7>_;_++)O=(_+c)%7,T+="<th scope='col'"+((_+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[O]+"'>"+d[O]+"</span></th>";for(S+=T+"</tr></thead><tbody>",M=this._getDaysInMonth(te,Q),te===t.selectedYear&&Q===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,M)),A=(this._getFirstDayOfMonth(te,Q)-c+7)%7,D=Math.ceil((A+M)/7),I=K&&this.maxRows>D?this.maxRows:D,this.maxRows=I,N=this._daylightSavingAdjust(new Date(te,Q,1-A)),P=0;I>P;P++){for(S+="<tr>",R=f?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(N)+"</td>":"",_=0;7>_;_++)L=m?m.apply(t.input?t.input[0]:null,[N]):[!0,""],j=N.getMonth()!==Q,F=j&&!y||!L[0]||Z&&Z>N||J&&N>J,R+="<td class='"+((_+c+6)%7>=5?" ui-datepicker-week-end":"")+(j?" ui-datepicker-other-month":"")+(N.getTime()===E.getTime()&&Q===t.selectedMonth&&t._keyEvent||b.getTime()===N.getTime()&&b.getTime()===E.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(j&&!v?"":" "+L[1]+(N.getTime()===G.getTime()?" "+this._currentClass:"")+(N.getTime()===z.getTime()?" ui-datepicker-today":""))+"'"+(j&&!v||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(j&&!v?"&#xa0;":F?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===z.getTime()?" ui-state-highlight":"")+(N.getTime()===G.getTime()?" ui-state-active":"")+(j?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);S+=R+"</tr>"}Q++,Q>11&&(Q=0,te++),S+="</tbody></table>"+(K?"</div>"+(V[0]>0&&C===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),$+=S}w+=$}return w+=l,t._keyEvent=!1,w},_generateMonthYearHeader:function(t,e,n,i,r,o,a,s){var u,l,c,f,h,d,p,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(o||!m)w+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(u=i&&i.getFullYear()===n,l=r&&r.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!u||c>=i.getMonth())&&(!l||c<=r.getMonth())&&(w+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+s[c]+"</option>");w+="</select>"}if(y||(b+=w+(!o&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(f=this._get(t,"yearRange").split(":"),h=(new Date).getFullYear(),d=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?h+parseInt(t,10):parseInt(t,10);return isNaN(e)?h:e},p=d(f[0]),g=Math.max(p,d(f[1]||"")),p=i?Math.max(p,i.getFullYear()):p,g=r?Math.min(g,r.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=p;p++)t.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!o&&m&&v?"":"&#xa0;")+w),b+="</div>"},_adjustInstDate:function(t,e,n){var i=t.drawYear+("Y"===n?e:0),r=t.drawMonth+("M"===n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"===n?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&n>e?n:e;return i&&r>i?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,i+(0>e?e:r[0]*r[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var n,i,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,s=null,u=this._get(t,"yearRange");return u&&(n=u.split(":"),i=(new Date).getFullYear(),a=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(a+=i),n[1].match(/[+\-].*/)&&(s+=i)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!s||e.getFullYear()<=s)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));
return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new r,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.11.4";t.datepicker;/*!
 * jQuery UI Draggable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */
t.widget("ui.draggable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return this._blurActiveElement(e),this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=this.document[0];if(this.handleElement.is(e.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&t(n.activeElement).blur()}catch(i){}},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",e,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",e)!==!1&&n._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),r=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=t(r.containment),i=n[0],void(i&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),u=t.pageX,l=t.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(u=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(l=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(u=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(l=n[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-a.grid[1]:r+a.grid[1]:r,o=a.grid[0]?this.originalPageX+Math.round((u-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,u=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(u=this.originalPageX),"x"===a.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,r))})},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,r))})},drag:function(e,n,i){t.each(i.sortables,function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",e),i.dropped=o.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(e),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,o=!1,a=i.scrollParentNotHidden[0],s=i.document[0];a!==s&&"HTML"!==a.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+a.offsetHeight-e.pageY<r.scrollSensitivity?a.scrollTop=o=a.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+a.offsetWidth-e.pageX<r.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(s).scrollTop()<r.scrollSensitivity?o=t(s).scrollTop(t(s).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(s).scrollTop())<r.scrollSensitivity&&(o=t(s).scrollTop(t(s).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(s).scrollLeft()<r.scrollSensitivity?o=t(s).scrollLeft(t(s).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(s).scrollLeft())<r.scrollSensitivity&&(o=t(s).scrollLeft(t(s).scrollLeft()+r.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var r,o,a,s,u,l,c,f,h,d,p=i.options,g=p.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,y=n.offset.top,b=y+i.helperProportions.height;for(h=i.snapElements.length-1;h>=0;h--)u=i.snapElements[h].left-i.margins.left,l=u+i.snapElements[h].width,c=i.snapElements[h].top-i.margins.top,f=c+i.snapElements[h].height,u-g>v||m>l+g||c-g>b||y>f+g||!t.contains(i.snapElements[h].item.ownerDocument,i.snapElements[h].item)?(i.snapElements[h].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=!1):("inner"!==p.snapMode&&(r=Math.abs(c-b)<=g,o=Math.abs(f-y)<=g,a=Math.abs(u-v)<=g,s=Math.abs(l-m)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:f,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u-i.helperProportions.width}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left)),d=r||o||a||s,"outer"!==p.snapMode&&(r=Math.abs(c-y)<=g,o=Math.abs(f-b)<=g,a=Math.abs(u-m)<=g,s=Math.abs(l-v)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:f-i.helperProportions.height,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left)),!i.snapElements[h].snapping&&(r||o||a||s||d)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=r||o||a||s||d)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,o=i.options,a=t.makeArray(t(o.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});a.length&&(r=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}});t.ui.draggable;/*!
 * jQuery UI Resizable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */
t.widget("ui.resizable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0?!0:(e[i]=1,r=e[i]>0,e[i]=0,r)},_create:function(){var e,n,i,r,o,a=this,s=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!s.aspectRatio,aspectRatio:s.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:s.helper||s.ghost||s.animate?s.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=s.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},n=0;n<e.length;n++)i=t.trim(e[n]),o="ui-resizable-"+i,r=t("<div class='ui-resizable-handle "+o+"'></div>"),r.css({zIndex:s.zIndex}),"se"===i&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(r);this._renderAxis=function(e){var n,i,r,o;e=e||this.element;for(n in this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=t(this.handles[n]),this._on(this.handles[n],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=t(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=r&&r[1]?r[1]:"se")}),s.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){s.disabled||(t(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){s.disabled||a.resizing||(t(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(e){var n,i,r=!1;for(n in this.handles)i=t(this.handles[n])[0],(i===e.target||t.contains(i,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var n,i,r,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=t(o.containment).scrollLeft()||0,i+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),a.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,r=this.originalMousePosition,o=this.axis,a=e.pageX-r.left||0,s=e.pageY-r.top||0,u=this._change[o];return this._updatePrevProperties(),u?(n=u.apply(this,[e,a,s]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var n,i,r,o,a,s,u,l=this.options,c=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),r=i&&this._hasScroll(n[0],"left")?0:c.sizeDiff.height,o=i?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-r},s=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,u=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(a,{top:u,left:s})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),n<o.maxWidth&&(o.maxWidth=n),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,s=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,l=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&l&&(t.left=s-e.minWidth),i&&l&&(t.left=s-e.maxWidth),a&&c&&(t.top=u-e.minHeight),r&&c&&(t.top=u-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)n[e]=parseInt(i[e],10)||0,n[e]+=parseInt(r[e],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize,i=this.originalPosition;return{left:i.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize,r=this.originalPosition;return{top:r.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),a=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,s=o?0:n.sizeDiff.width,u={width:n.size.width-s,height:n.size.height-a},l=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,c=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(u,c&&l?{top:c,left:l}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};r&&r.length&&t(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,r,o,a,s,u=t(this).resizable("instance"),l=u.options,c=u.element,f=l.containment,h=f instanceof t?f.get(0):/parent/.test(f)?c.parent().get(0):f;h&&(u.containerElement=t(h),/document/.test(f)||f===document?(u.containerOffset={left:0,top:0},u.containerPosition={left:0,top:0},u.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(h),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=u._num(e.css("padding"+i))}),u.containerOffset=e.offset(),u.containerPosition=e.position(),u.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=u.containerOffset,r=u.containerSize.height,o=u.containerSize.width,a=u._hasScroll(h,"left")?h.scrollWidth:o,s=u._hasScroll(h)?h.scrollHeight:r,u.parentData={element:h,left:i.left,top:i.top,width:a,height:s}))},resize:function(e){var n,i,r,o,a=t(this).resizable("instance"),s=a.options,u=a.containerOffset,l=a.position,c=a._aspectRatio||e.shiftKey,f={top:0,left:0},h=a.containerElement,d=!0;h[0]!==document&&/static/.test(h.css("position"))&&(f=u),l.left<(a._helper?u.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-u.left:a.position.left-f.left),c&&(a.size.height=a.size.width/a.aspectRatio,d=!1),a.position.left=s.helper?u.left:0),l.top<(a._helper?u.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-u.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio,d=!1),a.position.top=a._helper?u.top:0),r=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),r&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),n=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-f.left:a.offset.left-u.left)),i=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-f.top:a.offset.top-u.top)),n+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-n,c&&(a.size.height=a.size.width/a.aspectRatio,d=!1)),i+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-i,c&&(a.size.width=a.size.height*a.aspectRatio,d=!1)),d||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,r=e.containerPosition,o=e.containerElement,a=t(e.helper),s=a.offset(),u=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:s.left-r.left-i.left,width:u,height:l}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:s.left-r.left-i.left,width:u,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),n=e.options;t(n.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})},resize:function(e,n){var i=t(this).resizable("instance"),r=i.options,o=i.originalSize,a=i.originalPosition,s={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-a.top||0,left:i.position.left-a.left||0};t(r.alsoResize).each(function(){var e=t(this),i=t(this).data("ui-resizable-alsoresize"),r={},o=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var n=(i[e]||0)+(s[e]||0);n&&n>=0&&(r[e]=n||null)}),e.css(r)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.options,i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,a=n.originalPosition,s=n.axis,u="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=u[0]||1,c=u[1]||1,f=Math.round((r.width-o.width)/l)*l,h=Math.round((r.height-o.height)/c)*c,d=o.width+f,p=o.height+h,g=i.maxWidth&&i.maxWidth<d,m=i.maxHeight&&i.maxHeight<p,v=i.minWidth&&i.minWidth>d,y=i.minHeight&&i.minHeight>p;i.grid=u,v&&(d+=l),y&&(p+=c),g&&(d-=l),m&&(p-=c),/^(se|s|e)$/.test(s)?(n.size.width=d,n.size.height=p):/^(ne)$/.test(s)?(n.size.width=d,n.size.height=p,n.position.top=a.top-h):/^(sw)$/.test(s)?(n.size.width=d,n.size.height=p,n.position.left=a.left-f):((0>=p-c||0>=d-l)&&(e=n._getPaddingPlusBorderDimensions(this)),p-c>0?(n.size.height=p,n.position.top=a.top-h):(p=c-e.height,n.size.height=p,n.position.top=a.top+o.height-p),d-l>0?(n.size.width=d,n.position.left=a.left-f):(d=l-e.width,n.size.width=d,n.position.left=a.left+o.width-d))}});t.ui.resizable,t.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var n=t(this).css(e).offset().top;0>n&&t(this).css("top",e.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var n,i=this;if(this._isOpen&&this._trigger("beforeClose",e)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{n=this.document[0].activeElement,n&&"body"!==n.nodeName.toLowerCase()&&t(n).blur()}catch(r){}this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,n){var i=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!n&&this._trigger("focus",e),i},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function n(){var e=this.document[0].activeElement,n=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);n||this._focusTabbable()}e.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){r.focus()}),e.preventDefault()):(this._delay(function(){i.focus()}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,n=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(n)||t.isArray(n)&&!n.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(t.each(n,function(n,i){var r,o;i=t.isFunction(i)?{click:i,text:n}:i,i=t.extend({type:"button"},i),r=i.click,i.click=function(){r.apply(e.element[0],arguments)},o={icons:i.icons,text:i.showText},delete i.icons,delete i.showText,t("<button></button>",i).button(o).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,r){t(this).addClass("ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",i,e(r))},drag:function(t,i){n._trigger("drag",t,e(i))},stop:function(r,o){var a=o.offset.left-n.document.scrollLeft(),s=o.offset.top-n.document.scrollTop();i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(s>=0?"+":"")+s,of:n.window},t(this).removeClass("ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",r,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var n=this,i=this.options,r=i.resizable,o=this.uiDialog.css("position"),a="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:a,start:function(i,r){t(this).addClass("ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",i,e(r))},resize:function(t,i){n._trigger("resize",t,e(i))},stop:function(r,o){var a=n.uiDialog.offset(),s=a.left-n.document.scrollLeft(),u=a.top-n.document.scrollTop();i.height=n.uiDialog.height(),i.width=n.uiDialog.width(),i.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(u>=0?"+":"")+u,of:n.window},t(this).removeClass("ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",r,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),n=t.inArray(this,e);-1!==n&&e.splice(n,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,r={};t.each(e,function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(r[t]=e)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(t,e){var n,i,r=this.uiDialog;"dialogClass"===t&&r.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(n=r.is(":data(ui-draggable)"),n&&!e&&r.draggable("destroy"),!n&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(i=r.is(":data(ui-resizable)"),i&&!e&&r.resizable("destroy"),i&&"string"==typeof e&&r.resizable("option","handles",e),i||e===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}});/*!
 * jQuery UI Droppable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/droppable/
 */
t.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,n){if("accept"===e)this.accept=t.isFunction(n)?n:function(t){return t.is(n)};else if("scope"===e){var i=t.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,r=!1;return i&&(i.currentItem||i.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=t(this).droppable("instance");return n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&t.ui.intersect(i,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,e)?(r=!0,!1):void 0}),r?!1:this.accept.call(this.element[0],i.currentItem||i.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(i)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(){function t(t,e,n){return t>=e&&e+n>t}return function(e,n,i,r){if(!n.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,s=o+e.helperProportions.width,u=a+e.helperProportions.height,l=n.offset.left,c=n.offset.top,f=l+n.proportions().width,h=c+n.proportions().height;switch(i){case"fit":return o>=l&&f>=s&&a>=c&&h>=u;case"intersect":return l<o+e.helperProportions.width/2&&s-e.helperProportions.width/2<f&&c<a+e.helperProportions.height/2&&u-e.helperProportions.height/2<h;case"pointer":return t(r.pageY,c,n.proportions().height)&&t(r.pageX,l,n.proportions().width);case"touch":return(a>=c&&h>=a||u>=c&&h>=u||c>a&&u>h)&&(o>=l&&f>=o||s>=l&&f>=s||l>o&&s>f);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,n){var i,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=n?n.type:null,s=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<o.length;i++)if(!(o[i].options.disabled||e&&!o[i].accept.call(o[i].element[0],e.currentItem||e.element))){for(r=0;r<s.length;r++)if(s[r]===o[i].element[0]){o[i].proportions().height=0;continue t}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===a&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,a=t.ui.intersect(e,this,this.options.tolerance,n),s=!a&&this.isover?"isout":a&&!this.isover?"isover":null;s&&(this.options.greedy&&(r=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r}),o.length&&(i=t(o[0]).droppable("instance"),i.greedyChild="isover"===s)),i&&"isover"===s&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,n),i&&"isout"===s&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}};var y=(t.ui.droppable,"ui-effects-"),b=t;t.effects={effect:{}},/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
function(t,e){function n(t,e,n){var i=f[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:i.max<t?i.max:t)}function i(e){var n=l(),i=n._rgba=[];return e=e.toLowerCase(),p(u,function(t,r){var o,a=r.re.exec(e),s=a&&r.parse(a),u=r.space||"rgba";return s?(o=n[u](s),n[c[u].cache]=o[c[u].cache],i=n._rgba=o._rgba,!1):void 0}),i.length?("0,0,0,0"===i.join()&&t.extend(i,o.transparent),n):o[e]}function r(t,e,n){return n=(n+1)%1,1>6*n?t+(e-t)*n*6:1>2*n?e:2>3*n?t+(e-t)*(2/3-n)*6:t}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",s=/^([\-+])=\s*(\d+\.?\d*)/,u=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,n,i,r){return new t.Color.fn.parse(e,n,i,r)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},f={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=l.support={},d=t("<p>")[0],p=t.each;d.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=d.style.backgroundColor.indexOf("rgba")>-1,p(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(r,a,s,u){if(r===e)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(a),a=e);var f=this,h=t.type(r),d=this._rgba=[];return a!==e&&(r=[r,a,s,u],h="array"),"string"===h?this.parse(i(r)||o._default):"array"===h?(p(c.rgba.props,function(t,e){d[e.idx]=n(r[e.idx],e)}),this):"object"===h?(r instanceof l?p(c,function(t,e){r[e.cache]&&(f[e.cache]=r[e.cache].slice())}):p(c,function(e,i){var o=i.cache;p(i.props,function(t,e){if(!f[o]&&i.to){if("alpha"===t||null==r[t])return;f[o]=i.to(f._rgba)}f[o][e.idx]=n(r[t],e,!0)}),f[o]&&t.inArray(null,f[o].slice(0,3))<0&&(f[o][3]=1,i.from&&(f._rgba=i.from(f[o])))}),this):void 0},is:function(t){var e=l(t),n=!0,i=this;return p(c,function(t,r){var o,a=e[r.cache];return a&&(o=i[r.cache]||r.to&&r.to(i._rgba)||[],p(r.props,function(t,e){return null!=a[e.idx]?n=a[e.idx]===o[e.idx]:void 0})),n}),n},_space:function(){var t=[],e=this;return p(c,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var i=l(t),r=i._space(),o=c[r],a=0===this.alpha()?l("transparent"):this,s=a[o.cache]||o.to(a._rgba),u=s.slice();return i=i[o.cache],p(o.props,function(t,r){var o=r.idx,a=s[o],l=i[o],c=f[r.type]||{};null!==l&&(null===a?u[o]=l:(c.mod&&(l-a>c.mod/2?a+=c.mod:a-l>c.mod/2&&(a-=c.mod)),u[o]=n((l-a)*e+a,r)))}),this[r](u)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=l(e)._rgba;return l(t.map(n,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,a=t[3],s=Math.max(i,r,o),u=Math.min(i,r,o),l=s-u,c=s+u,f=.5*c;return e=u===s?0:i===s?60*(r-o)/l+360:r===s?60*(o-i)/l+120:60*(i-r)/l+240,n=0===l?0:.5>=f?l/c:l/(2-c),[Math.round(e)%360,n,f,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],o=t[3],a=.5>=i?i*(1+n):i+n-i*n,s=2*i-a;return[Math.round(255*r(s,a,e+1/3)),Math.round(255*r(s,a,e)),Math.round(255*r(s,a,e-1/3)),o]},p(c,function(i,r){var o=r.props,a=r.cache,u=r.to,c=r.from;l.fn[i]=function(i){if(u&&!this[a]&&(this[a]=u(this._rgba)),i===e)return this[a].slice();var r,s=t.type(i),f="array"===s||"object"===s?i:arguments,h=this[a].slice();return p(o,function(t,e){var i=f["object"===s?t:e.idx];null==i&&(i=h[e.idx]),h[e.idx]=n(i,e)}),c?(r=l(c(h)),r[a]=h,r):l(h)},p(o,function(e,n){l.fn[e]||(l.fn[e]=function(r){var o,a=t.type(r),u="alpha"===e?this._hsla?"hsla":"rgba":i,l=this[u](),c=l[n.idx];return"undefined"===a?c:("function"===a&&(r=r.call(this,c),a=t.type(r)),null==r&&n.empty?this:("string"===a&&(o=s.exec(r),o&&(r=c+parseFloat(o[2])*("+"===o[1]?1:-1))),l[n.idx]=r,this[u](l)))})})}),l.hook=function(e){var n=e.split(" ");p(n,function(e,n){t.cssHooks[n]={set:function(e,r){var o,a,s="";if("transparent"!==r&&("string"!==t.type(r)||(o=i(r)))){if(r=l(o||r),!h.rgba&&1!==r._rgba[3]){for(a="backgroundColor"===n?e.parentNode:e;(""===s||"transparent"===s)&&a&&a.style;)try{s=t.css(a,"backgroundColor"),a=a.parentNode}catch(u){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{e.style[n]=r}catch(u){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=l(e.elem,n),e.end=l(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return p(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(b),function(){function e(e){var n,i,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)n=r[i],"string"==typeof r[n]&&(o[t.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}function n(e,n){var i,o,a={};for(i in n)o=n[i],e[i]!==o&&(r[i]||(t.fx.step[i]||!isNaN(parseFloat(o)))&&(a[i]=o));return a}var i=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(b.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(r,o,a,s){var u=t.speed(o,a,s);return this.queue(function(){var o,a=t(this),s=a.attr("class")||"",l=u.children?a.find("*").addBack():a;l=l.map(function(){var n=t(this);return{el:n,start:e(this)}}),o=function(){t.each(i,function(t,e){r[e]&&a[e+"Class"](r[e])})},o(),l=l.map(function(){return this.end=e(this.el[0]),this.diff=n(this.start,this.end),this}),a.attr("class",s),l=l.map(function(){var e=this,n=t.Deferred(),i=t.extend({},u,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,l.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),u.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(n,i,r,o){return i?t.effects.animateClass.call(this,{add:n},i,r,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(n,i,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,r,o,a){return"boolean"==typeof i||void 0===i?r?t.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,r,o)}}(t.fn.toggleClass),switchClass:function(e,n,i,r,o){return t.effects.animateClass.call(this,{add:n,remove:e},i,r,o)}})}(),function(){function e(e,n,i,r){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(r=i,i=n,n={}),t.isFunction(i)&&(r=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=r||n.complete,e}function n(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}t.extend(t.effects,{version:"1.11.4",save:function(t,e){for(var n=0;n<e.length;n++)null!==e[n]&&t.data(y+e[n],t[0].style[e[n]])},restore:function(t,e){var n,i;for(i=0;i<e.length;i++)null!==e[i]&&(n=t.data(y+e[i]),void 0===n&&(n=""),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return e.wrap(i),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).focus()),e},setTransition:function(e,n,i,r){return r=r||{},t.each(n,function(t,n){var o=e.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),t.fn.extend({effect:function(){function n(e){function n(){t.isFunction(o)&&o.call(r[0]),t.isFunction(e)&&e()}var r=t(this),o=i.complete,s=i.mode;(r.is(":hidden")?"hide"===s:"show"===s)?(r[s](),n()):a.call(r[0],i,n)}var i=e.apply(this,arguments),r=i.mode,o=i.queue,a=t.effects.effect[i.effect];return t.fx.off||!a?r?this[r](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):o===!1?this.each(n):this.queue(o||"fx",n)},show:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(t.fn.show),hide:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(i){if(n(i)||"boolean"==typeof i)return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,n){e[n]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?n(2*t)/2:1-n(-2*t+2)/2}})}();t.effects,t.effects.effect.blind=function(e,n){var i,r,o,a=t(this),s=/up|down|vertical/,u=/up|left|vertical|horizontal/,l=["position","top","bottom","left","right","height","width"],c=t.effects.setMode(a,e.mode||"hide"),f=e.direction||"up",h=s.test(f),d=h?"height":"width",p=h?"top":"left",g=u.test(f),m={},v="show"===c;a.parent().is(".ui-effects-wrapper")?t.effects.save(a.parent(),l):t.effects.save(a,l),a.show(),i=t.effects.createWrapper(a).css({overflow:"hidden"}),r=i[d](),o=parseFloat(i.css(p))||0,m[d]=v?r:0,g||(a.css(h?"bottom":"right",0).css(h?"top":"left","auto").css({position:"absolute"}),m[p]=v?o:r+o),v&&(i.css(d,0),g||i.css(p,o+r)),i.animate(m,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===c&&a.hide(),t.effects.restore(a,l),t.effects.removeWrapper(a),n()}})},t.effects.effect.bounce=function(e,n){var i,r,o,a=t(this),s=["position","top","bottom","left","right","height","width"],u=t.effects.setMode(a,e.mode||"effect"),l="hide"===u,c="show"===u,f=e.direction||"up",h=e.distance,d=e.times||5,p=2*d+(c||l?1:0),g=e.duration/p,m=e.easing,v="up"===f||"down"===f?"top":"left",y="up"===f||"left"===f,b=a.queue(),w=b.length;for((c||l)&&s.push("opacity"),t.effects.save(a,s),a.show(),t.effects.createWrapper(a),h||(h=a["top"===v?"outerHeight":"outerWidth"]()/3),c&&(o={opacity:1},o[v]=0,a.css("opacity",0).css(v,y?2*-h:2*h).animate(o,g,m)),l&&(h/=Math.pow(2,d-1)),o={},o[v]=0,i=0;d>i;i++)r={},r[v]=(y?"-=":"+=")+h,a.animate(r,g,m).animate(o,g,m),h=l?2*h:h/2;l&&(r={opacity:0},r[v]=(y?"-=":"+=")+h,a.animate(r,g,m)),a.queue(function(){l&&a.hide(),t.effects.restore(a,s),t.effects.removeWrapper(a),n()}),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,p+1))),a.dequeue()},t.effects.effect.clip=function(e,n){var i,r,o,a=t(this),s=["position","top","bottom","left","right","height","width"],u=t.effects.setMode(a,e.mode||"hide"),l="show"===u,c=e.direction||"vertical",f="vertical"===c,h=f?"height":"width",d=f?"top":"left",p={};t.effects.save(a,s),a.show(),i=t.effects.createWrapper(a).css({overflow:"hidden"}),r="IMG"===a[0].tagName?i:a,o=r[h](),l&&(r.css(h,0),r.css(d,o/2)),p[h]=l?o:0,p[d]=l?0:o/2,r.animate(p,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){l||a.hide(),t.effects.restore(a,s),t.effects.removeWrapper(a),n()}})},t.effects.effect.drop=function(e,n){var i,r=t(this),o=["position","top","bottom","left","right","opacity","height","width"],a=t.effects.setMode(r,e.mode||"hide"),s="show"===a,u=e.direction||"left",l="up"===u||"down"===u?"top":"left",c="up"===u||"left"===u?"pos":"neg",f={opacity:s?1:0};t.effects.save(r,o),r.show(),t.effects.createWrapper(r),i=e.distance||r["top"===l?"outerHeight":"outerWidth"](!0)/2,s&&r.css("opacity",0).css(l,"pos"===c?-i:i),f[l]=(s?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+i,r.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),n()}})},t.effects.effect.explode=function(e,n){function i(){b.push(this),b.length===f*h&&r()}function r(){d.css({visibility:"visible"}),t(b).remove(),g||d.hide(),n()}var o,a,s,u,l,c,f=e.pieces?Math.round(Math.sqrt(e.pieces)):3,h=f,d=t(this),p=t.effects.setMode(d,e.mode||"hide"),g="show"===p,m=d.show().css("visibility","hidden").offset(),v=Math.ceil(d.outerWidth()/h),y=Math.ceil(d.outerHeight()/f),b=[];for(o=0;f>o;o++)for(u=m.top+o*y,c=o-(f-1)/2,a=0;h>a;a++)s=m.left+a*v,l=a-(h-1)/2,d.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*v,top:-o*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:s+(g?l*v:0),top:u+(g?c*y:0),opacity:g?0:1}).animate({left:s+(g?0:l*v),top:u+(g?0:c*y),opacity:g?1:0},e.duration||500,e.easing,i)},t.effects.effect.fade=function(e,n){var i=t(this),r=t.effects.setMode(i,e.mode||"toggle");i.animate({opacity:r},{queue:!1,duration:e.duration,easing:e.easing,complete:n})},t.effects.effect.fold=function(e,n){var i,r,o=t(this),a=["position","top","bottom","left","right","height","width"],s=t.effects.setMode(o,e.mode||"hide"),u="show"===s,l="hide"===s,c=e.size||15,f=/([0-9]+)%/.exec(c),h=!!e.horizFirst,d=u!==h,p=d?["width","height"]:["height","width"],g=e.duration/2,m={},v={};t.effects.save(o,a),o.show(),i=t.effects.createWrapper(o).css({overflow:"hidden"}),r=d?[i.width(),i.height()]:[i.height(),i.width()],f&&(c=parseInt(f[1],10)/100*r[l?0:1]),u&&i.css(h?{height:0,width:c}:{height:c,width:0}),m[p[0]]=u?r[0]:c,v[p[1]]=u?r[1]:0,i.animate(m,g,e.easing).animate(v,g,e.easing,function(){l&&o.hide(),t.effects.restore(o,a),t.effects.removeWrapper(o),n()})},t.effects.effect.highlight=function(e,n){var i=t(this),r=["backgroundImage","backgroundColor","opacity"],o=t.effects.setMode(i,e.mode||"show"),a={backgroundColor:i.css("backgroundColor")};"hide"===o&&(a.opacity=0),t.effects.save(i,r),i.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&i.hide(),t.effects.restore(i,r),n()}})},t.effects.effect.size=function(e,n){var i,r,o,a=t(this),s=["position","top","bottom","left","right","width","height","overflow","opacity"],u=["position","top","bottom","left","right","overflow","opacity"],l=["width","height","overflow"],c=["fontSize"],f=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],d=t.effects.setMode(a,e.mode||"effect"),p=e.restore||"effect"!==d,g=e.scale||"both",m=e.origin||["middle","center"],v=a.css("position"),y=p?s:u,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===d&&a.show(),i={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===e.mode&&"show"===d?(a.from=e.to||b,a.to=e.from||i):(a.from=e.from||("show"===d?b:i),a.to=e.to||("hide"===d?b:i)),o={from:{y:a.from.height/i.height,x:a.from.width/i.width},to:{y:a.to.height/i.height,x:a.to.width/i.width}},("box"===g||"both"===g)&&(o.from.y!==o.to.y&&(y=y.concat(f),a.from=t.effects.setTransition(a,f,o.from.y,a.from),a.to=t.effects.setTransition(a,f,o.to.y,a.to)),o.from.x!==o.to.x&&(y=y.concat(h),a.from=t.effects.setTransition(a,h,o.from.x,a.from),a.to=t.effects.setTransition(a,h,o.to.x,a.to))),("content"===g||"both"===g)&&o.from.y!==o.to.y&&(y=y.concat(c).concat(l),a.from=t.effects.setTransition(a,c,o.from.y,a.from),a.to=t.effects.setTransition(a,c,o.to.y,a.to)),t.effects.save(a,y),a.show(),t.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),m&&(r=t.effects.getBaseline(m,i),a.from.top=(i.outerHeight-a.outerHeight())*r.y,a.from.left=(i.outerWidth-a.outerWidth())*r.x,a.to.top=(i.outerHeight-a.to.outerHeight)*r.y,a.to.left=(i.outerWidth-a.to.outerWidth)*r.x),a.css(a.from),("content"===g||"both"===g)&&(f=f.concat(["marginTop","marginBottom"]).concat(c),h=h.concat(["marginLeft","marginRight"]),l=s.concat(f).concat(h),a.find("*[width]").each(function(){var n=t(this),i={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};p&&t.effects.save(n,l),n.from={height:i.height*o.from.y,width:i.width*o.from.x,outerHeight:i.outerHeight*o.from.y,outerWidth:i.outerWidth*o.from.x},n.to={height:i.height*o.to.y,width:i.width*o.to.x,outerHeight:i.height*o.to.y,outerWidth:i.width*o.to.x},o.from.y!==o.to.y&&(n.from=t.effects.setTransition(n,f,o.from.y,n.from),n.to=t.effects.setTransition(n,f,o.to.y,n.to)),o.from.x!==o.to.x&&(n.from=t.effects.setTransition(n,h,o.from.x,n.from),n.to=t.effects.setTransition(n,h,o.to.x,n.to)),n.css(n.from),n.animate(n.to,e.duration,e.easing,function(){p&&t.effects.restore(n,l)})})),a.animate(a.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===d&&a.hide(),t.effects.restore(a,y),p||("static"===v?a.css({position:"relative",top:a.to.top,left:a.to.left}):t.each(["top","left"],function(t,e){a.css(e,function(e,n){var i=parseInt(n,10),r=t?a.to.left:a.to.top;return"auto"===n?r+"px":i+r+"px"})})),t.effects.removeWrapper(a),n()}})},t.effects.effect.scale=function(e,n){var i=t(this),r=t.extend(!0,{},e),o=t.effects.setMode(i,e.mode||"effect"),a=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===o?0:100),s=e.direction||"both",u=e.origin,l={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},c={y:"horizontal"!==s?a/100:1,x:"vertical"!==s?a/100:1};r.effect="size",r.queue=!1,r.complete=n,"effect"!==o&&(r.origin=u||["middle","center"],r.restore=!0),r.from=e.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:l),r.to={height:l.height*c.y,width:l.width*c.x,outerHeight:l.outerHeight*c.y,outerWidth:l.outerWidth*c.x},r.fade&&("show"===o&&(r.from.opacity=0,r.to.opacity=1),"hide"===o&&(r.from.opacity=1,r.to.opacity=0)),i.effect(r)},t.effects.effect.puff=function(e,n){var i=t(this),r=t.effects.setMode(i,e.mode||"hide"),o="hide"===r,a=parseInt(e.percent,10)||150,s=a/100,u={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:r,complete:n,percent:o?a:100,from:o?u:{height:u.height*s,width:u.width*s,outerHeight:u.outerHeight*s,outerWidth:u.outerWidth*s}}),i.effect(e)},t.effects.effect.pulsate=function(e,n){var i,r=t(this),o=t.effects.setMode(r,e.mode||"show"),a="show"===o,s="hide"===o,u=a||"hide"===o,l=2*(e.times||5)+(u?1:0),c=e.duration/l,f=0,h=r.queue(),d=h.length;for((a||!r.is(":visible"))&&(r.css("opacity",0).show(),f=1),i=1;l>i;i++)r.animate({opacity:f},c,e.easing),f=1-f;r.animate({opacity:f},c,e.easing),r.queue(function(){s&&r.hide(),n()}),d>1&&h.splice.apply(h,[1,0].concat(h.splice(d,l+1))),r.dequeue()},t.effects.effect.shake=function(e,n){var i,r=t(this),o=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(r,e.mode||"effect"),s=e.direction||"left",u=e.distance||20,l=e.times||3,c=2*l+1,f=Math.round(e.duration/c),h="up"===s||"down"===s?"top":"left",d="up"===s||"left"===s,p={},g={},m={},v=r.queue(),y=v.length;for(t.effects.save(r,o),r.show(),t.effects.createWrapper(r),p[h]=(d?"-=":"+=")+u,g[h]=(d?"+=":"-=")+2*u,m[h]=(d?"-=":"+=")+2*u,r.animate(p,f,e.easing),i=1;l>i;i++)r.animate(g,f,e.easing).animate(m,f,e.easing);r.animate(g,f,e.easing).animate(p,f/2,e.easing).queue(function(){"hide"===a&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),n()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,c+1))),r.dequeue()},t.effects.effect.slide=function(e,n){var i,r=t(this),o=["position","top","bottom","left","right","width","height"],a=t.effects.setMode(r,e.mode||"show"),s="show"===a,u=e.direction||"left",l="up"===u||"down"===u?"top":"left",c="up"===u||"left"===u,f={};t.effects.save(r,o),r.show(),i=e.distance||r["top"===l?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(r).css({overflow:"hidden"}),s&&r.css(l,c?isNaN(i)?"-"+i:-i:i),f[l]=(s?c?"+=":"-=":c?"-=":"+=")+i,r.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),n()}})},t.effects.effect.transfer=function(e,n){var i=t(this),r=t(e.to),o="fixed"===r.css("position"),a=t("body"),s=o?a.scrollTop():0,u=o?a.scrollLeft():0,l=r.offset(),c={top:l.top-s,left:l.left-u,height:r.innerHeight(),width:r.innerWidth()},f=i.offset(),h=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:f.top-s,left:f.left-u,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){h.remove(),n()})},t.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(n.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(n.options.filter,n.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),n=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:n.left,top:n.top,right:n.left+e.outerWidth(),bottom:n.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=t.data(this,"selectable-item");i.startselected=!0,e.metaKey||e.ctrlKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))}),t(e.target).parents().addBack().each(function(){var i,r=t.data(this,"selectable-item");return r?(i=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(i?"ui-unselecting":"ui-selected").addClass(i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",e,{selecting:r.element}):n._trigger("unselecting",e,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],a=this.opos[1],s=e.pageX,u=e.pageY;return o>s&&(n=s,s=o,o=n),a>u&&(n=u,u=a,a=n),this.helper.css({left:o,top:a,width:s-o,height:u-a}),this.selectees.each(function(){var n=t.data(this,"selectable-item"),l=!1;n&&n.element!==i.element[0]&&("touch"===r.tolerance?l=!(n.left>s||n.right<o||n.top>u||n.bottom<a):"fit"===r.tolerance&&(l=n.left>o&&n.right<s&&n.top>a&&n.bottom<u),l?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&(e.metaKey||e.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})}),t(".ui-selecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var e=this;this.label=t("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),t("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=t("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e.menuItems||e._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(t,n){t.preventDefault(),e._setSelection(),e._select(n.item.data("ui-selectmenu-item"),t)
},focus:function(t,n){var i=n.item.data("ui-selectmenu-item");null!=e.focusIndex&&i.index!==e.focusIndex&&(e._trigger("focus",t,{item:i}),e.isOpen||e._select(i,t)),e.focusIndex=i.index,e.button.attr("aria-activedescendant",e.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var t,e=this.element.find("option");e.length&&(this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(e,n){var i=this,r="";t.each(n,function(n,o){o.optgroup!==r&&(t("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:o.optgroup}).appendTo(e),r=o.optgroup),i._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,n){var i=t("<li>");return n.disabled&&i.addClass("ui-state-disabled"),this._setText(i,n.label),i.appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex):(n=this.menuItems.eq(this.element[0].selectedIndex),r+=":not(.ui-state-disabled)"),i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](r).eq(-1):n[t+"All"](r).eq(0),i.length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var n=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),n=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),n=!1}n&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex);e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this._setText(this.buttonText,t.label),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==n&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){"icons"===t&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(e.button),this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"disabled"===t&&(this.menuInstance.option("disabled",e),this.button.toggleClass("ui-state-disabled",e).attr("aria-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===t&&this._resizeButton()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;t||(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(e){var n=[];e.each(function(e,i){var r=t(i),o=r.parent("optgroup");n.push({element:r,index:e,value:r.val(),label:r.text(),optgroup:o.attr("label")||"",disabled:o.prop("disabled")||r.prop("disabled")})}),this.items=n},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),t.widget("ui.slider",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,i=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",a=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),e=r.length;n>e;e++)a.push(o);this.handles=r.add(t(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,n="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var n,i,r,o,a,s,u,l,c=this,f=this.options;return f.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var n=Math.abs(i-c.values(e));(r>n||r===n&&(e===c._lastChangedValue||c.values(e)===f.min))&&(r=n,o=t(this),a=e)}),s=this._start(e,a),s===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,o.addClass("ui-state-active").focus(),u=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-u.left-o.width()/2,top:e.pageY-u.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/e,i>1&&(i=1),0>i&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_start:function(t,e){var n={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("start",t,n)},_slide:function(t,e,n){var i,r,o;this.options.values&&this.options.values.length?(i=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&n>i||1===e&&i>n)&&(n=i),n!==this.values(e)&&(r=this.values(),r[e]=n,o=this._trigger("slide",t,{handle:this.handles[e],value:n,values:r}),i=this.values(e?0:1),o!==!1&&this.values(e,n))):n!==this.value()&&(o=this._trigger("slide",t,{handle:this.handles[e],value:n}),o!==!1&&this.value(n))},_stop:function(t,e){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._trigger("stop",t,n)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(e),n.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,n)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var i,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(i=this.options.values,r=arguments[0],o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,n){var i,r=0;switch("range"===e&&this.options.range===!0&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!n),this._super(e,n),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;r>i;i+=1)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step,i=Math.floor(+(t-e).toFixed(this._precision())/n)*n;t=i+e,this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var e,n,i,r,o,a=this.options.range,s=this.options,u=this,l=this._animateOff?!1:s.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(i){n=(u.values(i)-u._valueMin())/(u._valueMax()-u._valueMin())*100,c["horizontal"===u.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[l?"animate":"css"](c,s.animate),u.options.range===!0&&("horizontal"===u.orientation?(0===i&&u.range.stop(1,1)[l?"animate":"css"]({left:n+"%"},s.animate),1===i&&u.range[l?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:s.animate})):(0===i&&u.range.stop(1,1)[l?"animate":"css"]({bottom:n+"%"},s.animate),1===i&&u.range[l?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:s.animate}))),e=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?(i-r)/(o-r)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[l?"animate":"css"](c,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:n+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:s.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:n+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:s.animate}))},_handleEvents:{keydown:function(e){var n,i,r,o,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),n=this._start(e,a),n===!1))return}switch(o=this.options.step,i=r=this.options.values&&this.options.values.length?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;r=this._trimAlignValue(i+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;r=this._trimAlignValue(i-o)}this._slide(e,a,r)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),t(e.target).removeClass("ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&e+n>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(i=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),i&&(!this.options.handle||n||(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),r))?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,n,i){var r,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,a=this.options,s=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),s!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],o=this._intersectsWithPointer(i),o&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],r):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,a=o+t.width,s=t.top,u=s+t.height,l=this.offset.click.top,c=this.offset.click.left,f="x"===this.options.axis||i+l>s&&u>i+l,h="y"===this.options.axis||e+c>o&&a>e+c,d=f&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?d:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<u},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=e&&n,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return i?this.floating?o&&"right"===o||"down"===r?2:1:r&&("down"===r?2:1):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){s.push(this)}var i,r,o,a,s=[],u=[],l=this._connectWith();if(l&&e)for(i=l.length-1;i>=0;i--)for(o=t(l[i],this.document[0]),r=o.length-1;r>=0;r--)a=t.data(o[r],this.widgetFullName),a&&a!==this&&!a.options.disabled&&u.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(u.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=u.length-1;i>=0;i--)u[i][0].each(n);return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,a,s,u,l,c=this.items,f=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(r=t(h[n],this.document[0]),i=r.length-1;i>=0;i--)o=t.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(f.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=f.length-1;n>=0;n--)for(a=f[n][1],s=f[n][0],i=0,l=s.length;l>i;i++)u=t(s[i]),u.data(this.widgetName+"-item",a),c.push({item:u,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var n,i=e.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]).addClass(n||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===i?e._createTrPlaceholder(e.currentItem,r):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each(function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,i,r,o,a,s,u,l,c,f,h=null,d=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&t.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],d=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(r=1e4,o=null,c=h.floating||this._isFloating(this.currentItem),a=c?"left":"top",s=c?"width":"height",f=c?"clientX":"clientY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[d].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(u=this.items[i].item.offset()[a],l=!1,e[f]-u>this.items[i][s]/2&&(l=!0),Math.abs(e[f]-u)<r&&(r=Math.abs(e[f]-u),o=this.items[i],this.direction=l?"up":"down"));
if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[d])return void(this.currentContainer.containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[d].element,!0),this._trigger("change",e,this._uiHash()),this.containers[d]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,a=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,u=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():u?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():u?0:s.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}}),t.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},n=this.element;return t.each(["min","max","step"],function(t,i){var r=n.attr(i);void 0!==r&&r.length&&(e[i]=r)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function n(){var t=this.element[0]===this.document[0].activeElement;t||(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var n=this.options,i=t.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,n.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:n})===!1||(this._value(n),this.counter++)},_increment:function(e){var n=this.options.incremental;return n?t.isFunction(n)?n(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return e=null!==i.min?i.min:0,n=t-e,n=Math.round(n/i.step)*i.step,t=e+n,t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&t<i.min?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var n=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(n))}("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable"))},_setOptions:u(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null===t?!1:t===this._adjustValue(t)},_value:function(t,e){var n;""!==t&&(n=this._parse(t),null!==n&&(e||(n=this._adjustValue(n)),t=this._format(n))),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:u(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:u(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:u(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:u(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void u(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var n,i;e=e.cloneNode(!1),n=e.href.replace(t,""),i=location.href.replace(t,"");try{n=decodeURIComponent(n)}catch(r){}try{i=decodeURIComponent(i)}catch(r){}return e.hash.length>1&&n===i}}(),_create:function(){var e=this,n=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible),this._processTabs(),n.active=this._initialActive(),t.isArray(n.disabled)&&(n.disabled=t.unique(n.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(n.active):t(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var e=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===e&&(i&&this.tabs.each(function(n,r){return t(r).attr("aria-controls")===i?(e=n,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=n?!1:0)),!n&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var n=t(this.document[0].activeElement).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:i++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,i--;break;case t.ui.keyCode.END:i=this.anchors.length-1;break;case t.ui.keyCode.HOME:i=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i===this.options.active?!1:i);default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),e.ctrlKey||e.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,n){function i(){return e>r&&(e=0),0>e&&(e=r),e}for(var r=this.tabs.length-1;-1!==t.inArray(i(),this.options.disabled);)e=n?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){return"active"===t?void this._activate(e):"disabled"===t?void this._setupDisabled(e):(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,n=this.tablist.children(":has(a[href])");e.disabled=t.map(n.filter(".ui-state-disabled"),function(t){return n.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,n=this.tabs,i=this.anchors,r=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(n,i){var r,o,a,s=t(i).uniqueId().attr("id"),u=t(i).closest("li"),l=u.attr("aria-controls");e._isLocal(i)?(r=i.hash,a=r.substring(1),o=e.element.find(e._sanitizeSelector(r))):(a=u.attr("aria-controls")||t({}).uniqueId()[0].id,r="#"+a,o=e.element.find(r),o.length||(o=e._createPanel(a),o.insertAfter(e.panels[n-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),l&&u.data("ui-tabs-aria-controls",l),u.attr({"aria-controls":a,"aria-labelledby":s}),o.attr("aria-labelledby",s)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),n&&(this._off(n.not(this.tabs)),this._off(i.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var n,i=0;n=this.tabs[i];i++)e===!0||-1!==t.inArray(i,e)?t(n).addClass("ui-state-disabled").attr("aria-disabled","true"):t(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var n={};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,i=this.element.parent();"fill"===e?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),i=e.css("position");"absolute"!==i&&"fixed"!==i&&(n-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,n-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each(function(){n=Math.max(n,t(this).height("").height())}).height(n))},_eventHandler:function(e){var n=this.options,i=this.active,r=t(e.currentTarget),o=r.closest("li"),a=o[0]===i[0],s=a&&n.collapsible,u=s?t():this._getPanelForTab(o),l=i.length?this._getPanelForTab(i):t(),c={oldTab:i,oldPanel:l,newTab:s?t():o,newPanel:u};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!n.collapsible||this._trigger("beforeActivate",e,c)===!1||(n.active=s?!1:this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),l.length||u.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),u.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,n){function i(){o.running=!1,o._trigger("activate",e,n)}function r(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,i):(a.show(),i())}var o=this,a=n.newPanel,s=n.oldPanel;this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r()}):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s.hide(),r()),s.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&s.length?n.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var n,i=this._findActive(e);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),n=e.data("ui-tabs-aria-controls");n?e.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var n=this.options.disabled;n!==!1&&(void 0===e?n=!1:(e=this._getIndex(e),n=t.isArray(n)?t.map(n,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,n){return n!==e?n:null})),this._setupDisabled(n))},disable:function(e){var n=this.options.disabled;if(n!==!0){if(void 0===e)n=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,n))return;n=t.isArray(n)?t.merge([e],n).sort():[e]}this._setupDisabled(n)}},load:function(e,n){e=this._getIndex(e);var i=this,r=this.tabs.eq(e),o=r.find(".ui-tabs-anchor"),a=this._getPanelForTab(r),s={tab:r,panel:a},u=function(t,e){"abort"===e&&i.panels.stop(!1,!0),r.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),t===i.xhr&&delete i.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,n,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(r.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,r){setTimeout(function(){a.html(t),i._trigger("load",n,s),u(r,e)},1)}).fail(function(t,e){setTimeout(function(){u(t,e)},1)})))},_ajaxSettings:function(e,n,i){var r=this;return{url:e.attr("href"),beforeSend:function(e,o){return r._trigger("beforeLoad",n,t.extend({jqXHR:e,ajaxSettings:o},i))}}},_getPanelForTab:function(e){var n=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),t.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(e,n){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(n),e.data("ui-tooltip-id",n).attr("aria-describedby",t.trim(i.join(" ")))},_removeDescribedBy:function(e){var n=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(n,i);-1!==r&&i.splice(r,1),e.removeData("ui-tooltip-id"),i=t.trim(i.join(" ")),i?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(e,n){var i=this;return"disabled"===e?(this[n?"_disable":"_enable"](),void(this.options[e]=n)):(this._super(e,n),void("content"===e&&t.each(this.tooltips,function(t,e){i._updateContent(e.element)})))},_disable:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur");r.target=r.currentTarget=i.element[0],e.close(r,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var n=this,i=t(e?e.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&i.parents().each(function(){var e,i=t(this);i.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,n.close(e,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._registerCloseHandlers(e,i),this._updateContent(i,e))},_updateContent:function(t,e){var n,i=this.options.content,r=this,o=e?e.type:null;return"string"==typeof i?this._open(e,t,i):(n=i.call(t[0],function(n){r._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,n))})}),void(n&&this._open(e,t,n)))},_open:function(e,n,i){function r(t){l.of=t,a.is(":hidden")||a.position(l)}var o,a,s,u,l=t.extend({},this.options.position);if(i){if(o=this._find(n))return void o.tooltip.find(".ui-tooltip-content").html(i);n.is("[title]")&&(e&&"mouseover"===e.type?n.attr("title",""):n.removeAttr("title")),o=this._tooltip(n),a=o.tooltip,this._addDescribedBy(n,a.attr("id")),a.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),i.clone?(u=i.clone(),u.removeAttr("id").find("[id]").removeAttr("id")):u=i,t("<div>").html(u).appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:r}),r(e)):a.position(t.extend({of:n},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval(function(){a.is(":visible")&&(r(l.of),clearInterval(s))},t.fx.interval)),this._trigger("open",e,{tooltip:a})}},_registerCloseHandlers:function(e,n){var i={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),e&&"mouseover"!==e.type||(i.mouseleave="close"),e&&"focusin"!==e.type||(i.focusout="close"),this._on(!0,n,i)},close:function(e){var n,i=this,r=t(e?e.currentTarget:this.element),o=this._find(r);return o?(n=o.tooltip,void(o.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(t(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,n){t(n.element).attr("title",n.title),delete i.parents[e]
}),o.closing=!0,this._trigger("close",e,{tooltip:n}),o.hiding||(o.closing=!1)))):void r.removeData("ui-tooltip-open")},_tooltip:function(e){var n=t("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),i=n.uniqueId().attr("id");return t("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[i]={element:e,tooltip:n}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur"),o=i.element;r.target=r.currentTarget=o[0],e.close(r,!0),t("#"+n).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),/**
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 */
/**
 * Implementing Drag and Drop functionality in AngularJS is easier than ever.
 * Demo: http://codef0rmer.github.com/angular-dragdrop/
 *
 * @version 1.0.11
 *
 * (c) 2013 Amit Gharat a.k.a codef0rmer <amit.2006.it@gmail.com> - amitgharat.wordpress.com
 */
function(t,e,n,i){"use strict";var r=e.module("ngDragDrop",[]).service("ngDragDropService",["$timeout","$parse",function(o,a){this.draggableScope=null,this.droppableScope=null,this.callEventCallback=function(t,e,i,r){function o(e){var i=-1!==e.indexOf("(")?e.indexOf("("):e.length,r=-1!==e.lastIndexOf(")")?e.lastIndexOf(")"):e.length,o=e.substring(i+1,r),s=e.match(/^[^.]+.\s*/)[0].slice(0,-1);return s=t[s]&&"function"==typeof t[s].constructor?s:null,{callback:e.substring(s&&s.length+1||0,i),args:n.map(o&&o.split(",")||[],function(e){return[a(e)(t)]}),constructor:s}}if(e){var s=o(e),u=s.callback,l=s.constructor,c=[i,r].concat(s.args);return(t[u]||t[l][u]).apply(t,c)}},this.invokeDrop=function(t,n,a,s){var u,l,c="",f="",h={},d={},p=null,g={},m={},v=null,y=this.droppableScope,b=this.draggableScope;c=t.ngattr("ng-model"),f=n.ngattr("ng-model"),u=b.$eval(c),l=y.$eval(f),v=n.find("[jqyoui-draggable]:last,[data-jqyoui-draggable]:last"),d=y.$eval(n.attr("jqyoui-droppable")||n.attr("data-jqyoui-droppable"))||[],h=b.$eval(t.attr("jqyoui-draggable")||t.attr("data-jqyoui-draggable"))||[],h.index=this.fixIndex(b,h,u),d.index=this.fixIndex(y,d,l),p=e.isArray(u)?h.index:null,g=e.isArray(u)?u[p]:u,h.deepCopy&&(g=e.copy(g)),m=e.isArray(l)&&d&&d.index!==i?l[d.index]:e.isArray(l)?{}:l,d.deepCopy&&(m=e.copy(m)),h.animate===!0?(this.move(t,v.length>0?v:n,null,"fast",d,null),this.move(v.length>0&&!d.multiple?v:[],t.parent("[jqyoui-droppable],[data-jqyoui-droppable]"),r.startXY,"fast",d,e.bind(this,function(){o(e.bind(this,function(){t.css({position:"relative",left:"",top:""}),v.css({position:"relative",left:"",top:"",display:"none"===v.css("display")?"":v.css("display")}),this.mutateDraggable(b,d,h,c,f,m,t),this.mutateDroppable(y,d,h,f,g,p),this.callEventCallback(y,d.onDrop,a,s)}))}))):o(e.bind(this,function(){this.mutateDraggable(b,d,h,c,f,m,t),this.mutateDroppable(y,d,h,f,g,p),this.callEventCallback(y,d.onDrop,a,s)}))},this.move=function(e,n,r,o,a,s){if(0===e.length)return s&&t.setTimeout(function(){s()},300),!1;var u=e.css("z-index"),l=e[a.containment||"offset"](),c=n.css("display"),f=n.hasClass("ng-hide");null===r&&n.length>0&&((n.attr("jqyoui-draggable")||n.attr("data-jqyoui-draggable"))!==i&&n.ngattr("ng-model")!==i&&n.is(":visible")&&a&&a.multiple?(r=n[a.containment||"offset"](),a.stack===!1?r.left+=n.outerWidth(!0):r.top+=n.outerHeight(!0)):(f&&n.removeClass("ng-hide"),r=n.css({visibility:"hidden",display:"block"})[a.containment||"offset"](),n.css({visibility:"",display:c}))),e.css({position:"absolute","z-index":9999}).css(l).animate(r,o,function(){f&&n.addClass("ng-hide"),e.css("z-index",u),s&&s()})},this.mutateDroppable=function(t,n,i,r,o,s){var u=t.$eval(r);t.dndDragItem=o,e.isArray(u)?(n&&n.index>=0?u[n.index]=o:u.push(o),i&&i.placeholder===!0&&(u[u.length-1].jqyoui_pos=s)):(a(r+" = dndDragItem")(t),i&&i.placeholder===!0&&(u.jqyoui_pos=s))},this.mutateDraggable=function(t,n,r,o,s,u,l){var c=e.equals(u,{})||!u,f=t.$eval(o);t.dndDropItem=u,r&&r.placeholder?"keep"!=r.placeholder&&(e.isArray(f)&&r.index!==i?f[r.index]=u:a(o+" = dndDropItem")(t)):e.isArray(f)?c?r&&r.placeholder!==!0&&"keep"!==r.placeholder&&f.splice(r.index,1):f[r.index]=u:(a(o+" = dndDropItem")(t),t.$parent&&a(o+" = dndDropItem")(t.$parent)),l.css({"z-index":"",left:"",top:""})},this.fixIndex=function(t,n,r){if(n.applyFilter&&e.isArray(r)&&r.length>0){var o=t[n.applyFilter](),a=o[n.index],s=i;return r.forEach(function(t,n){e.equals(t,a)&&(s=n)}),s}return n.index}}]).directive("jqyouiDraggable",["ngDragDropService",function(t){return{require:"?jqyouiDroppable",restrict:"A",link:function(n,i,o){var a,s,u,l=function(l){l?(a=n.$eval(i.attr("jqyoui-draggable")||i.attr("data-jqyoui-draggable"))||{},s=n.$eval(o.jqyouiOptions)||{},i.draggable({disabled:!1}).draggable(s).draggable({start:function(i,o){t.draggableScope=n,u=e.element(s.helper?o.helper:this).css("z-index"),e.element(s.helper?o.helper:this).css("z-index",9999),r.startXY=e.element(this)[a.containment||"offset"](),t.callEventCallback(n,a.onStart,i,o)},stop:function(i,r){e.element(s.helper?r.helper:this).css("z-index",u),t.callEventCallback(n,a.onStop,i,r)},drag:function(e,i){t.callEventCallback(n,a.onDrag,e,i)}})):i.draggable({disabled:!0})};n.$watch(function(){return n.$eval(o.drag)},l),l(),i.on("$destroy",function(){i.draggable({disabled:!0}).draggable("destroy")})}}}]).directive("jqyouiDroppable",["ngDragDropService","$q",function(t,n){return{restrict:"A",priority:1,link:function(i,r,o){var a,s=function(s){s?(a=i.$eval(e.element(r).attr("jqyoui-droppable")||e.element(r).attr("data-jqyoui-droppable"))||{},r.droppable({disabled:!1}).droppable(i.$eval(o.jqyouiOptions)||{}).droppable({over:function(e,n){t.callEventCallback(i,a.onOver,e,n)},out:function(e,n){t.callEventCallback(i,a.onOut,e,n)},drop:function(r,s){var u=null;u=a.beforeDrop?t.callEventCallback(i,a.beforeDrop,r,s):function(){var t=n.defer();return t.resolve(),t.promise}(),u.then(e.bind(this,function(){e.element(s.draggable).ngattr("ng-model")&&o.ngModel?(t.droppableScope=i,t.invokeDrop(e.element(s.draggable),e.element(this),r,s)):t.callEventCallback(i,a.onDrop,r,s)}),function(){s.draggable.css({left:"",top:""})})}})):r.droppable({disabled:!0})};i.$watch(function(){return i.$eval(o.drop)},s),s(),r.on("$destroy",function(){r.droppable({disabled:!0}).droppable("destroy")})}}}]);e.element.prototype.ngattr=function(t){var n=e.element(this).get(0);return n.getAttribute(t)||n.getAttribute("data-"+t)}}(window,window.angular,window.jQuery),/*
 * angular-elastic v2.4.2
 * (c) 2014 Monospaced http://monospaced.com
 * License: MIT
 */
angular.module("monospaced.elastic",[]).constant("msdElasticConfig",{append:""}).directive("msdElastic",["$timeout","$window","msdElasticConfig",function(t,e,n){"use strict";return{require:"ngModel",restrict:"A, C",link:function(i,r,o,a){function s(){var t=v;d=c,w=getComputedStyle(c),angular.forEach(T,function(e){t+=e+":"+w.getPropertyValue(e)+";"}),b.setAttribute("style",t)}function u(){var e,n,r,o,a;d!==c&&s(),p||(p=!0,b.value=c.value+g,b.style.overflowY=c.style.overflowY,e=""===c.style.height?"auto":parseInt(c.style.height,10),n=getComputedStyle(c).getPropertyValue("width"),"px"===n.substr(n.length-2,2)&&(o=parseInt(n,10)-$.width,b.style.width=o+"px"),r=b.scrollHeight,r>S?(r=S,a="scroll"):k>r&&(r=k),r+=$.height,c.style.overflowY=a||"hidden",e!==r&&(c.style.height=r+"px",i.$emit("elastic:resize",f)),t(function(){p=!1},1))}function l(){p=!1,u()}var c=r[0],f=r;if("TEXTAREA"===c.nodeName&&e.getComputedStyle){f.css({overflow:"hidden","overflow-y":"hidden","word-wrap":"break-word"});var h=c.value;c.value="",c.value=h;var d,p,g=o.msdElastic?o.msdElastic.replace(/\\n/g,"\n"):n.append,m=angular.element(e),v="position: absolute; top: -999px; right: auto; bottom: auto;left: 0; overflow: hidden; -webkit-box-sizing: content-box;-moz-box-sizing: content-box; box-sizing: content-box;min-height: 0 !important; height: 0 !important; padding: 0;word-wrap: break-word; border: 0;",y=angular.element('<textarea tabindex="-1" style="'+v+'"/>').data("elastic",!0),b=y[0],w=getComputedStyle(c),_=w.getPropertyValue("resize"),x="border-box"===w.getPropertyValue("box-sizing")||"border-box"===w.getPropertyValue("-moz-box-sizing")||"border-box"===w.getPropertyValue("-webkit-box-sizing"),$=x?{width:parseInt(w.getPropertyValue("border-right-width"),10)+parseInt(w.getPropertyValue("padding-right"),10)+parseInt(w.getPropertyValue("padding-left"),10)+parseInt(w.getPropertyValue("border-left-width"),10),height:parseInt(w.getPropertyValue("border-top-width"),10)+parseInt(w.getPropertyValue("padding-top"),10)+parseInt(w.getPropertyValue("padding-bottom"),10)+parseInt(w.getPropertyValue("border-bottom-width"),10)}:{width:0,height:0},C=parseInt(w.getPropertyValue("min-height"),10),E=parseInt(w.getPropertyValue("height"),10),k=Math.max(C,E)-$.height,S=parseInt(w.getPropertyValue("max-height"),10),T=["font-family","font-size","font-weight","font-style","letter-spacing","line-height","text-transform","word-spacing","text-indent"];f.data("elastic")||(S=S&&S>0?S:9e4,b.parentNode!==document.body&&angular.element(document.body).append(b),f.css({resize:"none"===_||"vertical"===_?"none":"horizontal"}).data("elastic",!0),c.oninput="onpropertychange"in c&&"oninput"in c?c.onkeyup=u:u,m.bind("resize",l),i.$watch(function(){return a.$modelValue},function(){l()}),i.$on("elastic:adjust",function(){s(),l()}),t(u),i.$on("$destroy",function(){y.remove(),m.unbind("resize",l)}))}}}}]),/*!
 * ZeroClipboard
 * The ZeroClipboard library provides an easy way to copy text to the clipboard using an invisible Adobe Flash movie and a JavaScript interface.
 * Copyright (c) 2009-2014 Jon Rohan, James M. Greene
 * Licensed MIT
 * http://zeroclipboard.org/
 * v2.2.0
 */
function(t,e){"use strict";var n,i,r,o=t,a=o.document,s=o.navigator,u=o.setTimeout,l=o.clearTimeout,c=o.setInterval,f=o.clearInterval,h=o.getComputedStyle,d=o.encodeURIComponent,p=o.ActiveXObject,g=o.Error,m=o.Number.parseInt||o.parseInt,v=o.Number.parseFloat||o.parseFloat,y=o.Number.isNaN||o.isNaN,b=o.Date.now,w=o.Object.keys,_=o.Object.defineProperty,x=o.Object.prototype.hasOwnProperty,$=o.Array.prototype.slice,C=function(){var t=function(t){return t};if("function"==typeof o.wrap&&"function"==typeof o.unwrap)try{var e=a.createElement("div"),n=o.unwrap(e);1===e.nodeType&&n&&1===n.nodeType&&(t=o.unwrap)}catch(i){}return t}(),E=function(t){return $.call(t,0)},k=function(){var t,n,i,r,o,a,s=E(arguments),u=s[0]||{};for(t=1,n=s.length;n>t;t++)if(null!=(i=s[t]))for(r in i)x.call(i,r)&&(o=u[r],a=i[r],u!==a&&a!==e&&(u[r]=a));return u},S=function(t){var e,n,i,r;if("object"!=typeof t||null==t||"number"==typeof t.nodeType)e=t;else if("number"==typeof t.length)for(e=[],n=0,i=t.length;i>n;n++)x.call(t,n)&&(e[n]=S(t[n]));else{e={};for(r in t)x.call(t,r)&&(e[r]=S(t[r]))}return e},T=function(t,e){for(var n={},i=0,r=e.length;r>i;i++)e[i]in t&&(n[e[i]]=t[e[i]]);return n},O=function(t,e){var n={};for(var i in t)-1===e.indexOf(i)&&(n[i]=t[i]);return n},M=function(t){if(t)for(var e in t)x.call(t,e)&&delete t[e];return t},A=function(t,e){if(t&&1===t.nodeType&&t.ownerDocument&&e&&(1===e.nodeType&&e.ownerDocument&&e.ownerDocument===t.ownerDocument||9===e.nodeType&&!e.ownerDocument&&e===t.ownerDocument))do{if(t===e)return!0;t=t.parentNode}while(t);return!1},D=function(t){var e;return"string"==typeof t&&t&&(e=t.split("#")[0].split("?")[0],e=t.slice(0,t.lastIndexOf("/")+1)),e},I=function(t){var e,n;return"string"==typeof t&&t&&(n=t.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]?e=n[1]:(n=t.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]&&(e=n[1]))),e},N=function(){var t,e;try{throw new g}catch(n){e=n}return e&&(t=e.sourceURL||e.fileName||I(e.stack)),t},P=function(){var t,n,i;if(a.currentScript&&(t=a.currentScript.src))return t;if(n=a.getElementsByTagName("script"),1===n.length)return n[0].src||e;if("readyState"in n[0])for(i=n.length;i--;)if("interactive"===n[i].readyState&&(t=n[i].src))return t;return"loading"===a.readyState&&(t=n[n.length-1].src)?t:(t=N())?t:e},R=function(){var t,n,i,r=a.getElementsByTagName("script");for(t=r.length;t--;){if(!(i=r[t].src)){n=null;break}if(i=D(i),null==n)n=i;else if(n!==i){n=null;break}}return n||e},L=function(){var t=D(P())||R()||"";return t+"ZeroClipboard.swf"},j=function(){return null==t.opener&&(!!t.top&&t!=t.top||!!t.parent&&t!=t.parent)}(),F={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,sandboxed:null,unavailable:null,degraded:null,deactivated:null,overdue:null,ready:null},H="11.0.0",z={},q={},U=null,W=0,B=0,V={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-sandboxed":"Attempting to run Flash in a sandboxed iframe, which is impossible","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-degraded":"Flash is unable to preserve data fidelity when communicating with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-overdue":"Flash communication was established but NOT within the acceptable time limit","version-mismatch":"ZeroClipboard JS version number does not match ZeroClipboard SWF version number","clipboard-error":"At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard","config-mismatch":"ZeroClipboard configuration does not match Flash's reality","swf-not-found":"The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity"}},Y=["flash-unavailable","flash-degraded","flash-overdue","version-mismatch","config-mismatch","clipboard-error"],X=["flash-disabled","flash-outdated","flash-sandboxed","flash-unavailable","flash-degraded","flash-deactivated","flash-overdue"],K=new RegExp("^flash-("+X.map(function(t){return t.replace(/^flash-/,"")}).join("|")+")$"),G=new RegExp("^flash-("+X.slice(1).map(function(t){return t.replace(/^flash-/,"")}).join("|")+")$"),Z={swfPath:L(),trustedDomains:t.location.host?[t.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},J=function(t){if("object"==typeof t&&null!==t)for(var e in t)if(x.call(t,e))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(e))Z[e]=t[e];else if(null==F.bridge)if("containerId"===e||"swfObjectId"===e){if(!de(t[e]))throw new Error("The specified `"+e+"` value is not valid as an HTML4 Element ID");Z[e]=t[e]}else Z[e]=t[e];{if("string"!=typeof t||!t)return S(Z);if(x.call(Z,t))return Z[t]}},Q=function(){return Be(),{browser:T(s,["userAgent","platform","appName"]),flash:O(F,["bridge"]),zeroclipboard:{version:Ye.version,config:Ye.config()}}},te=function(){return!!(F.disabled||F.outdated||F.sandboxed||F.unavailable||F.degraded||F.deactivated)},ee=function(t,i){var r,o,a,s={};if("string"==typeof t&&t)a=t.toLowerCase().split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof i)for(r in t)x.call(t,r)&&"string"==typeof r&&r&&"function"==typeof t[r]&&Ye.on(r,t[r]);if(a&&a.length){for(r=0,o=a.length;o>r;r++)t=a[r].replace(/^on/,""),s[t]=!0,z[t]||(z[t]=[]),z[t].push(i);if(s.ready&&F.ready&&Ye.emit({type:"ready"}),s.error){for(r=0,o=X.length;o>r;r++)if(F[X[r].replace(/^flash-/,"")]===!0){Ye.emit({type:"error",name:X[r]});break}n!==e&&Ye.version!==n&&Ye.emit({type:"error",name:"version-mismatch",jsVersion:Ye.version,swfVersion:n})}}return Ye},ne=function(t,e){var n,i,r,o,a;if(0===arguments.length)o=w(z);else if("string"==typeof t&&t)o=t.split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(n in t)x.call(t,n)&&"string"==typeof n&&n&&"function"==typeof t[n]&&Ye.off(n,t[n]);if(o&&o.length)for(n=0,i=o.length;i>n;n++)if(t=o[n].toLowerCase().replace(/^on/,""),a=z[t],a&&a.length)if(e)for(r=a.indexOf(e);-1!==r;)a.splice(r,1),r=a.indexOf(e,r);else a.length=0;return Ye},ie=function(t){var e;return e="string"==typeof t&&t?S(z[t])||null:S(z)},re=function(t){var e,n,i;return t=pe(t),t&&!_e(t)?"ready"===t.type&&F.overdue===!0?Ye.emit({type:"error",name:"flash-overdue"}):(e=k({},t),be.call(this,e),"copy"===t.type&&(i=Oe(q),n=i.data,U=i.formatMap),n):void 0},oe=function(){var t=F.sandboxed;if(Be(),"boolean"!=typeof F.ready&&(F.ready=!1),F.sandboxed!==t&&F.sandboxed===!0)F.ready=!1,Ye.emit({type:"error",name:"flash-sandboxed"});else if(!Ye.isFlashUnusable()&&null===F.bridge){var e=Z.flashLoadTimeout;"number"==typeof e&&e>=0&&(W=u(function(){"boolean"!=typeof F.deactivated&&(F.deactivated=!0),F.deactivated===!0&&Ye.emit({type:"error",name:"flash-deactivated"})},e)),F.overdue=!1,Se()}},ae=function(){Ye.clearData(),Ye.blur(),Ye.emit("destroy"),Te(),Ye.off()},se=function(t,e){var n;if("object"==typeof t&&t&&"undefined"==typeof e)n=t,Ye.clearData();else{if("string"!=typeof t||!t)return;n={},n[t]=e}for(var i in n)"string"==typeof i&&i&&x.call(n,i)&&"string"==typeof n[i]&&n[i]&&(q[i]=n[i])},ue=function(t){"undefined"==typeof t?(M(q),U=null):"string"==typeof t&&x.call(q,t)&&delete q[t]},le=function(t){return"undefined"==typeof t?S(q):"string"==typeof t&&x.call(q,t)?q[t]:void 0},ce=function(t){if(t&&1===t.nodeType){i&&(Le(i,Z.activeClass),i!==t&&Le(i,Z.hoverClass)),i=t,Re(t,Z.hoverClass);var e=t.getAttribute("title")||Z.title;if("string"==typeof e&&e){var n=ke(F.bridge);n&&n.setAttribute("title",e)}var r=Z.forceHandCursor===!0||"pointer"===je(t,"cursor");Ue(r),qe()}},fe=function(){var t=ke(F.bridge);t&&(t.removeAttribute("title"),t.style.left="0px",t.style.top="-9999px",t.style.width="1px",t.style.height="1px"),i&&(Le(i,Z.hoverClass),Le(i,Z.activeClass),i=null)},he=function(){return i||null},de=function(t){return"string"==typeof t&&t&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(t)},pe=function(t){var e;if("string"==typeof t&&t?(e=t,t={}):"object"==typeof t&&t&&"string"==typeof t.type&&t.type&&(e=t.type),e){e=e.toLowerCase(),!t.target&&(/^(copy|aftercopy|_click)$/.test(e)||"error"===e&&"clipboard-error"===t.name)&&(t.target=r),k(t,{type:e,target:t.target||i||null,relatedTarget:t.relatedTarget||null,currentTarget:F&&F.bridge||null,timeStamp:t.timeStamp||b()||null});var n=V[t.type];return"error"===t.type&&t.name&&n&&(n=n[t.name]),n&&(t.message=n),"ready"===t.type&&k(t,{target:null,version:F.version}),"error"===t.type&&(K.test(t.name)&&k(t,{target:null,minimumVersion:H}),G.test(t.name)&&k(t,{version:F.version})),"copy"===t.type&&(t.clipboardData={setData:Ye.setData,clearData:Ye.clearData}),"aftercopy"===t.type&&(t=Me(t,U)),t.target&&!t.relatedTarget&&(t.relatedTarget=ge(t.target)),me(t)}},ge=function(t){var e=t&&t.getAttribute&&t.getAttribute("data-clipboard-target");return e?a.getElementById(e):null},me=function(t){if(t&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(t.type)){var n=t.target,i="_mouseover"===t.type&&t.relatedTarget?t.relatedTarget:e,r="_mouseout"===t.type&&t.relatedTarget?t.relatedTarget:e,s=Fe(n),u=o.screenLeft||o.screenX||0,l=o.screenTop||o.screenY||0,c=a.body.scrollLeft+a.documentElement.scrollLeft,f=a.body.scrollTop+a.documentElement.scrollTop,h=s.left+("number"==typeof t._stageX?t._stageX:0),d=s.top+("number"==typeof t._stageY?t._stageY:0),p=h-c,g=d-f,m=u+p,v=l+g,y="number"==typeof t.movementX?t.movementX:0,b="number"==typeof t.movementY?t.movementY:0;delete t._stageX,delete t._stageY,k(t,{srcElement:n,fromElement:i,toElement:r,screenX:m,screenY:v,pageX:h,pageY:d,clientX:p,clientY:g,x:p,y:g,movementX:y,movementY:b,offsetX:0,offsetY:0,layerX:0,layerY:0})}return t},ve=function(t){var e=t&&"string"==typeof t.type&&t.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(e)},ye=function(t,e,n,i){i?u(function(){t.apply(e,n)},0):t.apply(e,n)},be=function(t){if("object"==typeof t&&t&&t.type){var e=ve(t),n=z["*"]||[],i=z[t.type]||[],r=n.concat(i);if(r&&r.length){var a,s,u,l,c,f=this;for(a=0,s=r.length;s>a;a++)u=r[a],l=f,"string"==typeof u&&"function"==typeof o[u]&&(u=o[u]),"object"==typeof u&&u&&"function"==typeof u.handleEvent&&(l=u,u=u.handleEvent),"function"==typeof u&&(c=k({},t),ye(u,l,[c],e))}return this}},we=function(t){var e=null;return(j===!1||t&&"error"===t.type&&t.name&&-1!==Y.indexOf(t.name))&&(e=!1),e},_e=function(t){var e=t.target||i||null,o="swf"===t._source;switch(delete t._source,t.type){case"error":var a="flash-sandboxed"===t.name||we(t);"boolean"==typeof a&&(F.sandboxed=a),-1!==X.indexOf(t.name)?k(F,{disabled:"flash-disabled"===t.name,outdated:"flash-outdated"===t.name,unavailable:"flash-unavailable"===t.name,degraded:"flash-degraded"===t.name,deactivated:"flash-deactivated"===t.name,overdue:"flash-overdue"===t.name,ready:!1}):"version-mismatch"===t.name&&(n=t.swfVersion,k(F,{disabled:!1,outdated:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1})),ze();break;case"ready":n=t.swfVersion;var s=F.deactivated===!0;k(F,{disabled:!1,outdated:!1,sandboxed:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:s,ready:!s}),ze();break;case"beforecopy":r=e;break;case"copy":var u,l,c=t.relatedTarget;!q["text/html"]&&!q["text/plain"]&&c&&(l=c.value||c.outerHTML||c.innerHTML)&&(u=c.value||c.textContent||c.innerText)?(t.clipboardData.clearData(),t.clipboardData.setData("text/plain",u),l!==u&&t.clipboardData.setData("text/html",l)):!q["text/plain"]&&t.target&&(u=t.target.getAttribute("data-clipboard-text"))&&(t.clipboardData.clearData(),t.clipboardData.setData("text/plain",u));break;case"aftercopy":xe(t),Ye.clearData(),e&&e!==Pe()&&e.focus&&e.focus();break;case"_mouseover":Ye.focus(e),Z.bubbleEvents===!0&&o&&(e&&e!==t.relatedTarget&&!A(t.relatedTarget,e)&&$e(k({},t,{type:"mouseenter",bubbles:!1,cancelable:!1})),$e(k({},t,{type:"mouseover"})));break;case"_mouseout":Ye.blur(),Z.bubbleEvents===!0&&o&&(e&&e!==t.relatedTarget&&!A(t.relatedTarget,e)&&$e(k({},t,{type:"mouseleave",bubbles:!1,cancelable:!1})),$e(k({},t,{type:"mouseout"})));break;case"_mousedown":Re(e,Z.activeClass),Z.bubbleEvents===!0&&o&&$e(k({},t,{type:t.type.slice(1)}));break;case"_mouseup":Le(e,Z.activeClass),Z.bubbleEvents===!0&&o&&$e(k({},t,{type:t.type.slice(1)}));break;case"_click":r=null,Z.bubbleEvents===!0&&o&&$e(k({},t,{type:t.type.slice(1)}));break;case"_mousemove":Z.bubbleEvents===!0&&o&&$e(k({},t,{type:t.type.slice(1)}))}return/^_(?:click|mouse(?:over|out|down|up|move))$/.test(t.type)?!0:void 0},xe=function(t){if(t.errors&&t.errors.length>0){var e=S(t);k(e,{type:"error",name:"clipboard-error"}),delete e.success,u(function(){Ye.emit(e)},0)}},$e=function(t){if(t&&"string"==typeof t.type&&t){var e,n=t.target||null,i=n&&n.ownerDocument||a,r={view:i.defaultView||o,canBubble:!0,cancelable:!0,detail:"click"===t.type?1:0,button:"number"==typeof t.which?t.which-1:"number"==typeof t.button?t.button:i.createEvent?0:1},s=k(r,t);n&&i.createEvent&&n.dispatchEvent&&(s=[s.type,s.canBubble,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget],e=i.createEvent("MouseEvents"),e.initMouseEvent&&(e.initMouseEvent.apply(e,s),e._source="js",n.dispatchEvent(e)))}},Ce=function(){var t=Z.flashLoadTimeout;if("number"==typeof t&&t>=0){var e=Math.min(1e3,t/10),n=Z.swfObjectId+"_fallbackContent";B=c(function(){var t=a.getElementById(n);He(t)&&(ze(),F.deactivated=null,Ye.emit({type:"error",name:"swf-not-found"}))},e)}},Ee=function(){var t=a.createElement("div");return t.id=Z.containerId,t.className=Z.containerClass,t.style.position="absolute",t.style.left="0px",t.style.top="-9999px",t.style.width="1px",t.style.height="1px",t.style.zIndex=""+We(Z.zIndex),t},ke=function(t){for(var e=t&&t.parentNode;e&&"OBJECT"===e.nodeName&&e.parentNode;)e=e.parentNode;return e||null},Se=function(){var t,e=F.bridge,n=ke(e);if(!e){var i=Ne(o.location.host,Z),r="never"===i?"none":"all",s=De(k({jsVersion:Ye.version},Z)),u=Z.swfPath+Ae(Z.swfPath,Z);n=Ee();var l=a.createElement("div");n.appendChild(l),a.body.appendChild(n);var c=a.createElement("div"),f="activex"===F.pluginType;c.innerHTML='<object id="'+Z.swfObjectId+'" name="'+Z.swfObjectId+'" width="100%" height="100%" '+(f?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+u+'"')+">"+(f?'<param name="movie" value="'+u+'"/>':"")+'<param name="allowScriptAccess" value="'+i+'"/><param name="allowNetworking" value="'+r+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+s+'"/><div id="'+Z.swfObjectId+'_fallbackContent">&nbsp;</div></object>',e=c.firstChild,c=null,C(e).ZeroClipboard=Ye,n.replaceChild(e,l),Ce()}return e||(e=a[Z.swfObjectId],e&&(t=e.length)&&(e=e[t-1]),!e&&n&&(e=n.firstChild)),F.bridge=e||null,e},Te=function(){var t=F.bridge;if(t){var i=ke(t);i&&("activex"===F.pluginType&&"readyState"in t?(t.style.display="none",function r(){if(4===t.readyState){for(var e in t)"function"==typeof t[e]&&(t[e]=null);t.parentNode&&t.parentNode.removeChild(t),i.parentNode&&i.parentNode.removeChild(i)}else u(r,10)}()):(t.parentNode&&t.parentNode.removeChild(t),i.parentNode&&i.parentNode.removeChild(i))),ze(),F.ready=null,F.bridge=null,F.deactivated=null,n=e}},Oe=function(t){var e={},n={};if("object"==typeof t&&t){for(var i in t)if(i&&x.call(t,i)&&"string"==typeof t[i]&&t[i])switch(i.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":e.text=t[i],n.text=i;break;case"text/html":case"html":case"air:html":case"flash:html":e.html=t[i],n.html=i;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":e.rtf=t[i],n.rtf=i}return{data:e,formatMap:n}}},Me=function(t,e){if("object"!=typeof t||!t||"object"!=typeof e||!e)return t;var n={};for(var i in t)if(x.call(t,i))if("errors"===i){n[i]=t[i]?t[i].slice():[];for(var r=0,o=n[i].length;o>r;r++)n[i][r].format=e[n[i][r].format]}else if("success"!==i&&"data"!==i)n[i]=t[i];else{n[i]={};var a=t[i];for(var s in a)s&&x.call(a,s)&&x.call(e,s)&&(n[i][e[s]]=a[s])}return n},Ae=function(t,e){var n=null==e||e&&e.cacheBust===!0;return n?(-1===t.indexOf("?")?"?":"&")+"noCache="+b():""},De=function(t){var e,n,i,r,a="",s=[];if(t.trustedDomains&&("string"==typeof t.trustedDomains?r=[t.trustedDomains]:"object"==typeof t.trustedDomains&&"length"in t.trustedDomains&&(r=t.trustedDomains)),r&&r.length)for(e=0,n=r.length;n>e;e++)if(x.call(r,e)&&r[e]&&"string"==typeof r[e]){if(i=Ie(r[e]),!i)continue;if("*"===i){s.length=0,s.push(i);break}s.push.apply(s,[i,"//"+i,o.location.protocol+"//"+i])}return s.length&&(a+="trustedOrigins="+d(s.join(","))),t.forceEnhancedClipboard===!0&&(a+=(a?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof t.swfObjectId&&t.swfObjectId&&(a+=(a?"&":"")+"swfObjectId="+d(t.swfObjectId)),"string"==typeof t.jsVersion&&t.jsVersion&&(a+=(a?"&":"")+"jsVersion="+d(t.jsVersion)),a},Ie=function(t){if(null==t||""===t)return null;if(t=t.replace(/^\s+|\s+$/g,""),""===t)return null;var e=t.indexOf("//");t=-1===e?t:t.slice(e+2);var n=t.indexOf("/");return t=-1===n?t:-1===e||0===n?null:t.slice(0,n),t&&".swf"===t.slice(-4).toLowerCase()?null:t||null},Ne=function(){var t=function(t){var e,n,i,r=[];if("string"==typeof t&&(t=[t]),"object"!=typeof t||!t||"number"!=typeof t.length)return r;for(e=0,n=t.length;n>e;e++)if(x.call(t,e)&&(i=Ie(t[e]))){if("*"===i){r.length=0,r.push("*");break}-1===r.indexOf(i)&&r.push(i)}return r};return function(e,n){var i=Ie(n.swfPath);null===i&&(i=e);var r=t(n.trustedDomains),o=r.length;if(o>0){if(1===o&&"*"===r[0])return"always";if(-1!==r.indexOf(e))return 1===o&&e===i?"sameDomain":"always"}return"never"}}(),Pe=function(){try{return a.activeElement}catch(t){return null}},Re=function(t,e){var n,i,r,o=[];if("string"==typeof e&&e&&(o=e.split(/\s+/)),t&&1===t.nodeType&&o.length>0)if(t.classList)for(n=0,i=o.length;i>n;n++)t.classList.add(o[n]);else if(t.hasOwnProperty("className")){for(r=" "+t.className+" ",n=0,i=o.length;i>n;n++)-1===r.indexOf(" "+o[n]+" ")&&(r+=o[n]+" ");t.className=r.replace(/^\s+|\s+$/g,"")}return t},Le=function(t,e){var n,i,r,o=[];if("string"==typeof e&&e&&(o=e.split(/\s+/)),t&&1===t.nodeType&&o.length>0)if(t.classList&&t.classList.length>0)for(n=0,i=o.length;i>n;n++)t.classList.remove(o[n]);else if(t.className){for(r=(" "+t.className+" ").replace(/[\r\n\t]/g," "),n=0,i=o.length;i>n;n++)r=r.replace(" "+o[n]+" "," ");t.className=r.replace(/^\s+|\s+$/g,"")}return t},je=function(t,e){var n=h(t,null).getPropertyValue(e);return"cursor"!==e||n&&"auto"!==n||"A"!==t.nodeName?n:"pointer"},Fe=function(t){var e={left:0,top:0,width:0,height:0};if(t.getBoundingClientRect){var n=t.getBoundingClientRect(),i=o.pageXOffset,r=o.pageYOffset,s=a.documentElement.clientLeft||0,u=a.documentElement.clientTop||0,l=0,c=0;if("relative"===je(a.body,"position")){var f=a.body.getBoundingClientRect(),h=a.documentElement.getBoundingClientRect();l=f.left-h.left||0,c=f.top-h.top||0}e.left=n.left+i-s-l,e.top=n.top+r-u-c,e.width="width"in n?n.width:n.right-n.left,e.height="height"in n?n.height:n.bottom-n.top}return e},He=function(t){if(!t)return!1;var e=h(t,null),n=v(e.height)>0,i=v(e.width)>0,r=v(e.top)>=0,o=v(e.left)>=0,a=n&&i&&r&&o,s=a?null:Fe(t),u="none"!==e.display&&"collapse"!==e.visibility&&(a||!!s&&(n||s.height>0)&&(i||s.width>0)&&(r||s.top>=0)&&(o||s.left>=0));return u},ze=function(){l(W),W=0,f(B),B=0},qe=function(){var t;if(i&&(t=ke(F.bridge))){var e=Fe(i);k(t.style,{width:e.width+"px",height:e.height+"px",top:e.top+"px",left:e.left+"px",zIndex:""+We(Z.zIndex)})}},Ue=function(t){F.ready===!0&&(F.bridge&&"function"==typeof F.bridge.setHandCursor?F.bridge.setHandCursor(t):F.ready=!1)},We=function(t){if(/^(?:auto|inherit)$/.test(t))return t;var e;return"number"!=typeof t||y(t)?"string"==typeof t&&(e=We(m(t,10))):e=t,"number"==typeof e?e:"auto"},Be=function(e){var n,i,r,o=F.sandboxed,a=null;if(e=e===!0,j===!1)a=!1;else{try{i=t.frameElement||null}catch(s){r={name:s.name,message:s.message}}if(i&&1===i.nodeType&&"IFRAME"===i.nodeName)try{a=i.hasAttribute("sandbox")}catch(s){a=null}else{try{n=document.domain||null}catch(s){n=null}(null===n||r&&"SecurityError"===r.name&&/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(r.message.toLowerCase()))&&(a=!0)}}return F.sandboxed=a,o===a||e||Ve(p),a},Ve=function(t){function e(t){var e=t.match(/[\d]+/g);return e.length=3,e.join(".")}function n(t){return!!t&&(t=t.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(t)||"chrome.plugin"===t.slice(-13))}function i(t){t&&(u=!0,t.version&&(f=e(t.version)),!f&&t.description&&(f=e(t.description)),t.filename&&(c=n(t.filename)))}var r,o,a,u=!1,l=!1,c=!1,f="";if(s.plugins&&s.plugins.length)r=s.plugins["Shockwave Flash"],i(r),s.plugins["Shockwave Flash 2.0"]&&(u=!0,f="2.0.0.11");else if(s.mimeTypes&&s.mimeTypes.length)a=s.mimeTypes["application/x-shockwave-flash"],r=a&&a.enabledPlugin,i(r);else if("undefined"!=typeof t){l=!0;try{o=new t("ShockwaveFlash.ShockwaveFlash.7"),u=!0,f=e(o.GetVariable("$version"))}catch(h){try{o=new t("ShockwaveFlash.ShockwaveFlash.6"),u=!0,f="6.0.21"}catch(d){try{o=new t("ShockwaveFlash.ShockwaveFlash"),u=!0,f=e(o.GetVariable("$version"))}catch(p){l=!1}}}}F.disabled=u!==!0,F.outdated=f&&v(f)<v(H),F.version=f||"0.0.0",F.pluginType=c?"pepper":l?"activex":u?"netscape":"unknown"};Ve(p),Be(!0);var Ye=function(){return this instanceof Ye?void("function"==typeof Ye._createClient&&Ye._createClient.apply(this,E(arguments))):new Ye};_(Ye,"version",{value:"2.2.0",writable:!1,configurable:!0,enumerable:!0}),Ye.config=function(){return J.apply(this,E(arguments))},Ye.state=function(){return Q.apply(this,E(arguments))},Ye.isFlashUnusable=function(){return te.apply(this,E(arguments))},Ye.on=function(){return ee.apply(this,E(arguments))},Ye.off=function(){return ne.apply(this,E(arguments))},Ye.handlers=function(){return ie.apply(this,E(arguments))},Ye.emit=function(){return re.apply(this,E(arguments))},Ye.create=function(){return oe.apply(this,E(arguments))},Ye.destroy=function(){return ae.apply(this,E(arguments))},Ye.setData=function(){return se.apply(this,E(arguments))},Ye.clearData=function(){return ue.apply(this,E(arguments))},Ye.getData=function(){return le.apply(this,E(arguments))},Ye.focus=Ye.activate=function(){return ce.apply(this,E(arguments))},Ye.blur=Ye.deactivate=function(){return fe.apply(this,E(arguments))},Ye.activeElement=function(){return he.apply(this,E(arguments))};var Xe=0,Ke={},Ge=0,Ze={},Je={};k(Z,{autoActivate:!0});var Qe=function(t){var e=this;e.id=""+Xe++,Ke[e.id]={instance:e,elements:[],handlers:{}},t&&e.clip(t),Ye.on("*",function(t){return e.emit(t)}),Ye.on("destroy",function(){e.destroy()}),Ye.create()},tn=function(t,i){var r,o,a,s={},u=Ke[this.id],l=u&&u.handlers;if(!u)throw new Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");if("string"==typeof t&&t)a=t.toLowerCase().split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof i)for(r in t)x.call(t,r)&&"string"==typeof r&&r&&"function"==typeof t[r]&&this.on(r,t[r]);if(a&&a.length){for(r=0,o=a.length;o>r;r++)t=a[r].replace(/^on/,""),s[t]=!0,l[t]||(l[t]=[]),l[t].push(i);if(s.ready&&F.ready&&this.emit({type:"ready",client:this}),s.error){for(r=0,o=X.length;o>r;r++)if(F[X[r].replace(/^flash-/,"")]){this.emit({type:"error",name:X[r],client:this});break}n!==e&&Ye.version!==n&&this.emit({type:"error",name:"version-mismatch",jsVersion:Ye.version,swfVersion:n})}}return this},en=function(t,e){var n,i,r,o,a,s=Ke[this.id],u=s&&s.handlers;if(!u)return this;if(0===arguments.length)o=w(u);else if("string"==typeof t&&t)o=t.split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(n in t)x.call(t,n)&&"string"==typeof n&&n&&"function"==typeof t[n]&&this.off(n,t[n]);if(o&&o.length)for(n=0,i=o.length;i>n;n++)if(t=o[n].toLowerCase().replace(/^on/,""),a=u[t],a&&a.length)if(e)for(r=a.indexOf(e);-1!==r;)a.splice(r,1),r=a.indexOf(e,r);else a.length=0;return this},nn=function(t){var e=null,n=Ke[this.id]&&Ke[this.id].handlers;return n&&(e="string"==typeof t&&t?n[t]?n[t].slice(0):[]:S(n)),e},rn=function(t){if(ln.call(this,t)){"object"==typeof t&&t&&"string"==typeof t.type&&t.type&&(t=k({},t));var e=k({},pe(t),{client:this});cn.call(this,e)}return this},on=function(t){if(!Ke[this.id])throw new Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");t=fn(t);for(var e=0;e<t.length;e++)if(x.call(t,e)&&t[e]&&1===t[e].nodeType){t[e].zcClippingId?-1===Ze[t[e].zcClippingId].indexOf(this.id)&&Ze[t[e].zcClippingId].push(this.id):(t[e].zcClippingId="zcClippingId_"+Ge++,Ze[t[e].zcClippingId]=[this.id],Z.autoActivate===!0&&hn(t[e]));var n=Ke[this.id]&&Ke[this.id].elements;-1===n.indexOf(t[e])&&n.push(t[e])}return this},an=function(t){var e=Ke[this.id];if(!e)return this;var n,i=e.elements;t="undefined"==typeof t?i.slice(0):fn(t);for(var r=t.length;r--;)if(x.call(t,r)&&t[r]&&1===t[r].nodeType){for(n=0;-1!==(n=i.indexOf(t[r],n));)i.splice(n,1);var o=Ze[t[r].zcClippingId];if(o){for(n=0;-1!==(n=o.indexOf(this.id,n));)o.splice(n,1);0===o.length&&(Z.autoActivate===!0&&dn(t[r]),delete t[r].zcClippingId)}}return this},sn=function(){var t=Ke[this.id];return t&&t.elements?t.elements.slice(0):[]},un=function(){Ke[this.id]&&(this.unclip(),this.off(),delete Ke[this.id])},ln=function(t){if(!t||!t.type)return!1;if(t.client&&t.client!==this)return!1;var e=Ke[this.id],n=e&&e.elements,i=!!n&&n.length>0,r=!t.target||i&&-1!==n.indexOf(t.target),o=t.relatedTarget&&i&&-1!==n.indexOf(t.relatedTarget),a=t.client&&t.client===this;return e&&(r||o||a)?!0:!1},cn=function(t){var e=Ke[this.id];if("object"==typeof t&&t&&t.type&&e){var n=ve(t),i=e&&e.handlers["*"]||[],r=e&&e.handlers[t.type]||[],a=i.concat(r);if(a&&a.length){var s,u,l,c,f,h=this;for(s=0,u=a.length;u>s;s++)l=a[s],c=h,"string"==typeof l&&"function"==typeof o[l]&&(l=o[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(c=l,l=l.handleEvent),"function"==typeof l&&(f=k({},t),ye(l,c,[f],n))}}},fn=function(t){return"string"==typeof t&&(t=[]),"number"!=typeof t.length?[t]:t},hn=function(t){if(t&&1===t.nodeType){var e=function(t){(t||(t=o.event))&&("js"!==t._source&&(t.stopImmediatePropagation(),t.preventDefault()),delete t._source)},n=function(n){(n||(n=o.event))&&(e(n),Ye.focus(t))};t.addEventListener("mouseover",n,!1),t.addEventListener("mouseout",e,!1),t.addEventListener("mouseenter",e,!1),t.addEventListener("mouseleave",e,!1),t.addEventListener("mousemove",e,!1),Je[t.zcClippingId]={mouseover:n,mouseout:e,mouseenter:e,mouseleave:e,mousemove:e}}},dn=function(t){if(t&&1===t.nodeType){var e=Je[t.zcClippingId];if("object"==typeof e&&e){for(var n,i,r=["move","leave","enter","out","over"],o=0,a=r.length;a>o;o++)n="mouse"+r[o],i=e[n],"function"==typeof i&&t.removeEventListener(n,i,!1);delete Je[t.zcClippingId]}}};Ye._createClient=function(){Qe.apply(this,E(arguments))},Ye.prototype.on=function(){return tn.apply(this,E(arguments))},Ye.prototype.off=function(){return en.apply(this,E(arguments))},Ye.prototype.handlers=function(){return nn.apply(this,E(arguments))},Ye.prototype.emit=function(){return rn.apply(this,E(arguments))},Ye.prototype.clip=function(){return on.apply(this,E(arguments))},Ye.prototype.unclip=function(){return an.apply(this,E(arguments))},Ye.prototype.elements=function(){return sn.apply(this,E(arguments))},Ye.prototype.destroy=function(){return un.apply(this,E(arguments))},Ye.prototype.setText=function(t){if(!Ke[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ye.setData("text/plain",t),this},Ye.prototype.setHtml=function(t){if(!Ke[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ye.setData("text/html",t),this},Ye.prototype.setRichText=function(t){if(!Ke[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ye.setData("application/rtf",t),this},Ye.prototype.setData=function(){if(!Ke[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ye.setData.apply(this,E(arguments)),this},Ye.prototype.clearData=function(){if(!Ke[this.id])throw new Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");return Ye.clearData.apply(this,E(arguments)),this},Ye.prototype.getData=function(){if(!Ke[this.id])throw new Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");return Ye.getData.apply(this,E(arguments))},"function"==typeof define&&define.amd?define(function(){return Ye}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=Ye:t.ZeroClipboard=Ye}(function(){return this||window}()),angular.module("zeroclipboard",[]).provider("uiZeroclipConfig",function(){var t={buttonClass:"",swfPath:"ZeroClipboard.swf",trustedDomains:[window.location.host],cacheBust:!0,forceHandCursor:!1,zIndex:999999999,debug:!0,title:null,autoActivate:!0,flashLoadTimeout:3e4,hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active"};this.setZcConf=function(e){angular.extend(t,e)},this.$get=function(){return{zeroclipConfig:t}}}).directive("uiZeroclip",["$document","$window","uiZeroclipConfig",function(t,e,n){var i=n.zeroclipConfig||{},r=e.ZeroClipboard;return{scope:{onCopied:"&zeroclipCopied",onError:"&?zeroclipOnError",onBeforeCopy:"&?zeroclipOnBeforeCopy",client:"=?uiZeroclip",value:"=zeroclipModel",text:"@zeroclipText"},link:function(t,e){var n,o=e[0];r.config(i),angular.isFunction(r)&&(t.client=new r(o)),t.$watch("value",function(t){void 0!==t&&e.attr("data-clipboard-text",t)}),t.$watch("text",function(t){e.attr("data-clipboard-text",t)}),t.client.on("aftercopy",n=function(e){t.$apply(function(){t.onCopied({$event:e})})}),t.client.on("error",function(e){t.onError&&t.$apply(function(){t.onError({$event:e})}),r.destroy()}),t.client.on("beforecopy",function(e){t.onBeforeCopy&&t.$apply(function(){t.onBeforeCopy({$event:e})})}),t.$on("$destroy",function(){t.client.off("complete",n)})}}}]),function(){function t(t,e){if(t!==e){var n=t===t,i=e===e;if(t>e||!n||t===x&&i)return 1;if(e>t||!i||e===x&&n)return-1}return 0}function e(t,e,n){for(var i=t.length,r=n?i:-1;n?r--:++r<i;)if(e(t[r],r,t))return r;return-1}function n(t,e,n){if(e!==e)return d(t,n);for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function i(t){return"function"==typeof t||!1}function r(t){return"string"==typeof t?t:null==t?"":t+""}function o(t){return t.charCodeAt(0)}function a(t,e){for(var n=-1,i=t.length;++n<i&&e.indexOf(t.charAt(n))>-1;);return n}function s(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function u(e,n){return t(e.criteria,n.criteria)||e.index-n.index}function l(e,n,i){for(var r=-1,o=e.criteria,a=n.criteria,s=o.length,u=i.length;++r<s;){var l=t(o[r],a[r]);if(l)return r>=u?l:l*(i[r]?1:-1)}return e.index-n.index}function c(t){return qe[t]}function f(t){return Ue[t]}function h(t){return"\\"+Ve[t]}function d(t,e,n){for(var i=t.length,r=e+(n?0:-1);n?r--:++r<i;){var o=t[r];if(o!==o)return r}return-1}function p(t){return!!t&&"object"==typeof t}function g(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)
}function m(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;)t[n]===e&&(t[n]=z,o[++r]=n);return o}function v(t,e){for(var n,i=-1,r=t.length,o=-1,a=[];++i<r;){var s=t[i],u=e?e(s,i,t):s;i&&n===u||(n=u,a[++o]=s)}return a}function y(t){for(var e=-1,n=t.length;++e<n&&g(t.charCodeAt(e)););return e}function b(t){for(var e=t.length;e--&&g(t.charCodeAt(e)););return e}function w(t){return We[t]}function _(g){function X(t){if(p(t)&&!ku(t)&&!(t instanceof qe)){if(t instanceof te)return t;if(Ua.call(t,"__chain__")&&Ua.call(t,"__wrapped__"))return ar(t)}return new te(t)}function J(){}function te(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function qe(t){this.__wrapped__=t,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=xs,this.__views__=null}function Ue(){var t=this.__actions__,e=this.__iteratees__,n=this.__views__,i=new qe(this.__wrapped__);return i.__actions__=t?nn(t):null,i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=e?nn(e):null,i.__takeCount__=this.__takeCount__,i.__views__=n?nn(n):null,i}function We(){if(this.__filtered__){var t=new qe(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Be(){var t=this.__wrapped__.value();if(!ku(t))return ei(t,this.__actions__);var e=this.__dir__,n=0>e,i=Fi(0,t.length,this.__views__),r=i.start,o=i.end,a=o-r,s=n?o:r-1,u=ms(a,this.__takeCount__),l=this.__iteratees__,c=l?l.length:0,f=0,h=[];t:for(;a--&&u>f;){s+=e;for(var d=-1,p=t[s];++d<c;){var g=l[d],m=g.iteratee,v=g.type;if(v==L){if(g.done&&(n?s>g.index:s<g.index)&&(g.count=0,g.done=!1),g.index=s,!g.done){var y=g.limit;if(!(g.done=y>-1?g.count++>=y:!m(p)))continue t}}else{var b=m(p);if(v==F)p=b;else if(!b){if(v==j)continue t;break t}}}h[f++]=p}return h}function Ve(){this.__data__={}}function Ye(t){return this.has(t)&&delete this.__data__[t]}function Xe(t){return"__proto__"==t?x:this.__data__[t]}function Ke(t){return"__proto__"!=t&&Ua.call(this.__data__,t)}function Ge(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function Ze(t){var e=t?t.length:0;for(this.data={hash:hs(null),set:new rs};e--;)this.push(t[e])}function Je(t,e){var n=t.data,i="string"==typeof e||Eo(e)?n.set.has(e):n.hash[e];return i?0:-1}function en(t){var e=this.data;"string"==typeof t||Eo(t)?e.set.add(t):e.hash[t]=!0}function nn(t,e){var n=-1,i=t.length;for(e||(e=Ta(i));++n<i;)e[n]=t[n];return e}function rn(t,e){for(var n=-1,i=t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function on(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function an(t,e){for(var n=-1,i=t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function sn(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[++r]=a)}return o}function un(t,e){for(var n=-1,i=t.length,r=Ta(i);++n<i;)r[n]=e(t[n],n,t);return r}function ln(t){for(var e=-1,n=t.length,i=_s;++e<n;){var r=t[e];r>i&&(i=r)}return i}function cn(t){for(var e=-1,n=t.length,i=xs;++e<n;){var r=t[e];i>r&&(i=r)}return i}function fn(t,e,n,i){var r=-1,o=t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function hn(t,e,n,i){var r=t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function dn(t,e){for(var n=-1,i=t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function pn(t){for(var e=t.length,n=0;e--;)n+=+t[e]||0;return n}function gn(t,e){return t===x?e:t}function mn(t,e,n,i){return t!==x&&Ua.call(i,n)?t:e}function vn(t,e,n){var i=ju(e);es.apply(i,qs(e));for(var r=-1,o=i.length;++r<o;){var a=i[r],s=t[a],u=n(s,e[a],a,t,e);(u===u?u===s:s!==s)&&(s!==x||a in t)||(t[a]=u)}return t}function yn(t,e){for(var n=-1,i=null==t,r=!i&&Wi(t),o=r&&t.length,a=e.length,s=Ta(a);++n<a;){var u=e[n];s[n]=r?Bi(u,o)?t[u]:x:i?x:t[u]}return s}function bn(t,e,n){n||(n={});for(var i=-1,r=e.length;++i<r;){var o=e[i];n[o]=t[o]}return n}function wn(t,e,n){var i=typeof t;return"function"==i?e===x?t:ri(t,e,n):null==t?ga:"object"==i?jn(t):e===x?_a(t):Fn(t,e)}function _n(t,e,n,i,r,o,a){var s;if(n&&(s=r?n(t,i,r):n(t)),s!==x)return s;if(!Eo(t))return t;var u=ku(t);if(u){if(s=Hi(t),!e)return nn(t,s)}else{var l=Ba.call(t),c=l==Y;if(l!=G&&l!=q&&(!c||r))return He[l]?qi(t,l,e):r?t:{};if(s=zi(c?{}:t),!e)return As(s,t)}o||(o=[]),a||(a=[]);for(var f=o.length;f--;)if(o[f]==t)return a[f];return o.push(t),a.push(s),(u?rn:Mn)(t,function(i,r){s[r]=_n(i,e,n,r,t,o,a)}),s}function xn(t,e,n){if("function"!=typeof t)throw new La(H);return os(function(){t.apply(x,n)},e)}function $n(t,e){var i=t?t.length:0,r=[];if(!i)return r;var o=-1,a=ji(),s=a==n,u=s&&e.length>=200?js(e):null,l=e.length;u&&(a=Je,s=!1,e=u);t:for(;++o<i;){var c=t[o];if(s&&c===c){for(var f=l;f--;)if(e[f]===c)continue t;r.push(c)}else a(e,c,0)<0&&r.push(c)}return r}function Cn(t,e){var n=!0;return Is(t,function(t,i,r){return n=!!e(t,i,r)}),n}function En(t,e,n,i){var r=t.length;for(n=null==n?0:+n||0,0>n&&(n=-n>r?0:r+n),i=i===x||i>r?r:+i||0,0>i&&(i+=r),r=n>i?0:i>>>0,n>>>=0;r>n;)t[n++]=e;return t}function kn(t,e){var n=[];return Is(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function Sn(t,e,n,i){var r;return n(t,function(t,n,o){return e(t,n,o)?(r=i?n:t,!1):void 0}),r}function Tn(t,e,n){for(var i=-1,r=t.length,o=-1,a=[];++i<r;){var s=t[i];if(p(s)&&Wi(s)&&(n||ku(s)||yo(s))){e&&(s=Tn(s,e,n));for(var u=-1,l=s.length;++u<l;)a[++o]=s[u]}else n||(a[++o]=s)}return a}function On(t,e){return Ps(t,e,qo)}function Mn(t,e){return Ps(t,e,ju)}function An(t,e){return Rs(t,e,ju)}function Dn(t,e){for(var n=-1,i=e.length,r=-1,o=[];++n<i;){var a=e[n];Tu(t[a])&&(o[++r]=a)}return o}function In(t,e,n){if(null!=t){n!==x&&n in rr(t)&&(e=[n]);for(var i=-1,r=e.length;null!=t&&++i<r;)t=t[e[i]];return i&&i==r?t:x}}function Nn(t,e,n,i,r,o){if(t===e)return!0;var a=typeof t,s=typeof e;return"function"!=a&&"object"!=a&&"function"!=s&&"object"!=s||null==t||null==e?t!==t&&e!==e:Pn(t,e,Nn,n,i,r,o)}function Pn(t,e,n,i,r,o,a){var s=ku(t),u=ku(e),l=U,c=U;s||(l=Ba.call(t),l==q?l=G:l!=G&&(s=Io(t))),u||(c=Ba.call(e),c==q?c=G:c!=G&&(u=Io(e)));var f=l==G,h=c==G,d=l==c;if(d&&!s&&!f)return Ni(t,e,l);if(!r){var p=f&&Ua.call(t,"__wrapped__"),g=h&&Ua.call(e,"__wrapped__");if(p||g)return n(p?t.value():t,g?e.value():e,i,r,o,a)}if(!d)return!1;o||(o=[]),a||(a=[]);for(var m=o.length;m--;)if(o[m]==t)return a[m]==e;o.push(t),a.push(e);var v=(s?Ii:Pi)(t,e,n,i,r,o,a);return o.pop(),a.pop(),v}function Rn(t,e,n,i,r){for(var o=-1,a=e.length,s=!r;++o<a;)if(s&&i[o]?n[o]!==t[e[o]]:!(e[o]in t))return!1;for(o=-1;++o<a;){var u=e[o],l=t[u],c=n[o];if(s&&i[o])var f=l!==x||u in t;else f=r?r(l,c,u):x,f===x&&(f=Nn(c,l,r,!0));if(!f)return!1}return!0}function Ln(t,e){var n=-1,i=Wi(t)?Ta(t.length):[];return Is(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function jn(t){var e=ju(t),n=e.length;if(!n)return pa(!0);if(1==n){var i=e[0],r=t[i];if(Gi(r))return function(t){return null==t?!1:t[i]===r&&(r!==x||i in rr(t))}}for(var o=Ta(n),a=Ta(n);n--;)r=t[e[n]],o[n]=r,a[n]=Gi(r);return function(t){return null!=t&&Rn(rr(t),e,o,a)}}function Fn(t,e){var n=ku(t),i=Yi(t)&&Gi(e),r=t+"";return t=or(t),function(o){if(null==o)return!1;var a=r;if(o=rr(o),!(!n&&i||a in o)){if(o=1==t.length?o:In(o,Yn(t,0,-1)),null==o)return!1;a=wr(t),o=rr(o)}return o[a]===e?e!==x||a in o:Nn(e,o[a],null,!0)}}function Hn(t,e,n,i,r){if(!Eo(t))return t;var o=Wi(e)&&(ku(e)||Io(e));if(!o){var a=ju(e);es.apply(a,qs(e))}return rn(a||e,function(s,u){if(a&&(u=s,s=e[u]),p(s))i||(i=[]),r||(r=[]),zn(t,e,u,Hn,n,i,r);else{var l=t[u],c=n?n(l,s,u,t,e):x,f=c===x;f&&(c=s),!o&&c===x||!f&&(c===c?c===l:l!==l)||(t[u]=c)}}),t}function zn(t,e,n,i,r,o,a){for(var s=o.length,u=e[n];s--;)if(o[s]==u)return void(t[n]=a[s]);var l=t[n],c=r?r(l,u,n,t,e):x,f=c===x;f&&(c=u,Wi(u)&&(ku(u)||Io(u))?c=ku(l)?l:Wi(l)?nn(l):[]:Ou(u)||yo(u)?c=yo(l)?Ro(l):Ou(l)?l:{}:f=!1),o.push(u),a.push(c),f?t[n]=i(c,u,r,o,a):(c===c?c!==l:l===l)&&(t[n]=c)}function qn(t){return function(e){return null==e?x:e[t]}}function Un(t){var e=t+"";return t=or(t),function(n){return In(n,t,e)}}function Wn(t,e){for(var n=t?e.length:0;n--;){var i=parseFloat(e[n]);if(i!=r&&Bi(i)){var r=i;as.call(t,i,1)}}return t}function Bn(t,e){return t+Ja(ws()*(e-t+1))}function Vn(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function Yn(t,e,n){var i=-1,r=t.length;e=null==e?0:+e||0,0>e&&(e=-e>r?0:r+e),n=n===x||n>r?r:+n||0,0>n&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Ta(r);++i<r;)o[i]=t[i+e];return o}function Xn(t,e){var n;return Is(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function Kn(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Gn(t,e,n){var i=Li(),r=-1;e=un(e,function(t){return i(t)});var o=Ln(t,function(t){var n=un(e,function(e){return e(t)});return{criteria:n,index:++r,value:t}});return Kn(o,function(t,e){return l(t,e,n)})}function Zn(t,e){var n=0;return Is(t,function(t,i,r){n+=+e(t,i,r)||0}),n}function Jn(t,e){var i=-1,r=ji(),o=t.length,a=r==n,s=a&&o>=200,u=s?js():null,l=[];u?(r=Je,a=!1):(s=!1,u=e?[]:l);t:for(;++i<o;){var c=t[i],f=e?e(c,i,t):c;if(a&&c===c){for(var h=u.length;h--;)if(u[h]===f)continue t;e&&u.push(f),l.push(c)}else r(u,f,0)<0&&((e||s)&&u.push(f),l.push(c))}return l}function Qn(t,e){for(var n=-1,i=e.length,r=Ta(i);++n<i;)r[n]=t[e[n]];return r}function ti(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?Yn(t,i?0:o,i?o+1:r):Yn(t,i?o+1:0,i?r:o)}function ei(t,e){var n=t;n instanceof qe&&(n=n.value());for(var i=-1,r=e.length;++i<r;){var o=[n],a=e[i];es.apply(o,a.args),n=a.func.apply(a.thisArg,o)}return n}function ni(t,e,n){var i=0,r=t?t.length:i;if("number"==typeof e&&e===e&&Es>=r){for(;r>i;){var o=i+r>>>1,a=t[o];(n?e>=a:e>a)?i=o+1:r=o}return r}return ii(t,e,ga,n)}function ii(t,e,n,i){e=n(e);for(var r=0,o=t?t.length:0,a=e!==e,s=e===x;o>r;){var u=Ja((r+o)/2),l=n(t[u]),c=l===l;if(a)var f=c||i;else f=s?c&&(i||l!==x):i?e>=l:e>l;f?r=u+1:o=u}return ms(o,Cs)}function ri(t,e,n){if("function"!=typeof t)return ga;if(e===x)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)};case 5:return function(n,i,r,o,a){return t.call(e,n,i,r,o,a)}}return function(){return t.apply(e,arguments)}}function oi(t){return Ka.call(t,0)}function ai(t,e,n){for(var i=n.length,r=-1,o=gs(t.length-i,0),a=-1,s=e.length,u=Ta(o+s);++a<s;)u[a]=e[a];for(;++r<i;)u[n[r]]=t[r];for(;o--;)u[a++]=t[r++];return u}function si(t,e,n){for(var i=-1,r=n.length,o=-1,a=gs(t.length-r,0),s=-1,u=e.length,l=Ta(a+u);++o<a;)l[o]=t[o];for(var c=o;++s<u;)l[c+s]=e[s];for(;++i<r;)l[c+n[i]]=t[o++];return l}function ui(t,e){return function(n,i,r){var o=e?e():{};if(i=Li(i,r,3),ku(n))for(var a=-1,s=n.length;++a<s;){var u=n[a];t(o,u,i(u,a,n),n)}else Is(n,function(e,n,r){t(o,e,i(e,n,r),r)});return o}}function li(t){return fo(function(e,n){var i=-1,r=null==e?0:n.length,o=r>2&&n[r-2],a=r>2&&n[2],s=r>1&&n[r-1];for("function"==typeof o?(o=ri(o,s,5),r-=2):(o="function"==typeof s?s:null,r-=o?1:0),a&&Vi(n[0],n[1],a)&&(o=3>r?null:o,r=1);++i<r;){var u=n[i];u&&t(e,u,o)}return e})}function ci(t,e){return function(n,i){var r=n?zs(n):0;if(!Ki(r))return t(n,i);for(var o=e?r:-1,a=rr(n);(e?o--:++o<r)&&i(a[o],o,a)!==!1;);return n}}function fi(t){return function(e,n,i){for(var r=rr(e),o=i(e),a=o.length,s=t?a:-1;t?s--:++s<a;){var u=o[s];if(n(r[u],u,r)===!1)break}return e}}function hi(t,e){function n(){var r=this&&this!==Qe&&this instanceof n?i:t;return r.apply(e,arguments)}var i=pi(t);return n}function di(t){return function(e){for(var n=-1,i=ha(Jo(e)),r=i.length,o="";++n<r;)o=t(o,i[n],n);return o}}function pi(t){return function(){var e=Ds(t.prototype),n=t.apply(e,arguments);return Eo(n)?n:e}}function gi(t){function e(n,i,r){r&&Vi(n,i,r)&&(i=null);var o=Di(n,t,null,null,null,null,null,i);return o.placeholder=e.placeholder,o}return e}function mi(t,e){return function(n,i,r){r&&Vi(n,i,r)&&(i=null);var a=Li(),s=null==i;if(a===wn&&s||(s=!1,i=a(i,r,3)),s){var u=ku(n);if(u||!Do(n))return t(u?n:ir(n));i=o}return Ri(n,i,e)}}function vi(t,n){return function(i,r,o){if(r=Li(r,o,3),ku(i)){var a=e(i,r,n);return a>-1?i[a]:x}return Sn(i,r,t)}}function yi(t){return function(n,i,r){return n&&n.length?(i=Li(i,r,3),e(n,i,t)):-1}}function bi(t){return function(e,n,i){return n=Li(n,i,3),Sn(e,n,t,!0)}}function wi(t){return function(){var e=arguments.length;if(!e)return function(){return arguments[0]};for(var n,i=t?e:-1,r=0,o=Ta(e);t?i--:++i<e;){var a=o[r++]=arguments[i];if("function"!=typeof a)throw new La(H);var s=n?"":Hs(a);n="wrapper"==s?new te([]):n}for(i=n?-1:e;++i<e;){a=o[i],s=Hs(a);var u="wrapper"==s?Fs(a):null;n=u&&Xi(u[0])&&u[1]==(A|S|O|D)&&!u[4].length&&1==u[9]?n[Hs(u[0])].apply(n,u[3]):1==a.length&&Xi(a)?n[s]():n.thru(a)}return function(){var t=arguments;if(n&&1==t.length&&ku(t[0]))return n.plant(t[0]).value();for(var i=0,r=o[i].apply(this,t);++i<e;)r=o[i].call(this,r);return r}}}function _i(t,e){return function(n,i,r){return"function"==typeof i&&r===x&&ku(n)?t(n,i):e(n,ri(i,r,3))}}function xi(t){return function(e,n,i){return("function"!=typeof n||i!==x)&&(n=ri(n,i,3)),t(e,n,qo)}}function $i(t){return function(e,n,i){return("function"!=typeof n||i!==x)&&(n=ri(n,i,3)),t(e,n)}}function Ci(t){return function(e,n,i){var r={};return n=Li(n,i,3),Mn(e,function(e,i,o){var a=n(e,i,o);i=t?a:i,e=t?e:a,r[i]=e}),r}}function Ei(t){return function(e,n,i){return e=r(e),(t?e:"")+Oi(e,n,i)+(t?"":e)}}function ki(t){var e=fo(function(n,i){var r=m(i,e.placeholder);return Di(n,t,null,i,r)});return e}function Si(t,e){return function(n,i,r,o){var a=arguments.length<3;return"function"==typeof i&&o===x&&ku(n)?t(n,i,r,a):Vn(n,Li(i,o,4),r,a,e)}}function Ti(t,e,n,i,r,o,a,s,u,l){function c(){for(var w=arguments.length,_=w,$=Ta(w);_--;)$[_]=arguments[_];if(i&&($=ai($,i,r)),o&&($=si($,o,a)),p||v){var k=c.placeholder,S=m($,k);if(w-=S.length,l>w){var T=s?nn(s):null,A=gs(l-w,0),D=p?S:null,I=p?null:S,N=p?$:null,P=p?null:$;e|=p?O:M,e&=~(p?M:O),g||(e&=~(C|E));var R=[t,e,n,N,D,P,I,T,u,A],L=Ti.apply(x,R);return Xi(t)&&Us(L,R),L.placeholder=k,L}}var j=h?n:this;d&&(t=j[b]),s&&($=tr($,s)),f&&u<$.length&&($.length=u);var F=this&&this!==Qe&&this instanceof c?y||pi(t):t;return F.apply(j,$)}var f=e&A,h=e&C,d=e&E,p=e&S,g=e&k,v=e&T,y=!d&&pi(t),b=t;return c}function Oi(t,e,n){var i=t.length;if(e=+e,i>=e||!ds(e))return"";var r=e-i;return n=null==n?" ":n+"",ra(n,Ga(r/n.length)).slice(0,r)}function Mi(t,e,n,i){function r(){for(var e=-1,s=arguments.length,u=-1,l=i.length,c=Ta(s+l);++u<l;)c[u]=i[u];for(;s--;)c[u++]=arguments[++e];var f=this&&this!==Qe&&this instanceof r?a:t;return f.apply(o?n:this,c)}var o=e&C,a=pi(t);return r}function Ai(t){return function(e,n,i,r){var o=Li(i);return o===wn&&null==i?ni(e,n,t):ii(e,n,o(i,r,1),t)}}function Di(t,e,n,i,r,o,a,s){var u=e&E;if(!u&&"function"!=typeof t)throw new La(H);var l=i?i.length:0;if(l||(e&=~(O|M),i=r=null),l-=r?r.length:0,e&M){var c=i,f=r;i=r=null}var h=u?null:Fs(t),d=[t,e,n,i,r,c,f,o,a,s];if(h&&(Zi(d,h),e=d[1],s=d[9]),d[9]=null==s?u?0:t.length:gs(s-l,0)||0,e==C)var p=hi(d[0],d[2]);else p=e!=O&&e!=(C|O)||d[4].length?Ti.apply(x,d):Mi.apply(x,d);var g=h?Ls:Us;return g(p,d)}function Ii(t,e,n,i,r,o,a){var s=-1,u=t.length,l=e.length,c=!0;if(u!=l&&!(r&&l>u))return!1;for(;c&&++s<u;){var f=t[s],h=e[s];if(c=x,i&&(c=r?i(h,f,s):i(f,h,s)),c===x)if(r)for(var d=l;d--&&(h=e[d],!(c=f&&f===h||n(f,h,i,r,o,a))););else c=f&&f===h||n(f,h,i,r,o,a)}return!!c}function Ni(t,e,n){switch(n){case W:case B:return+t==+e;case V:return t.name==e.name&&t.message==e.message;case K:return t!=+t?e!=+e:t==+e;case Z:case Q:return t==e+""}return!1}function Pi(t,e,n,i,r,o,a){var s=ju(t),u=s.length,l=ju(e),c=l.length;if(u!=c&&!r)return!1;for(var f=r,h=-1;++h<u;){var d=s[h],p=r?d in e:Ua.call(e,d);if(p){var g=t[d],m=e[d];p=x,i&&(p=r?i(m,g,d):i(g,m,d)),p===x&&(p=g&&g===m||n(g,m,i,r,o,a))}if(!p)return!1;f||(f="constructor"==d)}if(!f){var v=t.constructor,y=e.constructor;if(v!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y))return!1}return!0}function Ri(t,e,n){var i=n?xs:_s,r=i,o=r;return Is(t,function(t,a,s){var u=e(t,a,s);((n?r>u:u>r)||u===i&&u===o)&&(r=u,o=t)}),o}function Li(t,e,n){var i=X.callback||da;return i=i===da?wn:i,n?i(t,e,n):i}function ji(t,e,i){var r=X.indexOf||vr;return r=r===vr?n:r,t?r(t,e,i):r}function Fi(t,e,n){for(var i=-1,r=n?n.length:0;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=ms(e,t+a);break;case"takeRight":t=gs(t,e-a)}}return{start:t,end:e}}function Hi(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Ua.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function zi(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Na),new e}function qi(t,e,n){var i=t.constructor;switch(e){case ee:return oi(t);case W:case B:return new i(+t);case ne:case ie:case re:case oe:case ae:case se:case ue:case le:case ce:var r=t.buffer;return new i(n?oi(r):r,t.byteOffset,t.length);case K:case Q:return new i(t);case Z:var o=new i(t.source,Oe.exec(t));o.lastIndex=t.lastIndex}return o}function Ui(t,e,n){null==t||Yi(e,t)||(e=or(e),t=1==e.length?t:In(t,Yn(e,0,-1)),e=wr(e));var i=null==t?t:t[e];return null==i?x:i.apply(t,n)}function Wi(t){return null!=t&&Ki(zs(t))}function Bi(t,e){return t=+t,e=null==e?Ss:e,t>-1&&t%1==0&&e>t}function Vi(t,e,n){if(!Eo(n))return!1;var i=typeof e;if("number"==i?Wi(n)&&Bi(e,n.length):"string"==i&&e in n){var r=n[e];return t===t?t===r:r!==r}return!1}function Yi(t,e){var n=typeof t;if("string"==n&&xe.test(t)||"number"==n)return!0;if(ku(t))return!1;var i=!_e.test(t);return i||null!=e&&t in rr(e)}function Xi(t){var e=Hs(t);return!!e&&t===X[e]&&e in qe.prototype}function Ki(t){return"number"==typeof t&&t>-1&&t%1==0&&Ss>=t}function Gi(t){return t===t&&!Eo(t)}function Zi(t,e){var n=t[1],i=e[1],r=n|i,o=A>r,a=i==A&&n==S||i==A&&n==D&&t[7].length<=e[8]||i==(A|D)&&n==S;if(!o&&!a)return t;i&C&&(t[2]=e[2],r|=n&C?0:k);var s=e[3];if(s){var u=t[3];t[3]=u?ai(u,s,e[4]):nn(s),t[4]=u?m(t[3],z):nn(e[4])}return s=e[5],s&&(u=t[5],t[5]=u?si(u,s,e[6]):nn(s),t[6]=u?m(t[5],z):nn(e[6])),s=e[7],s&&(t[7]=nn(s)),i&A&&(t[8]=null==t[8]?e[8]:ms(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function Ji(t,e){t=rr(t);for(var n=-1,i=e.length,r={};++n<i;){var o=e[n];o in t&&(r[o]=t[o])}return r}function Qi(t,e){var n={};return On(t,function(t,i,r){e(t,i,r)&&(n[i]=t)}),n}function tr(t,e){for(var n=t.length,i=ms(e.length,n),r=nn(t);i--;){var o=e[i];t[i]=Bi(o,n)?r[o]:x}return t}function er(t){{var e;X.support}if(!p(t)||Ba.call(t)!=G||!Ua.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var n;return On(t,function(t,e){n=e}),n===x||Ua.call(t,n)}function nr(t){for(var e=qo(t),n=e.length,i=n&&t.length,r=X.support,o=i&&Ki(i)&&(ku(t)||r.nonEnumArgs&&yo(t)),a=-1,s=[];++a<n;){var u=e[a];(o&&Bi(u,i)||Ua.call(t,u))&&s.push(u)}return s}function ir(t){return null==t?[]:Wi(t)?Eo(t)?t:Na(t):Yo(t)}function rr(t){return Eo(t)?t:Na(t)}function or(t){if(ku(t))return t;var e=[];return r(t).replace($e,function(t,n,i,r){e.push(i?r.replace(Se,"$1"):n||t)}),e}function ar(t){return t instanceof qe?t.clone():new te(t.__wrapped__,t.__chain__,nn(t.__actions__))}function sr(t,e,n){e=(n?Vi(t,e,n):null==e)?1:gs(+e||1,1);for(var i=0,r=t?t.length:0,o=-1,a=Ta(Ga(r/e));r>i;)a[++o]=Yn(t,i,i+=e);return a}function ur(t){for(var e=-1,n=t?t.length:0,i=-1,r=[];++e<n;){var o=t[e];o&&(r[++i]=o)}return r}function lr(t,e,n){var i=t?t.length:0;return i?((n?Vi(t,e,n):null==e)&&(e=1),Yn(t,0>e?0:e)):[]}function cr(t,e,n){var i=t?t.length:0;return i?((n?Vi(t,e,n):null==e)&&(e=1),e=i-(+e||0),Yn(t,0,0>e?0:e)):[]}function fr(t,e,n){return t&&t.length?ti(t,Li(e,n,3),!0,!0):[]}function hr(t,e,n){return t&&t.length?ti(t,Li(e,n,3),!0):[]}function dr(t,e,n,i){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Vi(t,e,n)&&(n=0,i=r),En(t,e,n,i)):[]}function pr(t){return t?t[0]:x}function gr(t,e,n){var i=t?t.length:0;return n&&Vi(t,e,n)&&(e=!1),i?Tn(t,e):[]}function mr(t){var e=t?t.length:0;return e?Tn(t,!0):[]}function vr(t,e,i){var r=t?t.length:0;if(!r)return-1;if("number"==typeof i)i=0>i?gs(r+i,0):i;else if(i){var o=ni(t,e),a=t[o];return(e===e?e===a:a!==a)?o:-1}return n(t,e,i||0)}function yr(t){return cr(t,1)}function br(){for(var t=[],e=-1,i=arguments.length,r=[],o=ji(),a=o==n,s=[];++e<i;){var u=arguments[e];Wi(u)&&(t.push(u),r.push(a&&u.length>=120?js(e&&u):null))}if(i=t.length,2>i)return s;var l=t[0],c=-1,f=l?l.length:0,h=r[0];t:for(;++c<f;)if(u=l[c],(h?Je(h,u):o(s,u,0))<0){for(e=i;--e;){var d=r[e];if((d?Je(d,u):o(t[e],u,0))<0)continue t}h&&h.push(u),s.push(u)}return s}function wr(t){var e=t?t.length:0;return e?t[e-1]:x}function _r(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=i;if("number"==typeof n)r=(0>n?gs(i+n,0):ms(n||0,i-1))+1;else if(n){r=ni(t,e,!0)-1;var o=t[r];return(e===e?e===o:o!==o)?r:-1}if(e!==e)return d(t,r,!0);for(;r--;)if(t[r]===e)return r;return-1}function xr(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,i=ji(),r=t.length;++n<r;)for(var o=0,a=t[n];(o=i(e,a,o))>-1;)as.call(e,o,1);return e}function $r(t,e,n){var i=[];if(!t||!t.length)return i;var r=-1,o=[],a=t.length;for(e=Li(e,n,3);++r<a;){var s=t[r];e(s,r,t)&&(i.push(s),o.push(r))}return Wn(t,o),i}function Cr(t){return lr(t,1)}function Er(t,e,n){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Vi(t,e,n)&&(e=0,n=i),Yn(t,e,n)):[]}function kr(t,e,n){var i=t?t.length:0;return i?((n?Vi(t,e,n):null==e)&&(e=1),Yn(t,0,0>e?0:e)):[]}function Sr(t,e,n){var i=t?t.length:0;return i?((n?Vi(t,e,n):null==e)&&(e=1),e=i-(+e||0),Yn(t,0>e?0:e)):[]}function Tr(t,e,n){return t&&t.length?ti(t,Li(e,n,3),!1,!0):[]}function Or(t,e,n){return t&&t.length?ti(t,Li(e,n,3)):[]}function Mr(t,e,i,r){var o=t?t.length:0;if(!o)return[];null!=e&&"boolean"!=typeof e&&(r=i,i=Vi(t,e,r)?null:e,e=!1);var a=Li();return(a!==wn||null!=i)&&(i=a(i,r,3)),e&&ji()==n?v(t,i):Jn(t,i)}function Ar(t){if(!t||!t.length)return[];var e=-1,n=0;t=sn(t,function(t){return Wi(t)?(n=gs(t.length,n),!0):void 0});for(var i=Ta(n);++e<n;)i[e]=un(t,qn(e));return i}function Dr(t,e,n){var i=t?t.length:0;if(!i)return[];var r=Ar(t);return null==e?r:(e=ri(e,n,4),un(r,function(t){return fn(t,e,x,!0)}))}function Ir(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Wi(n))var i=i?$n(i,n).concat($n(n,i)):n}return i?Jn(i):[]}function Nr(t,e){var n=-1,i=t?t.length:0,r={};for(!i||e||ku(t[0])||(e=[]);++n<i;){var o=t[n];e?r[o]=e[n]:o&&(r[o[0]]=o[1])}return r}function Pr(t){var e=X(t);return e.__chain__=!0,e}function Rr(t,e,n){return e.call(n,t),t}function Lr(t,e,n){return e.call(n,t)}function jr(){return Pr(this)}function Fr(){return new te(this.value(),this.__chain__)}function Hr(t){for(var e,n=this;n instanceof J;){var i=ar(n);e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e}function zr(){var t=this.__wrapped__;return t instanceof qe?(this.__actions__.length&&(t=new qe(this)),new te(t.reverse(),this.__chain__)):this.thru(function(t){return t.reverse()})}function qr(){return this.value()+""}function Ur(){return ei(this.__wrapped__,this.__actions__)}function Wr(t,e,n){var i=ku(t)?an:Cn;return n&&Vi(t,e,n)&&(e=null),("function"!=typeof e||n!==x)&&(e=Li(e,n,3)),i(t,e)}function Br(t,e,n){var i=ku(t)?sn:kn;return e=Li(e,n,3),i(t,e)}function Vr(t,e){return nu(t,jn(e))}function Yr(t,e,n,i){var r=t?zs(t):0;return Ki(r)||(t=Yo(t),r=t.length),r?(n="number"!=typeof n||i&&Vi(e,n,i)?0:0>n?gs(r+n,0):n||0,"string"==typeof t||!ku(t)&&Do(t)?r>n&&t.indexOf(e,n)>-1:ji(t,e,n)>-1):!1}function Xr(t,e,n){var i=ku(t)?un:Ln;return e=Li(e,n,3),i(t,e)}function Kr(t,e){return Xr(t,_a(e))}function Gr(t,e,n){var i=ku(t)?sn:kn;return e=Li(e,n,3),i(t,function(t,n,i){return!e(t,n,i)})}function Zr(t,e,n){if(n?Vi(t,e,n):null==e){t=ir(t);var i=t.length;return i>0?t[Bn(0,i-1)]:x}var r=Jr(t);return r.length=ms(0>e?0:+e||0,r.length),r}function Jr(t){t=ir(t);for(var e=-1,n=t.length,i=Ta(n);++e<n;){var r=Bn(0,e);e!=r&&(i[e]=i[r]),i[r]=t[e]}return i}function Qr(t){var e=t?zs(t):0;return Ki(e)?e:ju(t).length}function to(t,e,n){var i=ku(t)?dn:Xn;return n&&Vi(t,e,n)&&(e=null),("function"!=typeof e||n!==x)&&(e=Li(e,n,3)),i(t,e)}function eo(t,e,n){if(null==t)return[];n&&Vi(t,e,n)&&(e=null);var i=-1;e=Li(e,n,3);var r=Ln(t,function(t,n,r){return{criteria:e(t,n,r),index:++i,value:t}});return Kn(r,u)}function no(t,e,n,i){return null==t?[]:(i&&Vi(e,n,i)&&(n=null),ku(e)||(e=null==e?[]:[e]),ku(n)||(n=null==n?[]:[n]),Gn(t,e,n))}function io(t,e){return Br(t,jn(e))}function ro(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new La(H);var n=t;t=e,e=n}return t=ds(t=+t)?t:0,function(){return--t<1?e.apply(this,arguments):void 0}}function oo(t,e,n){return n&&Vi(t,e,n)&&(e=null),e=t&&null==e?t.length:gs(+e||0,0),Di(t,A,null,null,null,null,e)}function ao(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new La(H);var i=t;t=e,e=i}return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}}function so(t,e,n){function i(){h&&Za(h),u&&Za(u),u=h=d=x}function r(){var n=e-(du()-c);if(0>=n||n>e){u&&Za(u);var i=d;u=h=d=x,i&&(p=du(),l=t.apply(f,s),h||u||(s=f=null))}else h=os(r,n)}function o(){h&&Za(h),u=h=d=x,(m||g!==e)&&(p=du(),l=t.apply(f,s),h||u||(s=f=null))}function a(){if(s=arguments,c=du(),f=this,d=m&&(h||!v),g===!1)var n=v&&!h;else{u||v||(p=c);var i=g-(c-p),a=0>=i||i>g;a?(u&&(u=Za(u)),p=c,l=t.apply(f,s)):u||(u=os(o,i))}return a&&h?h=Za(h):h||e===g||(h=os(r,e)),n&&(a=!0,l=t.apply(f,s)),!a||h||u||(s=f=null),l}var s,u,l,c,f,h,d,p=0,g=!1,m=!0;if("function"!=typeof t)throw new La(H);if(e=0>e?0:+e||0,n===!0){var v=!0;m=!1}else Eo(n)&&(v=n.leading,g="maxWait"in n&&gs(+n.maxWait||0,e),m="trailing"in n?n.trailing:m);return a.cancel=i,a}function uo(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new La(H);var n=function(){var i=arguments,r=n.cache,o=e?e.apply(this,i):i[0];if(r.has(o))return r.get(o);var a=t.apply(this,i);return r.set(o,a),a};return n.cache=new uo.Cache,n}function lo(t){if("function"!=typeof t)throw new La(H);return function(){return!t.apply(this,arguments)}}function co(t){return ao(2,t)}function fo(t,e){if("function"!=typeof t)throw new La(H);return e=gs(e===x?t.length-1:+e||0,0),function(){for(var n=arguments,i=-1,r=gs(n.length-e,0),o=Ta(r);++i<r;)o[i]=n[e+i];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,n[0],o);case 2:return t.call(this,n[0],n[1],o)}var a=Ta(e+1);for(i=-1;++i<e;)a[i]=n[i];return a[e]=o,t.apply(this,a)}}function ho(t){if("function"!=typeof t)throw new La(H);return function(e){return t.apply(this,e)}}function po(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new La(H);return n===!1?i=!1:Eo(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),ze.leading=i,ze.maxWait=+e,ze.trailing=r,so(t,e,ze)}function go(t,e){return e=null==e?ga:e,Di(e,O,null,[t],[])}function mo(t,e,n,i){return e&&"boolean"!=typeof e&&Vi(t,e,n)?e=!1:"function"==typeof e&&(i=n,n=e,e=!1),n="function"==typeof n&&ri(n,i,1),_n(t,e,n)}function vo(t,e,n){return e="function"==typeof e&&ri(e,n,1),_n(t,!0,e)}function yo(t){return p(t)&&Wi(t)&&Ba.call(t)==q}function bo(t){return t===!0||t===!1||p(t)&&Ba.call(t)==W}function wo(t){return p(t)&&Ba.call(t)==B}function _o(t){return!!t&&1===t.nodeType&&p(t)&&Ba.call(t).indexOf("Element")>-1}function xo(t){return null==t?!0:Wi(t)&&(ku(t)||Do(t)||yo(t)||p(t)&&Tu(t.splice))?!t.length:!ju(t).length}function $o(t,e,n,i){if(n="function"==typeof n&&ri(n,i,3),!n&&Gi(t)&&Gi(e))return t===e;var r=n?n(t,e):x;return r===x?Nn(t,e,n):!!r}function Co(t){return p(t)&&"string"==typeof t.message&&Ba.call(t)==V}function Eo(t){var e=typeof t;return"function"==e||!!t&&"object"==e}function ko(t,e,n,i){var r=ju(e),o=r.length;if(!o)return!0;if(null==t)return!1;if(n="function"==typeof n&&ri(n,i,3),t=rr(t),!n&&1==o){var a=r[0],s=e[a];if(Gi(s))return s===t[a]&&(s!==x||a in t)}for(var u=Ta(o),l=Ta(o);o--;)s=u[o]=e[r[o]],l[o]=Gi(s);return Rn(t,r,u,l,n)}function So(t){return Mo(t)&&t!=+t}function To(t){return null==t?!1:Ba.call(t)==Y?Ya.test(qa.call(t)):p(t)&&Ae.test(t)}function Oo(t){return null===t}function Mo(t){return"number"==typeof t||p(t)&&Ba.call(t)==K}function Ao(t){return p(t)&&Ba.call(t)==Z}function Do(t){return"string"==typeof t||p(t)&&Ba.call(t)==Q}function Io(t){return p(t)&&Ki(t.length)&&!!Fe[Ba.call(t)]}function No(t){return t===x}function Po(t){var e=t?zs(t):0;return Ki(e)?e?nn(t):[]:Yo(t)}function Ro(t){return bn(t,qo(t))}function Lo(t,e,n){var i=Ds(t);return n&&Vi(t,e,n)&&(e=null),e?As(i,e):i}function jo(t){return Dn(t,qo(t))}function Fo(t,e,n){var i=null==t?x:In(t,or(e),e+"");return i===x?n:i}function Ho(t,e){if(null==t)return!1;var n=Ua.call(t,e);return n||Yi(e)||(e=or(e),t=1==e.length?t:In(t,Yn(e,0,-1)),e=wr(e),n=null!=t&&Ua.call(t,e)),n}function zo(t,e,n){n&&Vi(t,e,n)&&(e=null);for(var i=-1,r=ju(t),o=r.length,a={};++i<o;){var s=r[i],u=t[s];e?Ua.call(a,u)?a[u].push(s):a[u]=[s]:a[u]=s}return a}function qo(t){if(null==t)return[];Eo(t)||(t=Na(t));var e=t.length;e=e&&Ki(e)&&(ku(t)||Ms.nonEnumArgs&&yo(t))&&e||0;for(var n=t.constructor,i=-1,r="function"==typeof n&&n.prototype===t,o=Ta(e),a=e>0;++i<e;)o[i]=i+"";for(var s in t)a&&Bi(s,e)||"constructor"==s&&(r||!Ua.call(t,s))||o.push(s);return o}function Uo(t){for(var e=-1,n=ju(t),i=n.length,r=Ta(i);++e<i;){var o=n[e];r[e]=[o,t[o]]}return r}function Wo(t,e,n){var i=null==t?x:t[e];return i===x&&(null==t||Yi(e,t)||(e=or(e),t=1==e.length?t:In(t,Yn(e,0,-1)),i=null==t?x:t[wr(e)]),i=i===x?n:i),Tu(i)?i.call(t):i}function Bo(t,e,n){if(null==t)return t;var i=e+"";e=null!=t[i]||Yi(e,t)?[i]:or(e);for(var r=-1,o=e.length,a=o-1,s=t;null!=s&&++r<o;){var u=e[r];Eo(s)&&(r==a?s[u]=n:null==s[u]&&(s[u]=Bi(e[r+1])?[]:{})),s=s[u]}return t}function Vo(t,e,n,i){var r=ku(t)||Io(t);if(e=Li(e,i,4),null==n)if(r||Eo(t)){var o=t.constructor;n=r?ku(t)?new o:[]:Ds(Tu(o)&&o.prototype)}else n={};return(r?rn:Mn)(t,function(t,i,r){return e(n,t,i,r)}),n}function Yo(t){return Qn(t,ju(t))}function Xo(t){return Qn(t,qo(t))}function Ko(t,e,n){return e=+e||0,"undefined"==typeof n?(n=e,e=0):n=+n||0,t>=ms(e,n)&&t<gs(e,n)}function Go(t,e,n){n&&Vi(t,e,n)&&(e=n=null);var i=null==t,r=null==e;if(null==n&&(r&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,r=!0)),i&&r&&(e=1,r=!1),t=+t||0,r?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=ws();return ms(t+o*(e-t+parseFloat("1e-"+((o+"").length-1))),e)}return Bn(t,e)}function Zo(t){return t=r(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function Jo(t){return t=r(t),t&&t.replace(De,c).replace(ke,"")}function Qo(t,e,n){t=r(t),e+="";var i=t.length;return n=n===x?i:ms(0>n?0:+n||0,i),n-=e.length,n>=0&&t.indexOf(e,n)==n}function ta(t){return t=r(t),t&&ve.test(t)?t.replace(ge,f):t}function ea(t){return t=r(t),t&&Ee.test(t)?t.replace(Ce,"\\$&"):t}function na(t,e,n){t=r(t),e=+e;var i=t.length;if(i>=e||!ds(e))return t;var o=(e-i)/2,a=Ja(o),s=Ga(o);return n=Oi("",s,n),n.slice(0,a)+t+n}function ia(t,e,n){return n&&Vi(t,e,n)&&(e=0),bs(t,e)}function ra(t,e){var n="";if(t=r(t),e=+e,1>e||!t||!ds(e))return n;do e%2&&(n+=t),e=Ja(e/2),t+=t;while(e);return n}function oa(t,e,n){return t=r(t),n=null==n?0:ms(0>n?0:+n||0,t.length),t.lastIndexOf(e,n)==n}function aa(t,e,n){var i=X.templateSettings;n&&Vi(t,e,n)&&(e=n=null),t=r(t),e=vn(As({},n||e),i,mn);var o,a,s=vn(As({},e.imports),i.imports,mn),u=ju(s),l=Qn(s,u),c=0,f=e.interpolate||Ie,d="__p += '",p=Pa((e.escape||Ie).source+"|"+f.source+"|"+(f===we?Te:Ie).source+"|"+(e.evaluate||Ie).source+"|$","g"),g="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++je+"]")+"\n";t.replace(p,function(e,n,i,r,s,u){return i||(i=r),d+=t.slice(c,u).replace(Ne,h),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=u+e.length,e}),d+="';\n";var m=e.variable;m||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(fe,""):d).replace(he,"$1").replace(de,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=Gu(function(){return Aa(u,g+"return "+d).apply(x,l)
});if(v.source=d,Co(v))throw v;return v}function sa(t,e,n){var i=t;return(t=r(t))?(n?Vi(i,e,n):null==e)?t.slice(y(t),b(t)+1):(e+="",t.slice(a(t,e),s(t,e)+1)):t}function ua(t,e,n){var i=t;return t=r(t),t?t.slice((n?Vi(i,e,n):null==e)?y(t):a(t,e+"")):t}function la(t,e,n){var i=t;return t=r(t),t?(n?Vi(i,e,n):null==e)?t.slice(0,b(t)+1):t.slice(0,s(t,e+"")+1):t}function ca(t,e,n){n&&Vi(t,e,n)&&(e=null);var i=I,o=N;if(null!=e)if(Eo(e)){var a="separator"in e?e.separator:a;i="length"in e?+e.length||0:i,o="omission"in e?r(e.omission):o}else i=+e||0;if(t=r(t),i>=t.length)return t;var s=i-o.length;if(1>s)return o;var u=t.slice(0,s);if(null==a)return u+o;if(Ao(a)){if(t.slice(s).search(a)){var l,c,f=t.slice(0,s);for(a.global||(a=Pa(a.source,(Oe.exec(a)||"")+"g")),a.lastIndex=0;l=a.exec(f);)c=l.index;u=u.slice(0,null==c?s:c)}}else if(t.indexOf(a,s)!=s){var h=u.lastIndexOf(a);h>-1&&(u=u.slice(0,h))}return u+o}function fa(t){return t=r(t),t&&me.test(t)?t.replace(pe,w):t}function ha(t,e,n){return n&&Vi(t,e,n)&&(e=null),t=r(t),t.match(e||Pe)||[]}function da(t,e,n){return n&&Vi(t,e,n)&&(e=null),p(t)?ma(t):wn(t,e)}function pa(t){return function(){return t}}function ga(t){return t}function ma(t){return jn(_n(t,!0))}function va(t,e){return Fn(t,_n(e,!0))}function ya(t,e,n){if(null==n){var i=Eo(e),r=i&&ju(e),o=r&&r.length&&Dn(e,r);(o?o.length:i)||(o=!1,n=e,e=t,t=this)}o||(o=Dn(e,ju(e)));var a=!0,s=-1,u=Tu(t),l=o.length;n===!1?a=!1:Eo(n)&&"chain"in n&&(a=n.chain);for(;++s<l;){var c=o[s],f=e[c];t[c]=f,u&&(t.prototype[c]=function(e){return function(){var n=this.__chain__;if(a||n){var i=t(this.__wrapped__),r=i.__actions__=nn(this.__actions__);return r.push({func:e,args:arguments,thisArg:t}),i.__chain__=n,i}var o=[this.value()];return es.apply(o,arguments),e.apply(t,o)}}(f))}return t}function ba(){return g._=Va,this}function wa(){}function _a(t){return Yi(t)?qn(t):Un(t)}function xa(t){return function(e){return In(t,or(e),e+"")}}function $a(t,e,n){n&&Vi(t,e,n)&&(e=n=null),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var i=-1,r=gs(Ga((e-t)/(n||1)),0),o=Ta(r);++i<r;)o[i]=t,t+=n;return o}function Ca(t,e,n){if(t=Ja(t),1>t||!ds(t))return[];var i=-1,r=Ta(ms(t,$s));for(e=ri(e,n,1);++i<t;)$s>i?r[i]=e(i):e(i);return r}function Ea(t){var e=++Wa;return r(t)+e}function ka(t,e){return(+t||0)+(+e||0)}function Sa(t,e,n){n&&Vi(t,e,n)&&(e=null);var i=Li(),r=null==e;return i===wn&&r||(r=!1,e=i(e,n,3)),r?pn(ku(t)?t:ir(t)):Zn(t,e)}g=g?tn.defaults(Qe.Object(),g,tn.pick(Qe,Le)):Qe;var Ta=g.Array,Oa=g.Date,Ma=g.Error,Aa=g.Function,Da=g.Math,Ia=g.Number,Na=g.Object,Pa=g.RegExp,Ra=g.String,La=g.TypeError,ja=Ta.prototype,Fa=Na.prototype,Ha=Ra.prototype,za=(za=g.window)&&za.document,qa=Aa.prototype.toString,Ua=Fa.hasOwnProperty,Wa=0,Ba=Fa.toString,Va=g._,Ya=Pa("^"+ea(Ba).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xa=To(Xa=g.ArrayBuffer)&&Xa,Ka=To(Ka=Xa&&new Xa(0).slice)&&Ka,Ga=Da.ceil,Za=g.clearTimeout,Ja=Da.floor,Qa=To(Qa=Na.getOwnPropertySymbols)&&Qa,ts=To(ts=Na.getPrototypeOf)&&ts,es=ja.push,ns=To(ns=Na.preventExtensions)&&ns,is=Fa.propertyIsEnumerable,rs=To(rs=g.Set)&&rs,os=g.setTimeout,as=ja.splice,ss=To(ss=g.Uint8Array)&&ss,us=To(us=g.WeakMap)&&us,ls=function(){try{var t=To(t=g.Float64Array)&&t,e=new t(new Xa(10),0,1)&&t}catch(n){}return e}(),cs=function(){var t=ns&&To(t=Na.assign)&&t;try{if(t){var e=ns({1:0});e[0]=1}}catch(n){try{t(e,"xo")}catch(n){}return!e[1]&&t}return!1}(),fs=To(fs=Ta.isArray)&&fs,hs=To(hs=Na.create)&&hs,ds=g.isFinite,ps=To(ps=Na.keys)&&ps,gs=Da.max,ms=Da.min,vs=To(vs=Oa.now)&&vs,ys=To(ys=Ia.isFinite)&&ys,bs=g.parseInt,ws=Da.random,_s=Ia.NEGATIVE_INFINITY,xs=Ia.POSITIVE_INFINITY,$s=Da.pow(2,32)-1,Cs=$s-1,Es=$s>>>1,ks=ls?ls.BYTES_PER_ELEMENT:0,Ss=Da.pow(2,53)-1,Ts=us&&new us,Os={},Ms=X.support={};!function(t){var e=function(){this.x=t},n=arguments,i=[];e.prototype={valueOf:t,y:t};for(var r in new e)i.push(r);Ms.funcDecomp=/\bthis\b/.test(function(){return this}),Ms.funcNames="string"==typeof Aa.name;try{Ms.dom=11===za.createDocumentFragment().nodeType}catch(o){Ms.dom=!1}try{Ms.nonEnumArgs=!is.call(n,1)}catch(o){Ms.nonEnumArgs=!0}}(1,0),X.templateSettings={escape:ye,evaluate:be,interpolate:we,variable:"",imports:{_:X}};var As=cs||function(t,e){return null==e?t:bn(e,qs(e),bn(e,ju(e),t))},Ds=function(){function t(){}return function(e){if(Eo(e)){t.prototype=e;var n=new t;t.prototype=null}return n||g.Object()}}(),Is=ci(Mn),Ns=ci(An,!0),Ps=fi(),Rs=fi(!0),Ls=Ts?function(t,e){return Ts.set(t,e),t}:ga;Ka||(oi=Xa&&ss?function(t){var e=t.byteLength,n=ls?Ja(e/ks):0,i=n*ks,r=new Xa(e);if(n){var o=new ls(r,0,n);o.set(new ls(t,0,n))}return e!=i&&(o=new ss(r,i),o.set(new ss(t,i))),r}:pa(null));var js=hs&&rs?function(t){return new Ze(t)}:pa(null),Fs=Ts?function(t){return Ts.get(t)}:wa,Hs=function(){return Ms.funcNames?"constant"==pa.name?qn("name"):function(t){for(var e=t.name,n=Os[e],i=n?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}:pa("")}(),zs=qn("length"),qs=Qa?function(t){return Qa(rr(t))}:pa([]),Us=function(){var t=0,e=0;return function(n,i){var r=du(),o=R-(r-e);if(e=r,o>0){if(++t>=P)return n}else t=0;return Ls(n,i)}}(),Ws=fo(function(t,e){return Wi(t)?$n(t,Tn(e,!1,!0)):[]}),Bs=yi(),Vs=yi(!0),Ys=fo(function(e,n){n=Tn(n);var i=yn(e,n);return Wn(e,n.sort(t)),i}),Xs=Ai(),Ks=Ai(!0),Gs=fo(function(t){return Jn(Tn(t,!1,!0))}),Zs=fo(function(t,e){return Wi(t)?$n(t,e):[]}),Js=fo(Ar),Qs=fo(function(t){var e=t.length,n=t[e-2],i=t[e-1];return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof i?(--e,i):x,i=x),t.length=e,Dr(t,n,i)}),tu=fo(function(t,e){return yn(t,Tn(e))}),eu=ui(function(t,e,n){Ua.call(t,n)?++t[n]:t[n]=1}),nu=vi(Is),iu=vi(Ns,!0),ru=_i(rn,Is),ou=_i(on,Ns),au=ui(function(t,e,n){Ua.call(t,n)?t[n].push(e):t[n]=[e]}),su=ui(function(t,e,n){t[n]=e}),uu=fo(function(t,e,n){var i=-1,r="function"==typeof e,o=Yi(e),a=Wi(t)?Ta(t.length):[];return Is(t,function(t){var s=r?e:o&&null!=t&&t[e];a[++i]=s?s.apply(t,n):Ui(t,e,n)}),a}),lu=ui(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),cu=Si(fn,Is),fu=Si(hn,Ns),hu=fo(function(t,e){if(null==t)return[];var n=e[2];return n&&Vi(e[0],e[1],n)&&(e.length=1),Gn(t,Tn(e),[])}),du=vs||function(){return(new Oa).getTime()},pu=fo(function(t,e,n){var i=C;if(n.length){var r=m(n,pu.placeholder);i|=O}return Di(t,i,e,n,r)}),gu=fo(function(t,e){e=e.length?Tn(e):jo(t);for(var n=-1,i=e.length;++n<i;){var r=e[n];t[r]=Di(t[r],C,t)}return t}),mu=fo(function(t,e,n){var i=C|E;if(n.length){var r=m(n,mu.placeholder);i|=O}return Di(e,i,t,n,r)}),vu=gi(S),yu=gi(T),bu=fo(function(t,e){return xn(t,1,e)}),wu=fo(function(t,e,n){return xn(t,e,n)}),_u=wi(),xu=wi(!0),$u=ki(O),Cu=ki(M),Eu=fo(function(t,e){return Di(t,D,null,null,null,Tn(e))}),ku=fs||function(t){return p(t)&&Ki(t.length)&&Ba.call(t)==U};Ms.dom||(_o=function(t){return!!t&&1===t.nodeType&&p(t)&&!Ou(t)});var Su=ys||function(t){return"number"==typeof t&&ds(t)},Tu=i(/x/)||ss&&!i(ss)?function(t){return Ba.call(t)==Y}:i,Ou=ts?function(t){if(!t||Ba.call(t)!=G)return!1;var e=t.valueOf,n=To(e)&&(n=ts(e))&&ts(n);return n?t==n||ts(t)==n:er(t)}:er,Mu=li(function(t,e,n){return n?vn(t,e,n):As(t,e)}),Au=fo(function(t){var e=t[0];return null==e?e:(t.push(gn),Mu.apply(x,t))}),Du=bi(Mn),Iu=bi(An),Nu=xi(Ps),Pu=xi(Rs),Ru=$i(Mn),Lu=$i(An),ju=ps?function(t){var e=null!=t&&t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Wi(t)?nr(t):Eo(t)?ps(t):[]}:nr,Fu=Ci(!0),Hu=Ci(),zu=li(Hn),qu=fo(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=un(Tn(e),Ra);return Ji(t,$n(qo(t),e))}var n=ri(e[0],e[1],3);return Qi(t,function(t,e,i){return!n(t,e,i)})}),Uu=fo(function(t,e){return null==t?{}:"function"==typeof e[0]?Qi(t,ri(e[0],e[1],3)):Ji(t,Tn(e))}),Wu=di(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),Bu=di(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Vu=Ei(),Yu=Ei(!0);8!=bs(Re+"08")&&(ia=function(t,e,n){return(n?Vi(t,e,n):null==e)?e=0:e&&(e=+e),t=sa(t),bs(t,e||(Me.test(t)?16:10))});var Xu=di(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Ku=di(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Gu=fo(function(t,e){try{return t.apply(x,e)}catch(n){return Co(n)?n:new Ma(n)}}),Zu=fo(function(t,e){return function(n){return Ui(n,t,e)}}),Ju=fo(function(t,e){return function(n){return Ui(t,n,e)}}),Qu=mi(ln),tl=mi(cn,!0);return X.prototype=J.prototype,te.prototype=Ds(J.prototype),te.prototype.constructor=te,qe.prototype=Ds(J.prototype),qe.prototype.constructor=qe,Ve.prototype["delete"]=Ye,Ve.prototype.get=Xe,Ve.prototype.has=Ke,Ve.prototype.set=Ge,Ze.prototype.push=en,uo.Cache=Ve,X.after=ro,X.ary=oo,X.assign=Mu,X.at=tu,X.before=ao,X.bind=pu,X.bindAll=gu,X.bindKey=mu,X.callback=da,X.chain=Pr,X.chunk=sr,X.compact=ur,X.constant=pa,X.countBy=eu,X.create=Lo,X.curry=vu,X.curryRight=yu,X.debounce=so,X.defaults=Au,X.defer=bu,X.delay=wu,X.difference=Ws,X.drop=lr,X.dropRight=cr,X.dropRightWhile=fr,X.dropWhile=hr,X.fill=dr,X.filter=Br,X.flatten=gr,X.flattenDeep=mr,X.flow=_u,X.flowRight=xu,X.forEach=ru,X.forEachRight=ou,X.forIn=Nu,X.forInRight=Pu,X.forOwn=Ru,X.forOwnRight=Lu,X.functions=jo,X.groupBy=au,X.indexBy=su,X.initial=yr,X.intersection=br,X.invert=zo,X.invoke=uu,X.keys=ju,X.keysIn=qo,X.map=Xr,X.mapKeys=Fu,X.mapValues=Hu,X.matches=ma,X.matchesProperty=va,X.memoize=uo,X.merge=zu,X.method=Zu,X.methodOf=Ju,X.mixin=ya,X.negate=lo,X.omit=qu,X.once=co,X.pairs=Uo,X.partial=$u,X.partialRight=Cu,X.partition=lu,X.pick=Uu,X.pluck=Kr,X.property=_a,X.propertyOf=xa,X.pull=xr,X.pullAt=Ys,X.range=$a,X.rearg=Eu,X.reject=Gr,X.remove=$r,X.rest=Cr,X.restParam=fo,X.set=Bo,X.shuffle=Jr,X.slice=Er,X.sortBy=eo,X.sortByAll=hu,X.sortByOrder=no,X.spread=ho,X.take=kr,X.takeRight=Sr,X.takeRightWhile=Tr,X.takeWhile=Or,X.tap=Rr,X.throttle=po,X.thru=Lr,X.times=Ca,X.toArray=Po,X.toPlainObject=Ro,X.transform=Vo,X.union=Gs,X.uniq=Mr,X.unzip=Ar,X.unzipWith=Dr,X.values=Yo,X.valuesIn=Xo,X.where=io,X.without=Zs,X.wrap=go,X.xor=Ir,X.zip=Js,X.zipObject=Nr,X.zipWith=Qs,X.backflow=xu,X.collect=Xr,X.compose=xu,X.each=ru,X.eachRight=ou,X.extend=Mu,X.iteratee=da,X.methods=jo,X.object=Nr,X.select=Br,X.tail=Cr,X.unique=Mr,ya(X,X),X.add=ka,X.attempt=Gu,X.camelCase=Wu,X.capitalize=Zo,X.clone=mo,X.cloneDeep=vo,X.deburr=Jo,X.endsWith=Qo,X.escape=ta,X.escapeRegExp=ea,X.every=Wr,X.find=nu,X.findIndex=Bs,X.findKey=Du,X.findLast=iu,X.findLastIndex=Vs,X.findLastKey=Iu,X.findWhere=Vr,X.first=pr,X.get=Fo,X.has=Ho,X.identity=ga,X.includes=Yr,X.indexOf=vr,X.inRange=Ko,X.isArguments=yo,X.isArray=ku,X.isBoolean=bo,X.isDate=wo,X.isElement=_o,X.isEmpty=xo,X.isEqual=$o,X.isError=Co,X.isFinite=Su,X.isFunction=Tu,X.isMatch=ko,X.isNaN=So,X.isNative=To,X.isNull=Oo,X.isNumber=Mo,X.isObject=Eo,X.isPlainObject=Ou,X.isRegExp=Ao,X.isString=Do,X.isTypedArray=Io,X.isUndefined=No,X.kebabCase=Bu,X.last=wr,X.lastIndexOf=_r,X.max=Qu,X.min=tl,X.noConflict=ba,X.noop=wa,X.now=du,X.pad=na,X.padLeft=Vu,X.padRight=Yu,X.parseInt=ia,X.random=Go,X.reduce=cu,X.reduceRight=fu,X.repeat=ra,X.result=Wo,X.runInContext=_,X.size=Qr,X.snakeCase=Xu,X.some=to,X.sortedIndex=Xs,X.sortedLastIndex=Ks,X.startCase=Ku,X.startsWith=oa,X.sum=Sa,X.template=aa,X.trim=sa,X.trimLeft=ua,X.trimRight=la,X.trunc=ca,X.unescape=fa,X.uniqueId=Ea,X.words=ha,X.all=Wr,X.any=to,X.contains=Yr,X.detect=nu,X.foldl=cu,X.foldr=fu,X.head=pr,X.include=Yr,X.inject=cu,ya(X,function(){var t={};return Mn(X,function(e,n){X.prototype[n]||(t[n]=e)}),t}(),!1),X.sample=Zr,X.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return Zr(e,t)}):Zr(this.value())},X.VERSION=$,rn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){X[t].placeholder=X}),rn(["dropWhile","filter","map","takeWhile"],function(t,e){var n=e!=F,i=e==L;qe.prototype[t]=function(t,r){var o=this.__filtered__,a=o&&i?new qe(this):this.clone(),s=a.__iteratees__||(a.__iteratees__=[]);return s.push({done:!1,count:0,index:0,iteratee:Li(t,r,1),limit:-1,type:e}),a.__filtered__=o||n,a}}),rn(["drop","take"],function(t,e){var n=t+"While";qe.prototype[t]=function(n){var i=this.__filtered__,r=i&&!e?this.dropWhile():this.clone();if(n=null==n?1:gs(Ja(n)||0,0),i)e?r.__takeCount__=ms(r.__takeCount__,n):wr(r.__iteratees__).limit=n;else{var o=r.__views__||(r.__views__=[]);o.push({size:n,type:t+(r.__dir__<0?"Right":"")})}return r},qe.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()},qe.prototype[t+"RightWhile"]=function(t,e){return this.reverse()[n](t,e).reverse()}}),rn(["first","last"],function(t,e){var n="take"+(e?"Right":"");qe.prototype[t]=function(){return this[n](1).value()[0]}}),rn(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");qe.prototype[t]=function(){return this[n](1)}}),rn(["pluck","where"],function(t,e){var n=e?"filter":"map",i=e?jn:_a;qe.prototype[t]=function(t){return this[n](i(t))}}),qe.prototype.compact=function(){return this.filter(ga)},qe.prototype.reject=function(t,e){return t=Li(t,e,1),this.filter(function(e){return!t(e)})},qe.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return 0>t?n=this.takeRight(-t):t&&(n=this.drop(t)),e!==x&&(e=+e||0,n=0>e?n.dropRight(-e):n.take(e-t)),n},qe.prototype.toArray=function(){return this.drop(0)},Mn(qe.prototype,function(t,e){var n=X[e];if(n){var i=/^(?:filter|map|reject)|While$/.test(e),r=/^(?:first|last)$/.test(e);X.prototype[e]=function(){var e=arguments,o=this.__chain__,a=this.__wrapped__,s=!!this.__actions__.length,u=a instanceof qe,l=e[0],c=u||ku(a);c&&i&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=u&&!s;if(r&&!o)return f?t.call(a):n.call(X,this.value());var h=function(t){var i=[t];return es.apply(i,e),n.apply(X,i)};if(c){var d=f?a:new qe(this),p=t.apply(d,e);if(!r&&(s||p.__actions__)){var g=p.__actions__||(p.__actions__=[]);g.push({func:Lr,args:[h],thisArg:X})}return new te(p,o)}return this.thru(h)}}}),rn(["concat","join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var e=(/^(?:replace|split)$/.test(t)?Ha:ja)[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(t);X.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?e.apply(this.value(),t):this[n](function(n){return e.apply(n,t)})}}),Mn(qe.prototype,function(t,e){var n=X[e];if(n){var i=n.name,r=Os[i]||(Os[i]=[]);r.push({name:e,func:n})}}),Os[Ti(null,E).name]=[{name:"wrapper",func:null}],qe.prototype.clone=Ue,qe.prototype.reverse=We,qe.prototype.value=Be,X.prototype.chain=jr,X.prototype.commit=Fr,X.prototype.plant=Hr,X.prototype.reverse=zr,X.prototype.toString=qr,X.prototype.run=X.prototype.toJSON=X.prototype.valueOf=X.prototype.value=Ur,X.prototype.collect=X.prototype.map,X.prototype.head=X.prototype.first,X.prototype.select=X.prototype.filter,X.prototype.tail=X.prototype.rest,X}var x,$="3.8.0",C=1,E=2,k=4,S=8,T=16,O=32,M=64,A=128,D=256,I=30,N="...",P=150,R=16,L=0,j=1,F=2,H="Expected a function",z="__lodash_placeholder__",q="[object Arguments]",U="[object Array]",W="[object Boolean]",B="[object Date]",V="[object Error]",Y="[object Function]",X="[object Map]",K="[object Number]",G="[object Object]",Z="[object RegExp]",J="[object Set]",Q="[object String]",te="[object WeakMap]",ee="[object ArrayBuffer]",ne="[object Float32Array]",ie="[object Float64Array]",re="[object Int8Array]",oe="[object Int16Array]",ae="[object Int32Array]",se="[object Uint8Array]",ue="[object Uint8ClampedArray]",le="[object Uint16Array]",ce="[object Uint32Array]",fe=/\b__p \+= '';/g,he=/\b(__p \+=) '' \+/g,de=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pe=/&(?:amp|lt|gt|quot|#39|#96);/g,ge=/[&<>"'`]/g,me=RegExp(pe.source),ve=RegExp(ge.source),ye=/<%-([\s\S]+?)%>/g,be=/<%([\s\S]+?)%>/g,we=/<%=([\s\S]+?)%>/g,_e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,xe=/^\w*$/,$e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Ce=/[.*+?^${}()|[\]\/\\]/g,Ee=RegExp(Ce.source),ke=/[\u0300-\u036f\ufe20-\ufe23]/g,Se=/\\(\\)?/g,Te=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Oe=/\w*$/,Me=/^0[xX]/,Ae=/^\[object .+?Constructor\]$/,De=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ie=/($^)/,Ne=/['\n\r\u2028\u2029\\]/g,Pe=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),Re=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",Le=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window"],je=-1,Fe={};Fe[ne]=Fe[ie]=Fe[re]=Fe[oe]=Fe[ae]=Fe[se]=Fe[ue]=Fe[le]=Fe[ce]=!0,Fe[q]=Fe[U]=Fe[ee]=Fe[W]=Fe[B]=Fe[V]=Fe[Y]=Fe[X]=Fe[K]=Fe[G]=Fe[Z]=Fe[J]=Fe[Q]=Fe[te]=!1;var He={};He[q]=He[U]=He[ee]=He[W]=He[B]=He[ne]=He[ie]=He[re]=He[oe]=He[ae]=He[K]=He[G]=He[Z]=He[Q]=He[se]=He[ue]=He[le]=He[ce]=!0,He[V]=He[Y]=He[X]=He[J]=He[te]=!1;var ze={leading:!1,maxWait:0,trailing:!1},qe={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Ue={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},We={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Be={"function":!0,object:!0},Ve={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ye=Be[typeof exports]&&exports&&!exports.nodeType&&exports,Xe=Be[typeof module]&&module&&!module.nodeType&&module,Ke=Ye&&Xe&&"object"==typeof global&&global&&global.Object&&global,Ge=Be[typeof self]&&self&&self.Object&&self,Ze=Be[typeof window]&&window&&window.Object&&window,Je=Xe&&Xe.exports===Ye&&Ye,Qe=Ke||Ze!==(this&&this.window)&&Ze||Ge||this,tn=_();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Qe._=tn,define(function(){return tn})):Ye&&Xe?Je?(Xe.exports=tn)._=tn:Ye._=tn:Qe._=tn}.call(this),!function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function e(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function n(t,e){return e>t?-1:t>e?1:t>=e?0:0/0}function i(t){return null===t?0/0:+t}function r(t){return!isNaN(t)}function o(t){return{left:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);r>i;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}}function a(t){return t.length}function s(t){for(var e=1;t*e%1;)e*=10;return e}function u(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function l(){this._=Object.create(null)}function c(t){return(t+="")===gs||t[0]===ms?ms+t:t}function f(t){return(t+="")[0]===ms?t.slice(1):t}function h(t){return c(t)in this._}function d(t){return(t=c(t))in this._&&delete this._[t]}function p(){var t=[];for(var e in this._)t.push(f(e));return t}function g(){var t=0;for(var e in this._)++t;return t}function m(){for(var t in this._)return!1;return!0}function v(){this._=Object.create(null)}function y(t){return t}function b(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function w(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=vs.length;i>n;++n){var r=vs[n]+e;if(r in t)return r}}function _(){}function x(){}function $(t){function e(){for(var e,i=n,r=-1,o=i.length;++r<o;)(e=i[r].on)&&e.apply(this,arguments);return t}var n=[],i=new l;return e.on=function(e,r){var o,a=i.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),i.remove(e)),r&&n.push(i.set(e,{on:r})),t)},e}function C(){ns.event.preventDefault()}function E(){for(var t,e=ns.event;t=e.sourceEvent;)e=t;return e}function k(t){for(var e=new x,n=0,i=arguments.length;++n<i;)e[arguments[n]]=$(e);return e.of=function(n,i){return function(r){try{var o=r.sourceEvent=ns.event;r.target=t,ns.event=r,e[r.type].apply(n,i)}finally{ns.event=o}}},e}function S(t){return bs(t,$s),t}function T(t){return"function"==typeof t?t:function(){return ws(t,this)}}function O(t){return"function"==typeof t?t:function(){return _s(t,this)}}function M(t,e){function n(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function r(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=ns.ns.qualify(t),null==e?t.local?i:n:"function"==typeof e?t.local?s:a:t.local?o:r}function A(t){return t.trim().replace(/\s+/g," ")}function D(t){return new RegExp("(?:^|\\s+)"+ns.requote(t)+"(?:\\s+|$)","g")}function I(t){return(t+"").trim().split(/^|\s+/)}function N(t,e){function n(){for(var n=-1;++n<r;)t[n](this,e)}function i(){for(var n=-1,i=e.apply(this,arguments);++n<r;)t[n](this,i)}t=I(t).map(P);var r=t.length;return"function"==typeof e?i:n}function P(t){var e=D(t);return function(n,i){if(r=n.classList)return i?r.add(t):r.remove(t);var r=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(r)||n.setAttribute("class",A(r+" "+t))):n.setAttribute("class",A(r.replace(e," ")))}}function R(t,e,n){function i(){this.style.removeProperty(t)}function r(){this.style.setProperty(t,e,n)}function o(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}return null==e?i:"function"==typeof e?o:r}function L(t,e){function n(){delete this[t]}function i(){this[t]=e}function r(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?r:i}function j(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n?e.createElementNS(n,t):e.createElement(t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=ns.ns.qualify(t)).local?n:e}function F(){var t=this.parentNode;t&&t.removeChild(this)}function H(t){return{__data__:t}}function z(t){return function(){return xs(this,t)}}function q(t){return arguments.length||(t=n),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function U(t,e){for(var n=0,i=t.length;i>n;n++)for(var r,o=t[n],a=0,s=o.length;s>a;a++)(r=o[a])&&e(r,a,n);return t}function W(t){return bs(t,Es),t}function B(t){var e,n;return function(i,r,o){var a,s=t[o].update,u=s.length;for(o!=n&&(n=o,e=0),r>=e&&(e=r+1);!(a=s[e])&&++e<u;);return a}}function V(t,e,n){function i(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function r(){var r=u(e,rs(arguments));i.call(this),this.addEventListener(t,this[a]=r,r.$=n),r._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+ns.requote(t)+"$");for(var i in this)if(e=i.match(n)){var r=this[i];this.removeEventListener(e[1],r,r.$),delete this[i]}}var a="__on"+t,s=t.indexOf("."),u=Y;s>0&&(t=t.slice(0,s));var l=ks.get(t);return l&&(t=l,u=X),s?e?r:i:e?_:o}function Y(t,e){return function(n){var i=ns.event;ns.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{ns.event=i}}}function X(t,e){var n=Y(t,e);return function(t){var e=this,i=t.relatedTarget;i&&(i===e||8&i.compareDocumentPosition(e))||n.call(e,t)}}function K(n){var i=".dragsuppress-"+ ++Ts,r="click"+i,o=ns.select(e(n)).on("touchmove"+i,C).on("dragstart"+i,C).on("selectstart"+i,C);if(null==Ss&&(Ss="onselectstart"in n?!1:w(n.style,"userSelect")),Ss){var a=t(n).style,s=a[Ss];a[Ss]="none"}return function(t){if(o.on(i,null),Ss&&(a[Ss]=s),t){var e=function(){o.on(r,null)};o.on(r,function(){C(),e()},!0),setTimeout(e,0)}}}function G(t,n){n.changedTouches&&(n=n.changedTouches[0]);var i=t.ownerSVGElement||t;if(i.createSVGPoint){var r=i.createSVGPoint();if(0>Os){var o=e(t);if(o.scrollX||o.scrollY){i=ns.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=i[0][0].getScreenCTM();Os=!(a.f||a.e),i.remove()}}return Os?(r.x=n.pageX,r.y=n.pageY):(r.x=n.clientX,r.y=n.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var s=t.getBoundingClientRect();return[n.clientX-s.left-t.clientLeft,n.clientY-s.top-t.clientTop]}function Z(){return ns.event.changedTouches[0].identifier}function J(t){return t>0?1:0>t?-1:0}function Q(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function te(t){return t>1?0:-1>t?Ds:Math.acos(t)}function ee(t){return t>1?Ps:-1>t?-Ps:Math.asin(t)}function ne(t){return((t=Math.exp(t))-1/t)/2}function ie(t){return((t=Math.exp(t))+1/t)/2}function re(t){return((t=Math.exp(2*t))-1)/(t+1)}function oe(t){return(t=Math.sin(t/2))*t}function ae(){}function se(t,e,n){return this instanceof se?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof se?new se(t.h,t.s,t.l):_e(""+t,xe,se):new se(t,e,n)}function ue(t,e,n){function i(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(a-o)*t/60:180>t?a:240>t?o+(a-o)*(240-t)/60:o}function r(t){return Math.round(255*i(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,a=.5>=n?n*(1+e):n+e-n*e,o=2*n-a,new ve(r(t+120),r(t),r(t-120))}function le(t,e,n){return this instanceof le?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof le?new le(t.h,t.c,t.l):t instanceof fe?de(t.l,t.a,t.b):de((t=$e((t=ns.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new le(t,e,n)}function ce(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new fe(n,Math.cos(t*=Rs)*e,Math.sin(t)*e)}function fe(t,e,n){return this instanceof fe?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof fe?new fe(t.l,t.a,t.b):t instanceof le?ce(t.h,t.c,t.l):$e((t=ve(t)).r,t.g,t.b):new fe(t,e,n)}function he(t,e,n){var i=(t+16)/116,r=i+e/500,o=i-n/200;return r=pe(r)*Ys,i=pe(i)*Xs,o=pe(o)*Ks,new ve(me(3.2404542*r-1.5371385*i-.4985314*o),me(-.969266*r+1.8760108*i+.041556*o),me(.0556434*r-.2040259*i+1.0572252*o))}function de(t,e,n){return t>0?new le(Math.atan2(n,e)*Ls,Math.sqrt(e*e+n*n),t):new le(0/0,0/0,t)}function pe(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function ge(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function me(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function ve(t,e,n){return this instanceof ve?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof ve?new ve(t.r,t.g,t.b):_e(""+t,ve,ue):new ve(t,e,n)}function ye(t){return new ve(t>>16,t>>8&255,255&t)}function be(t){return ye(t)+""}function we(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function _e(t,e,n){var i,r,o,a=0,s=0,u=0;if(i=/([a-z]+)\((.*)\)/i.exec(t))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(Ee(r[0]),Ee(r[1]),Ee(r[2]))}return(o=Js.get(t.toLowerCase()))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a=a>>4|a,s=240&o,s=s>>4|s,u=15&o,u=u<<4|u):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),e(a,s,u))}function xe(t,e,n){var i,r,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(r=.5>u?s/(a+o):s/(2-a-o),i=t==a?(e-n)/s+(n>e?6:0):e==a?(n-t)/s+2:(t-e)/s+4,i*=60):(i=0/0,r=u>0&&1>u?0:i),new se(i,r,u)}function $e(t,e,n){t=Ce(t),e=Ce(e),n=Ce(n);var i=ge((.4124564*t+.3575761*e+.1804375*n)/Ys),r=ge((.2126729*t+.7151522*e+.072175*n)/Xs),o=ge((.0193339*t+.119192*e+.9503041*n)/Ks);return fe(116*r-16,500*(i-r),200*(r-o))}function Ce(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ee(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function ke(t){return"function"==typeof t?t:function(){return t}}function Se(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),Te(e,n,t,i)}}function Te(t,e,n,i){function r(){var t,e=u.status;if(!e&&Me(u)||e>=200&&300>e||304===e){try{t=n.call(o,u)}catch(i){return void a.error.call(o,i)}a.load.call(o,t)}else a.error.call(o,u)}var o={},a=ns.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=r:u.onreadystatechange=function(){u.readyState>3&&r()},u.onprogress=function(t){var e=ns.event;ns.event=t;try{a.progress.call(o,u)}finally{ns.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(l=t,o):l},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(rs(arguments)))}}),o.send=function(n,i,r){if(2===arguments.length&&"function"==typeof i&&(r=i,i=null),u.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),u.setRequestHeader)for(var c in s)u.setRequestHeader(c,s[c]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=l&&(u.responseType=l),null!=r&&o.on("error",r).on("load",function(t){r(null,t)}),a.beforesend.call(o,u),u.send(null==i?null:i),o},o.abort=function(){return u.abort(),o},ns.rebind(o,a,"on"),null==i?o:o.get(Oe(i))}function Oe(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Me(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Ae(){var t=De(),e=Ie()-t;e>24?(isFinite(e)&&(clearTimeout(nu),nu=setTimeout(Ae,e)),eu=0):(eu=1,ru(Ae))}function De(){var t=Date.now();for(iu=Qs;iu;)t>=iu.t&&(iu.f=iu.c(t-iu.t)),iu=iu.n;return t}function Ie(){for(var t,e=Qs,n=1/0;e;)e.f?e=t?t.n=e.n:Qs=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return tu=t,n}function Ne(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Pe(t,e){var n=Math.pow(10,3*ps(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Re(t){var e=t.decimal,n=t.thousands,i=t.grouping,r=t.currency,o=i&&n?function(t,e){for(var r=t.length,o=[],a=0,s=i[0],u=0;r>0&&s>0&&(u+s+1>e&&(s=Math.max(1,e-u)),o.push(t.substring(r-=s,r+s)),!((u+=s+1)>e));)s=i[a=(a+1)%i.length];return o.reverse().join(n)}:y;return function(t){var n=au.exec(t),i=n[1]||" ",a=n[2]||">",s=n[3]||"-",u=n[4]||"",l=n[5],c=+n[6],f=n[7],h=n[8],d=n[9],p=1,g="",m="",v=!1,y=!0;switch(h&&(h=+h.substring(1)),(l||"0"===i&&"="===a)&&(l=i="0",a="="),d){case"n":f=!0,d="g";break;case"%":p=100,m="%",d="f";break;case"p":p=100,m="%",d="r";break;case"b":case"o":case"x":case"X":"#"===u&&(g="0"+d.toLowerCase());case"c":y=!1;case"d":v=!0,h=0;break;case"s":p=-1,d="r"}"$"===u&&(g=r[0],m=r[1]),"r"!=d||h||(d="g"),null!=h&&("g"==d?h=Math.max(1,Math.min(21,h)):("e"==d||"f"==d)&&(h=Math.max(0,Math.min(20,h)))),d=su.get(d)||Le;var b=l&&f;return function(t){var n=m;if(v&&t%1)return"";var r=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===s?"":s;if(0>p){var u=ns.formatPrefix(t,h);t=u.scale(t),n=u.symbol+m}else t*=p;t=d(t,h);var w,_,x=t.lastIndexOf(".");if(0>x){var $=y?t.lastIndexOf("e"):-1;0>$?(w=t,_=""):(w=t.substring(0,$),_=t.substring($))}else w=t.substring(0,x),_=e+t.substring(x+1);!l&&f&&(w=o(w,1/0));var C=g.length+w.length+_.length+(b?0:r.length),E=c>C?new Array(C=c-C+1).join(i):"";return b&&(w=o(E+w,E.length?c-_.length:1/0)),r+=g,t=w+_,("<"===a?r+t+E:">"===a?E+r+t:"^"===a?E.substring(0,C>>=1)+r+t+E.substring(C):r+(b?t:E+t))+n}}}function Le(t){return t+""}function je(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Fe(t,e,n){function i(e){var n=t(e),i=o(n,1);return i-e>e-n?n:i}function r(n){return e(n=t(new lu(n-1)),1),n}function o(t,n){return e(t=new lu(+t),n),t
}function a(t,i,o){var a=r(t),s=[];if(o>1)for(;i>a;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;i>a;)s.push(new Date(+a)),e(a,1);return s}function s(t,e,n){try{lu=je;var i=new je;return i._=t,a(i,e,n)}finally{lu=Date}}t.floor=t,t.round=i,t.ceil=r,t.offset=o,t.range=a;var u=t.utc=He(t);return u.floor=u,u.round=He(i),u.ceil=He(r),u.offset=He(o),u.range=s,t}function He(t){return function(e,n){try{lu=je;var i=new je;return i._=e,t(i,n)._}finally{lu=Date}}}function ze(t){function e(t){function e(e){for(var n,r,o,a=[],s=-1,u=0;++s<i;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(r=fu[n=t.charAt(++s)])&&(n=t.charAt(++s)),(o=T[n])&&(n=o(e,null==r?"e"===n?" ":"0":r)),a.push(n),u=s+1);return a.push(t.slice(u,s)),a.join("")}var i=t.length;return e.parse=function(e){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=n(i,t,e,0);if(r!=e.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var o=null!=i.Z&&lu!==je,a=new(o?je:lu);return"j"in i?a.setFullYear(i.y,0,i.j):"w"in i&&("W"in i||"U"in i)?(a.setFullYear(i.y,0,1),a.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(a.getDay()+5)%7:i.w+7*i.U-(a.getDay()+6)%7)):a.setFullYear(i.y,i.m,i.d),a.setHours(i.H+(i.Z/100|0),i.M+i.Z%100,i.S,i.L),o?a._:a},e.toString=function(){return t},e}function n(t,e,n,i){for(var r,o,a,s=0,u=e.length,l=n.length;u>s;){if(i>=l)return-1;if(r=e.charCodeAt(s++),37===r){if(a=e.charAt(s++),o=O[a in fu?e.charAt(s++):a],!o||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function i(t,e,n){x.lastIndex=0;var i=x.exec(e.slice(n));return i?(t.w=$.get(i[0].toLowerCase()),n+i[0].length):-1}function r(t,e,n){w.lastIndex=0;var i=w.exec(e.slice(n));return i?(t.w=_.get(i[0].toLowerCase()),n+i[0].length):-1}function o(t,e,n){k.lastIndex=0;var i=k.exec(e.slice(n));return i?(t.m=S.get(i[0].toLowerCase()),n+i[0].length):-1}function a(t,e,n){C.lastIndex=0;var i=C.exec(e.slice(n));return i?(t.m=E.get(i[0].toLowerCase()),n+i[0].length):-1}function s(t,e,i){return n(t,T.c.toString(),e,i)}function u(t,e,i){return n(t,T.x.toString(),e,i)}function l(t,e,i){return n(t,T.X.toString(),e,i)}function c(t,e,n){var i=b.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)}var f=t.dateTime,h=t.date,d=t.time,p=t.periods,g=t.days,m=t.shortDays,v=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{lu=je;var e=new lu;return e._=t,i(e)}finally{lu=Date}}var i=e(t);return n.parse=function(t){try{lu=je;var e=i.parse(t);return e&&e._}finally{lu=Date}},n.toString=i.toString,n},e.multi=e.utc.multi=un;var b=ns.map(),w=Ue(g),_=We(g),x=Ue(m),$=We(m),C=Ue(v),E=We(v),k=Ue(y),S=We(y);p.forEach(function(t,e){b.set(t.toLowerCase(),e)});var T={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(f),d:function(t,e){return qe(t.getDate(),e,2)},e:function(t,e){return qe(t.getDate(),e,2)},H:function(t,e){return qe(t.getHours(),e,2)},I:function(t,e){return qe(t.getHours()%12||12,e,2)},j:function(t,e){return qe(1+uu.dayOfYear(t),e,3)},L:function(t,e){return qe(t.getMilliseconds(),e,3)},m:function(t,e){return qe(t.getMonth()+1,e,2)},M:function(t,e){return qe(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return qe(t.getSeconds(),e,2)},U:function(t,e){return qe(uu.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return qe(uu.mondayOfYear(t),e,2)},x:e(h),X:e(d),y:function(t,e){return qe(t.getFullYear()%100,e,2)},Y:function(t,e){return qe(t.getFullYear()%1e4,e,4)},Z:an,"%":function(){return"%"}},O={a:i,A:r,b:o,B:a,c:s,d:Qe,e:Qe,H:en,I:en,j:tn,L:on,m:Je,M:nn,p:c,S:rn,U:Ve,w:Be,W:Ye,x:u,X:l,y:Ke,Y:Xe,Z:Ge,"%":sn};return e}function qe(t,e,n){var i=0>t?"-":"",r=(i?-t:t)+"",o=r.length;return i+(n>o?new Array(n-o+1).join(e)+r:r)}function Ue(t){return new RegExp("^(?:"+t.map(ns.requote).join("|")+")","i")}function We(t){for(var e=new l,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Be(t,e,n){hu.lastIndex=0;var i=hu.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Ve(t,e,n){hu.lastIndex=0;var i=hu.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Ye(t,e,n){hu.lastIndex=0;var i=hu.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Xe(t,e,n){hu.lastIndex=0;var i=hu.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Ke(t,e,n){hu.lastIndex=0;var i=hu.exec(e.slice(n,n+2));return i?(t.y=Ze(+i[0]),n+i[0].length):-1}function Ge(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Ze(t){return t+(t>68?1900:2e3)}function Je(t,e,n){hu.lastIndex=0;var i=hu.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Qe(t,e,n){hu.lastIndex=0;var i=hu.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function tn(t,e,n){hu.lastIndex=0;var i=hu.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function en(t,e,n){hu.lastIndex=0;var i=hu.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function nn(t,e,n){hu.lastIndex=0;var i=hu.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function rn(t,e,n){hu.lastIndex=0;var i=hu.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function on(t,e,n){hu.lastIndex=0;var i=hu.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function an(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=ps(e)/60|0,r=ps(e)%60;return n+qe(i,"0",2)+qe(r,"0",2)}function sn(t,e,n){du.lastIndex=0;var i=du.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function un(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,i=t[n];!i[1](e);)i=t[++n];return i[0](e)}}function ln(){}function cn(t,e,n){var i=n.s=t+e,r=i-t,o=i-r;n.t=t-o+(e-r)}function fn(t,e){t&&vu.hasOwnProperty(t.type)&&vu[t.type](t,e)}function hn(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function dn(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)hn(t[n],e,1);e.polygonEnd()}function pn(){function t(t,e){t*=Rs,e=e*Rs/2+Ds/4;var n=t-i,a=n>=0?1:-1,s=a*n,u=Math.cos(e),l=Math.sin(e),c=o*l,f=r*u+c*Math.cos(s),h=c*a*Math.sin(s);bu.add(Math.atan2(h,f)),i=t,r=u,o=l}var e,n,i,r,o;wu.point=function(a,s){wu.point=t,i=(e=a)*Rs,r=Math.cos(s=(n=s)*Rs/2+Ds/4),o=Math.sin(s)},wu.lineEnd=function(){t(e,n)}}function gn(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function mn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function vn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function yn(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function bn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function wn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function _n(t){return[Math.atan2(t[1],t[0]),ee(t[2])]}function xn(t,e){return ps(t[0]-e[0])<Ms&&ps(t[1]-e[1])<Ms}function $n(t,e){t*=Rs;var n=Math.cos(e*=Rs);Cn(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Cn(t,e,n){++_u,$u+=(t-$u)/_u,Cu+=(e-Cu)/_u,Eu+=(n-Eu)/_u}function En(){function t(t,r){t*=Rs;var o=Math.cos(r*=Rs),a=o*Math.cos(t),s=o*Math.sin(t),u=Math.sin(r),l=Math.atan2(Math.sqrt((l=n*u-i*s)*l+(l=i*a-e*u)*l+(l=e*s-n*a)*l),e*a+n*s+i*u);xu+=l,ku+=l*(e+(e=a)),Su+=l*(n+(n=s)),Tu+=l*(i+(i=u)),Cn(e,n,i)}var e,n,i;Du.point=function(r,o){r*=Rs;var a=Math.cos(o*=Rs);e=a*Math.cos(r),n=a*Math.sin(r),i=Math.sin(o),Du.point=t,Cn(e,n,i)}}function kn(){Du.point=$n}function Sn(){function t(t,e){t*=Rs;var n=Math.cos(e*=Rs),a=n*Math.cos(t),s=n*Math.sin(t),u=Math.sin(e),l=r*u-o*s,c=o*a-i*u,f=i*s-r*a,h=Math.sqrt(l*l+c*c+f*f),d=i*a+r*s+o*u,p=h&&-te(d)/h,g=Math.atan2(h,d);Ou+=p*l,Mu+=p*c,Au+=p*f,xu+=g,ku+=g*(i+(i=a)),Su+=g*(r+(r=s)),Tu+=g*(o+(o=u)),Cn(i,r,o)}var e,n,i,r,o;Du.point=function(a,s){e=a,n=s,Du.point=t,a*=Rs;var u=Math.cos(s*=Rs);i=u*Math.cos(a),r=u*Math.sin(a),o=Math.sin(s),Cn(i,r,o)},Du.lineEnd=function(){t(e,n),Du.lineEnd=kn,Du.point=$n}}function Tn(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),n}function On(){return!0}function Mn(t,e,n,i,r){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(xn(n,i)){r.lineStart();for(var s=0;e>s;++s)r.point((n=t[s])[0],n[1]);return void r.lineEnd()}var u=new Dn(n,t,null,!0),l=new Dn(n,null,u,!1);u.o=l,o.push(u),a.push(l),u=new Dn(i,t,null,!1),l=new Dn(i,null,u,!0),u.o=l,o.push(u),a.push(l)}}),a.sort(e),An(o),An(a),o.length){for(var s=0,u=n,l=a.length;l>s;++s)a[s].e=u=!u;for(var c,f,h=o[0];;){for(var d=h,p=!0;d.v;)if((d=d.n)===h)return;c=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(var s=0,l=c.length;l>s;++s)r.point((f=c[s])[0],f[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(p){c=d.p.z;for(var s=c.length-1;s>=0;--s)r.point((f=c[s])[0],f[1])}else i(d.x,d.p.x,-1,r);d=d.p}d=d.o,c=d.z,p=!p}while(!d.v);r.lineEnd()}}}function An(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function Dn(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function In(t,e,n,i){return function(r,o){function a(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&o.point(e,n)}function s(t,e){var n=r(t,e);m.point(n[0],n[1])}function u(){y.point=s,m.lineStart()}function l(){y.point=a,m.lineEnd()}function c(t,e){g.push([t,e]);var n=r(t,e);w.point(n[0],n[1])}function f(){w.lineStart(),g=[]}function h(){c(g[0][0],g[0][1]),w.lineEnd();var t,e=w.clean(),n=b.buffer(),i=n.length;if(g.pop(),p.push(g),g=null,i)if(1&e){t=n[0];var r,i=t.length-1,a=-1;if(i>0){for(_||(o.polygonStart(),_=!0),o.lineStart();++a<i;)o.point((r=t[a])[0],r[1]);o.lineEnd()}}else i>1&&2&e&&n.push(n.pop().concat(n.shift())),d.push(n.filter(Nn))}var d,p,g,m=e(o),v=r.invert(i[0],i[1]),y={point:a,lineStart:u,lineEnd:l,polygonStart:function(){y.point=c,y.lineStart=f,y.lineEnd=h,d=[],p=[]},polygonEnd:function(){y.point=a,y.lineStart=u,y.lineEnd=l,d=ns.merge(d);var t=Hn(v,p);d.length?(_||(o.polygonStart(),_=!0),Mn(d,Rn,t,n,o)):t&&(_||(o.polygonStart(),_=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),_&&(o.polygonEnd(),_=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},b=Pn(),w=e(b),_=!1;return y}}function Nn(t){return t.length>1}function Pn(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:_,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Rn(t,e){return((t=t.x)[0]<0?t[1]-Ps-Ms:Ps-t[1])-((e=e.x)[0]<0?e[1]-Ps-Ms:Ps-e[1])}function Ln(t){var e,n=0/0,i=0/0,r=0/0;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Ds:-Ds,u=ps(o-n);ps(u-Ds)<Ms?(t.point(n,i=(i+a)/2>0?Ps:-Ps),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(o,i),e=0):r!==s&&u>=Ds&&(ps(n-r)<Ms&&(n-=r*Ms),ps(o-s)<Ms&&(o-=s*Ms),i=jn(n,i,o,a),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=o,i=a),r=s},lineEnd:function(){t.lineEnd(),n=i=0/0},clean:function(){return 2-e}}}function jn(t,e,n,i){var r,o,a=Math.sin(t-n);return ps(a)>Ms?Math.atan((Math.sin(e)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*o*a)):(e+i)/2}function Fn(t,e,n,i){var r;if(null==t)r=n*Ps,i.point(-Ds,r),i.point(0,r),i.point(Ds,r),i.point(Ds,0),i.point(Ds,-r),i.point(0,-r),i.point(-Ds,-r),i.point(-Ds,0),i.point(-Ds,r);else if(ps(t[0]-e[0])>Ms){var o=t[0]<e[0]?Ds:-Ds;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}function Hn(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],o=0,a=0;bu.reset();for(var s=0,u=e.length;u>s;++s){var l=e[s],c=l.length;if(c)for(var f=l[0],h=f[0],d=f[1]/2+Ds/4,p=Math.sin(d),g=Math.cos(d),m=1;;){m===c&&(m=0),t=l[m];var v=t[0],y=t[1]/2+Ds/4,b=Math.sin(y),w=Math.cos(y),_=v-h,x=_>=0?1:-1,$=x*_,C=$>Ds,E=p*b;if(bu.add(Math.atan2(E*x*Math.sin($),g*w+E*Math.cos($))),o+=C?_+x*Is:_,C^h>=n^v>=n){var k=vn(gn(f),gn(t));wn(k);var S=vn(r,k);wn(S);var T=(C^_>=0?-1:1)*ee(S[2]);(i>T||i===T&&(k[0]||k[1]))&&(a+=C^_>=0?1:-1)}if(!m++)break;h=v,p=b,g=w,f=t}}return(-Ms>o||Ms>o&&0>bu)^1&a}function zn(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(f,h){var d,p=[f,h],g=e(f,h),m=a?g?0:r(f,h):g?r(f+(0>f?Ds:-Ds),h):0;if(!n&&(l=u=g)&&t.lineStart(),g!==u&&(d=i(n,p),(xn(n,d)||xn(p,d))&&(p[0]+=Ms,p[1]+=Ms,g=e(p[0],p[1]))),g!==u)c=0,g?(t.lineStart(),d=i(p,n),t.point(d[0],d[1])):(d=i(n,p),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(s&&n&&a^g){var v;m&o||!(v=i(p,n,!0))||(c=0,a?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||n&&xn(n,p)||t.point(p[0],p[1]),n=p,u=g,o=m},lineEnd:function(){u&&t.lineEnd(),n=null},clean:function(){return c|(l&&u)<<1}}}function i(t,e,n){var i=gn(t),r=gn(e),a=[1,0,0],s=vn(i,r),u=mn(s,s),l=s[0],c=u-l*l;if(!c)return!n&&t;var f=o*u/c,h=-o*l/c,d=vn(a,s),p=bn(a,f),g=bn(s,h);yn(p,g);var m=d,v=mn(p,m),y=mn(m,m),b=v*v-y*(mn(p,p)-1);if(!(0>b)){var w=Math.sqrt(b),_=bn(m,(-v-w)/y);if(yn(_,p),_=_n(_),!n)return _;var x,$=t[0],C=e[0],E=t[1],k=e[1];$>C&&(x=$,$=C,C=x);var S=C-$,T=ps(S-Ds)<Ms,O=T||Ms>S;if(!T&&E>k&&(x=E,E=k,k=x),O?T?E+k>0^_[1]<(ps(_[0]-$)<Ms?E:k):E<=_[1]&&_[1]<=k:S>Ds^($<=_[0]&&_[0]<=C)){var M=bn(m,(-v+w)/y);return yn(M,p),[_,_n(M)]}}}function r(e,n){var i=a?t:Ds-t,r=0;return-i>e?r|=1:e>i&&(r|=2),-i>n?r|=4:n>i&&(r|=8),r}var o=Math.cos(t),a=o>0,s=ps(o)>Ms,u=pi(t,6*Rs);return In(e,n,u,a?[0,-t]:[-Ds,t-Ds])}function qn(t,e,n,i){return function(r){var o,a=r.a,s=r.b,u=a.x,l=a.y,c=s.x,f=s.y,h=0,d=1,p=c-u,g=f-l;if(o=t-u,p||!(o>0)){if(o/=p,0>p){if(h>o)return;d>o&&(d=o)}else if(p>0){if(o>d)return;o>h&&(h=o)}if(o=n-u,p||!(0>o)){if(o/=p,0>p){if(o>d)return;o>h&&(h=o)}else if(p>0){if(h>o)return;d>o&&(d=o)}if(o=e-l,g||!(o>0)){if(o/=g,0>g){if(h>o)return;d>o&&(d=o)}else if(g>0){if(o>d)return;o>h&&(h=o)}if(o=i-l,g||!(0>o)){if(o/=g,0>g){if(o>d)return;o>h&&(h=o)}else if(g>0){if(h>o)return;d>o&&(d=o)}return h>0&&(r.a={x:u+h*p,y:l+h*g}),1>d&&(r.b={x:u+d*p,y:l+d*g}),r}}}}}}function Un(t,e,n,i){function r(i,r){return ps(i[0]-t)<Ms?r>0?0:3:ps(i[0]-n)<Ms?r>0?2:1:ps(i[1]-e)<Ms?r>0?1:0:r>0?3:2}function o(t,e){return a(t.x,e.x)}function a(t,e){var n=r(t,1),i=r(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t){for(var e=0,n=m.length,i=t[1],r=0;n>r;++r)for(var o,a=1,s=m[r],u=s.length,l=s[0];u>a;++a)o=s[a],l[1]<=i?o[1]>i&&Q(l,o,t)>0&&++e:o[1]<=i&&Q(l,o,t)<0&&--e,l=o;return 0!==e}function l(o,s,u,l){var c=0,f=0;if(null==o||(c=r(o,u))!==(f=r(s,u))||a(o,s)<0^u>0){do l.point(0===c||3===c?t:n,c>1?i:e);while((c=(c+u+4)%4)!==f)}else l.point(s[0],s[1])}function c(r,o){return r>=t&&n>=r&&o>=e&&i>=o}function f(t,e){c(t,e)&&s.point(t,e)}function h(){O.point=p,m&&m.push(v=[]),C=!0,$=!1,_=x=0/0}function d(){g&&(p(y,b),w&&$&&S.rejoin(),g.push(S.buffer())),O.point=f,$&&s.lineEnd()}function p(t,e){t=Math.max(-Nu,Math.min(Nu,t)),e=Math.max(-Nu,Math.min(Nu,e));var n=c(t,e);if(m&&v.push([t,e]),C)y=t,b=e,w=n,C=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&$)s.point(t,e);else{var i={a:{x:_,y:x},b:{x:t,y:e}};T(i)?($||(s.lineStart(),s.point(i.a.x,i.a.y)),s.point(i.b.x,i.b.y),n||s.lineEnd(),E=!1):n&&(s.lineStart(),s.point(t,e),E=!1)}_=t,x=e,$=n}var g,m,v,y,b,w,_,x,$,C,E,k=s,S=Pn(),T=qn(t,e,n,i),O={point:f,lineStart:h,lineEnd:d,polygonStart:function(){s=S,g=[],m=[],E=!0},polygonEnd:function(){s=k,g=ns.merge(g);var e=u([t,i]),n=E&&e,r=g.length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),r&&Mn(g,o,e,l,s),s.polygonEnd()),g=m=v=null}};return O}}function Wn(t){var e=0,n=Ds/3,i=ai(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Ds/180,n=t[1]*Ds/180):[e/Ds*180,n/Ds*180]},r}function Bn(t,e){function n(t,e){var n=Math.sqrt(o-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),a-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,o=1+i*(2*r-i),a=Math.sqrt(o)/r;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,ee((o-(t*t+n*n)*r*r)/(2*r))]},n}function Vn(){function t(t,e){Ru+=r*t-i*e,i=t,r=e}var e,n,i,r;zu.point=function(o,a){zu.point=t,e=i=o,n=r=a},zu.lineEnd=function(){t(e,n)}}function Yn(t,e){Lu>t&&(Lu=t),t>Fu&&(Fu=t),ju>e&&(ju=e),e>Hu&&(Hu=e)}function Xn(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function i(){s.point=t}function r(){a.push("Z")}var o=Kn(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return o=Kn(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function Kn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Gn(t,e){$u+=t,Cu+=e,++Eu}function Zn(){function t(t,i){var r=t-e,o=i-n,a=Math.sqrt(r*r+o*o);ku+=a*(e+t)/2,Su+=a*(n+i)/2,Tu+=a,Gn(e=t,n=i)}var e,n;Uu.point=function(i,r){Uu.point=t,Gn(e=i,n=r)}}function Jn(){Uu.point=Gn}function Qn(){function t(t,e){var n=t-i,o=e-r,a=Math.sqrt(n*n+o*o);ku+=a*(i+t)/2,Su+=a*(r+e)/2,Tu+=a,a=r*t-i*e,Ou+=a*(i+t),Mu+=a*(r+e),Au+=3*a,Gn(i=t,r=e)}var e,n,i,r;Uu.point=function(o,a){Uu.point=t,Gn(e=i=o,n=r=a)},Uu.lineEnd=function(){t(e,n)}}function ti(t){function e(e,n){t.moveTo(e+a,n),t.arc(e,n,a,0,Is)}function n(e,n){t.moveTo(e,n),s.point=i}function i(e,n){t.lineTo(e,n)}function r(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:r,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(t){return a=t,s},result:_};return s}function ei(t){function e(t){return(s?i:n)(t)}function n(e){return ri(e,function(n,i){n=t(n,i),e.point(n[0],n[1])})}function i(e){function n(n,i){n=t(n,i),e.point(n[0],n[1])}function i(){b=0/0,C.point=o,e.lineStart()}function o(n,i){var o=gn([n,i]),a=t(n,i);r(b,w,y,_,x,$,b=a[0],w=a[1],y=n,_=o[0],x=o[1],$=o[2],s,e),e.point(b,w)}function a(){C.point=n,e.lineEnd()}function u(){i(),C.point=l,C.lineEnd=c}function l(t,e){o(f=t,h=e),d=b,p=w,g=_,m=x,v=$,C.point=o}function c(){r(b,w,y,_,x,$,d,p,f,g,m,v,s,e),C.lineEnd=a,a()}var f,h,d,p,g,m,v,y,b,w,_,x,$,C={point:n,lineStart:i,lineEnd:a,polygonStart:function(){e.polygonStart(),C.lineStart=u},polygonEnd:function(){e.polygonEnd(),C.lineStart=i}};return C}function r(e,n,i,s,u,l,c,f,h,d,p,g,m,v){var y=c-e,b=f-n,w=y*y+b*b;if(w>4*o&&m--){var _=s+d,x=u+p,$=l+g,C=Math.sqrt(_*_+x*x+$*$),E=Math.asin($/=C),k=ps(ps($)-1)<Ms||ps(i-h)<Ms?(i+h)/2:Math.atan2(x,_),S=t(k,E),T=S[0],O=S[1],M=T-e,A=O-n,D=b*M-y*A;(D*D/w>o||ps((y*M+b*A)/w-.5)>.3||a>s*d+u*p+l*g)&&(r(e,n,i,s,u,l,T,O,k,_/=C,x/=C,$,m,v),v.point(T,O),r(T,O,k,_,x,$,c,f,h,d,p,g,m,v))}}var o=.5,a=Math.cos(30*Rs),s=16;return e.precision=function(t){return arguments.length?(s=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function ni(t){var e=ei(function(e,n){return t([e*Ls,n*Ls])});return function(t){return si(e(t))}}function ii(t){this.stream=t}function ri(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function oi(t){return ai(function(){return t})()}function ai(t){function e(t){return t=s(t[0]*Rs,t[1]*Rs),[t[0]*h+u,l-t[1]*h]}function n(t){return t=s.invert((t[0]-u)/h,(l-t[1])/h),t&&[t[0]*Ls,t[1]*Ls]}function i(){s=Tn(a=ci(v,b,w),o);var t=o(g,m);return u=d-t[0]*h,l=p+t[1]*h,r()}function r(){return c&&(c.valid=!1,c=null),e}var o,a,s,u,l,c,f=ei(function(t,e){return t=o(t,e),[t[0]*h+u,l-t[1]*h]}),h=150,d=480,p=250,g=0,m=0,v=0,b=0,w=0,_=Iu,x=y,$=null,C=null;return e.stream=function(t){return c&&(c.valid=!1),c=si(_(a,f(x(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(_=null==t?($=t,Iu):zn(($=+t)*Rs),r()):$},e.clipExtent=function(t){return arguments.length?(C=t,x=t?Un(t[0][0],t[0][1],t[1][0],t[1][1]):y,r()):C},e.scale=function(t){return arguments.length?(h=+t,i()):h},e.translate=function(t){return arguments.length?(d=+t[0],p=+t[1],i()):[d,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Rs,m=t[1]%360*Rs,i()):[g*Ls,m*Ls]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Rs,b=t[1]%360*Rs,w=t.length>2?t[2]%360*Rs:0,i()):[v*Ls,b*Ls,w*Ls]},ns.rebind(e,f,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,i()}}function si(t){return ri(t,function(e,n){t.point(e*Rs,n*Rs)})}function ui(t,e){return[t,e]}function li(t,e){return[t>Ds?t-Is:-Ds>t?t+Is:t,e]}function ci(t,e,n){return t?e||n?Tn(hi(t),di(e,n)):hi(t):e||n?di(e,n):li}function fi(t){return function(e,n){return e+=t,[e>Ds?e-Is:-Ds>e?e+Is:e,n]}}function hi(t){var e=fi(t);return e.invert=fi(-t),e}function di(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*i+s*r;return[Math.atan2(u*o-c*a,s*i-l*r),ee(c*o+u*a)]}var i=Math.cos(t),r=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*o-u*a;return[Math.atan2(u*o+l*a,s*i+c*r),ee(c*i-s*r)]},n}function pi(t,e){var n=Math.cos(t),i=Math.sin(t);return function(r,o,a,s){var u=a*e;null!=r?(r=gi(n,r),o=gi(n,o),(a>0?o>r:r>o)&&(r+=a*Is)):(r=t+a*Is,o=t-.5*u);for(var l,c=r;a>0?c>o:o>c;c-=u)s.point((l=_n([n,-i*Math.cos(c),-i*Math.sin(c)]))[0],l[1])}}function gi(t,e){var n=gn(e);n[0]-=t,wn(n);var i=te(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Ms)%(2*Math.PI)}function mi(t,e,n){var i=ns.range(t,e-Ms,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function vi(t,e,n){var i=ns.range(t,e-Ms,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function yi(t){return t.source}function bi(t){return t.target}function wi(t,e,n,i){var r=Math.cos(e),o=Math.sin(e),a=Math.cos(i),s=Math.sin(i),u=r*Math.cos(t),l=r*Math.sin(t),c=a*Math.cos(n),f=a*Math.sin(n),h=2*Math.asin(Math.sqrt(oe(i-e)+r*a*oe(n-t))),d=1/Math.sin(h),p=h?function(t){var e=Math.sin(t*=h)*d,n=Math.sin(h-t)*d,i=n*u+e*c,r=n*l+e*f,a=n*o+e*s;return[Math.atan2(r,i)*Ls,Math.atan2(a,Math.sqrt(i*i+r*r))*Ls]}:function(){return[t*Ls,e*Ls]};return p.distance=h,p}function _i(){function t(t,r){var o=Math.sin(r*=Rs),a=Math.cos(r),s=ps((t*=Rs)-e),u=Math.cos(s);Wu+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=i*o-n*a*u)*s),n*o+i*a*u),e=t,n=o,i=a}var e,n,i;Bu.point=function(r,o){e=r*Rs,n=Math.sin(o*=Rs),i=Math.cos(o),Bu.point=t},Bu.lineEnd=function(){Bu.point=Bu.lineEnd=_}}function xi(t,e){function n(e,n){var i=Math.cos(e),r=Math.cos(n),o=t(i*r);return[o*r*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),r=e(i),o=Math.sin(r),a=Math.cos(r);return[Math.atan2(t*o,i*a),Math.asin(i&&n*o/i)]},n}function $i(t,e){function n(t,e){a>0?-Ps+Ms>e&&(e=-Ps+Ms):e>Ps-Ms&&(e=Ps-Ms);var n=a/Math.pow(r(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var i=Math.cos(t),r=function(t){return Math.tan(Ds/4+t/2)},o=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),a=i*Math.pow(r(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,i=J(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/i,1/o))-Ps]},n):Ei}function Ci(t,e){function n(t,e){var n=o-e;return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),o=i/r+t;return ps(r)<Ms?ui:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,o-J(r)*Math.sqrt(t*t+n*n)]},n)}function Ei(t,e){return[t,Math.log(Math.tan(Ds/4+e/2))]}function ki(t){var e,n=oi(t),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=Ds*i(),u=r();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function Si(t,e){return[Math.log(Math.tan(Ds/4+e/2)),-t]}function Ti(t){return t[0]}function Oi(t){return t[1]}function Mi(t){for(var e=t.length,n=[0,1],i=2,r=2;e>r;r++){for(;i>1&&Q(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function Ai(t,e){return t[0]-e[0]||t[1]-e[1]}function Di(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Ii(t,e,n,i){var r=t[0],o=n[0],a=e[0]-r,s=i[0]-o,u=t[1],l=n[1],c=e[1]-u,f=i[1]-l,h=(s*(u-l)-f*(r-o))/(f*a-s*c);return[r+h*a,u+h*c]}function Ni(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Pi(){nr(this),this.edge=this.site=this.circle=null}function Ri(t){var e=il.pop()||new Pi;return e.site=t,e}function Li(t){Yi(t),tl.remove(t),il.push(t),nr(t)}function ji(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},o=t.P,a=t.N,s=[t];Li(t);for(var u=o;u.circle&&ps(n-u.circle.x)<Ms&&ps(i-u.circle.cy)<Ms;)o=u.P,s.unshift(u),Li(u),u=o;s.unshift(u),Yi(u);for(var l=a;l.circle&&ps(n-l.circle.x)<Ms&&ps(i-l.circle.cy)<Ms;)a=l.N,s.push(l),Li(l),l=a;s.push(l),Yi(l);var c,f=s.length;for(c=1;f>c;++c)l=s[c],u=s[c-1],Qi(l.edge,u.site,l.site,r);u=s[0],l=s[f-1],l.edge=Zi(u.site,l.site,null,r),Vi(u),Vi(l)}function Fi(t){for(var e,n,i,r,o=t.x,a=t.y,s=tl._;s;)if(i=Hi(s,a)-o,i>Ms)s=s.L;else{if(r=o-zi(s,a),!(r>Ms)){i>-Ms?(e=s.P,n=s):r>-Ms?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=Ri(t);if(tl.insert(e,u),e||n){if(e===n)return Yi(e),n=Ri(e.site),tl.insert(u,n),u.edge=n.edge=Zi(e.site,u.site),Vi(e),void Vi(n);if(!n)return void(u.edge=Zi(e.site,u.site));Yi(e),Yi(n);var l=e.site,c=l.x,f=l.y,h=t.x-c,d=t.y-f,p=n.site,g=p.x-c,m=p.y-f,v=2*(h*m-d*g),y=h*h+d*d,b=g*g+m*m,w={x:(m*y-d*b)/v+c,y:(h*b-g*y)/v+f};Qi(n.edge,l,p,w),u.edge=Zi(l,t,null,w),n.edge=Zi(t,p,null,w),Vi(e),Vi(n)}}function Hi(t,e){var n=t.site,i=n.x,r=n.y,o=r-e;if(!o)return i;var a=t.P;if(!a)return-1/0;n=a.site;var s=n.x,u=n.y,l=u-e;if(!l)return s;var c=s-i,f=1/o-1/l,h=c/l;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*l)-u+l/2+r-o/2)))/f+i:(i+s)/2}function zi(t,e){var n=t.N;if(n)return Hi(n,e);var i=t.site;return i.y===e?i.x:1/0}function qi(t){this.site=t,this.edges=[]}function Ui(t){for(var e,n,i,r,o,a,s,u,l,c,f=t[0][0],h=t[1][0],d=t[0][1],p=t[1][1],g=Qu,m=g.length;m--;)if(o=g[m],o&&o.prepare())for(s=o.edges,u=s.length,a=0;u>a;)c=s[a].end(),i=c.x,r=c.y,l=s[++a%u].start(),e=l.x,n=l.y,(ps(i-e)>Ms||ps(r-n)>Ms)&&(s.splice(a,0,new tr(Ji(o.site,c,ps(i-f)<Ms&&p-r>Ms?{x:f,y:ps(e-f)<Ms?n:p}:ps(r-p)<Ms&&h-i>Ms?{x:ps(n-p)<Ms?e:h,y:p}:ps(i-h)<Ms&&r-d>Ms?{x:h,y:ps(e-h)<Ms?n:d}:ps(r-d)<Ms&&i-f>Ms?{x:ps(n-d)<Ms?e:f,y:d}:null),o.site,null)),++u)}function Wi(t,e){return e.angle-t.angle}function Bi(){nr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Vi(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var a=r.x,s=r.y,u=i.x-a,l=i.y-s,c=o.x-a,f=o.y-s,h=2*(u*f-l*c);if(!(h>=-As)){var d=u*u+l*l,p=c*c+f*f,g=(f*d-l*p)/h,m=(u*p-c*d)/h,f=m+s,v=rl.pop()||new Bi;v.arc=t,v.site=r,v.x=g+a,v.y=f+Math.sqrt(g*g+m*m),v.cy=f,t.circle=v;for(var y=null,b=nl._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}nl.insert(y,v),y||(el=v)}}}}function Yi(t){var e=t.circle;e&&(e.P||(el=e.N),nl.remove(e),rl.push(e),nr(e),t.circle=null)}function Xi(t){for(var e,n=Ju,i=qn(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)e=n[r],(!Ki(e,t)||!i(e)||ps(e.a.x-e.b.x)<Ms&&ps(e.a.y-e.b.y)<Ms)&&(e.a=e.b=null,n.splice(r,1))}function Ki(t,e){var n=t.b;if(n)return!0;var i,r,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],l=e[1][1],c=t.l,f=t.r,h=c.x,d=c.y,p=f.x,g=f.y,m=(h+p)/2,v=(d+g)/2;if(g===d){if(a>m||m>=s)return;if(h>p){if(o){if(o.y>=l)return}else o={x:m,y:u};n={x:m,y:l}}else{if(o){if(o.y<u)return}else o={x:m,y:l};n={x:m,y:u}}}else if(i=(h-p)/(g-d),r=v-i*m,-1>i||i>1)if(h>p){if(o){if(o.y>=l)return}else o={x:(u-r)/i,y:u};n={x:(l-r)/i,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-r)/i,y:l};n={x:(u-r)/i,y:u}}else if(g>d){if(o){if(o.x>=s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}else{if(o){if(o.x<a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}return t.a=o,t.b=n,!0}function Gi(t,e){this.l=t,this.r=e,this.a=this.b=null}function Zi(t,e,n,i){var r=new Gi(t,e);return Ju.push(r),n&&Qi(r,t,e,n),i&&Qi(r,e,t,i),Qu[t.i].edges.push(new tr(r,t,e)),Qu[e.i].edges.push(new tr(r,e,t)),r}function Ji(t,e,n){var i=new Gi(t,null);return i.a=e,i.b=n,Ju.push(i),i}function Qi(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function tr(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function er(){this._=null}function nr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ir(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function rr(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function or(t){for(;t.L;)t=t.L;return t}function ar(t,e){var n,i,r,o=t.sort(sr).pop();for(Ju=[],Qu=new Array(t.length),tl=new er,nl=new er;;)if(r=el,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))(o.x!==n||o.y!==i)&&(Qu[o.i]=new qi(o),Fi(o),n=o.x,i=o.y),o=t.pop();else{if(!r)break;ji(r.arc)}e&&(Xi(e),Ui(e));var a={cells:Qu,edges:Ju};return tl=nl=Ju=Qu=null,a}function sr(t,e){return e.y-t.y||e.x-t.x}function ur(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function lr(t){return t.x}function cr(t){return t.y}function fr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function hr(t,e,n,i,r,o){if(!t(e,n,i,r,o)){var a=.5*(n+r),s=.5*(i+o),u=e.nodes;u[0]&&hr(t,u[0],n,i,a,s),u[1]&&hr(t,u[1],a,i,r,s),u[2]&&hr(t,u[2],n,s,a,o),u[3]&&hr(t,u[3],a,s,r,o)}}function dr(t,e,n,i,r,o,a){var s,u=1/0;return function l(t,c,f,h,d){if(!(c>o||f>a||i>h||r>d)){if(p=t.point){var p,g=e-t.x,m=n-t.y,v=g*g+m*m;if(u>v){var y=Math.sqrt(u=v);i=e-y,r=n-y,o=e+y,a=n+y,s=p}}for(var b=t.nodes,w=.5*(c+h),_=.5*(f+d),x=e>=w,$=n>=_,C=$<<1|x,E=C+4;E>C;++C)if(t=b[3&C])switch(3&C){case 0:l(t,c,f,w,_);break;case 1:l(t,w,f,h,_);break;case 2:l(t,c,_,w,d);break;case 3:l(t,w,_,h,d)}}}(t,i,r,o,a),s}function pr(t,e){t=ns.rgb(t),e=ns.rgb(e);var n=t.r,i=t.g,r=t.b,o=e.r-n,a=e.g-i,s=e.b-r;return function(t){return"#"+we(Math.round(n+o*t))+we(Math.round(i+a*t))+we(Math.round(r+s*t))}}function gr(t,e){var n,i={},r={};for(n in t)n in e?i[n]=yr(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function mr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function vr(t,e){var n,i,r,o=al.lastIndex=sl.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=al.exec(t))&&(i=sl.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:mr(n,i)})),o=sl.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?u[0]?(e=u[0].x,function(t){return e(t)+""}):function(){return e}:(e=u.length,function(t){for(var n,i=0;e>i;++i)s[(n=u[i]).i]=n.x(t);return s.join("")})}function yr(t,e){for(var n,i=ns.interpolators.length;--i>=0&&!(n=ns.interpolators[i](t,e)););return n}function br(t,e){var n,i=[],r=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)i.push(yr(t[n],e[n]));for(;o>n;++n)r[n]=t[n];for(;a>n;++n)r[n]=e[n];return function(t){for(n=0;s>n;++n)r[n]=i[n](t);return r}}function wr(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function _r(t){return function(e){return 1-t(1-e)}}function xr(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function $r(t){return t*t}function Cr(t){return t*t*t}function Er(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function kr(t){return function(e){return Math.pow(e,t)}}function Sr(t){return 1-Math.cos(t*Ps)}function Tr(t){return Math.pow(2,10*(t-1))}function Or(t){return 1-Math.sqrt(1-t*t)}function Mr(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Is*Math.asin(1/t):(t=1,n=e/4),function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-n)*Is/e)}}function Ar(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Dr(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375
}function Ir(t,e){t=ns.hcl(t),e=ns.hcl(e);var n=t.h,i=t.c,r=t.l,o=e.h-n,a=e.c-i,s=e.l-r;return isNaN(a)&&(a=0,i=isNaN(i)?e.c:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return ce(n+o*t,i+a*t,r+s*t)+""}}function Nr(t,e){t=ns.hsl(t),e=ns.hsl(e);var n=t.h,i=t.s,r=t.l,o=e.h-n,a=e.s-i,s=e.l-r;return isNaN(a)&&(a=0,i=isNaN(i)?e.s:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return ue(n+o*t,i+a*t,r+s*t)+""}}function Pr(t,e){t=ns.lab(t),e=ns.lab(e);var n=t.l,i=t.a,r=t.b,o=e.l-n,a=e.a-i,s=e.b-r;return function(t){return he(n+o*t,i+a*t,r+s*t)+""}}function Rr(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Lr(t){var e=[t.a,t.b],n=[t.c,t.d],i=Fr(e),r=jr(e,n),o=Fr(Hr(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ls,this.translate=[t.e,t.f],this.scale=[i,o],this.skew=o?Math.atan2(r,o)*Ls:0}function jr(t,e){return t[0]*e[0]+t[1]*e[1]}function Fr(t){var e=Math.sqrt(jr(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Hr(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function zr(t,e){var n,i=[],r=[],o=ns.transform(t),a=ns.transform(e),s=o.translate,u=a.translate,l=o.rotate,c=a.rotate,f=o.skew,h=a.skew,d=o.scale,p=a.scale;return s[0]!=u[0]||s[1]!=u[1]?(i.push("translate(",null,",",null,")"),r.push({i:1,x:mr(s[0],u[0])},{i:3,x:mr(s[1],u[1])})):i.push(u[0]||u[1]?"translate("+u+")":""),l!=c?(l-c>180?c+=360:c-l>180&&(l+=360),r.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:mr(l,c)})):c&&i.push(i.pop()+"rotate("+c+")"),f!=h?r.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:mr(f,h)}):h&&i.push(i.pop()+"skewX("+h+")"),d[0]!=p[0]||d[1]!=p[1]?(n=i.push(i.pop()+"scale(",null,",",null,")"),r.push({i:n-4,x:mr(d[0],p[0])},{i:n-2,x:mr(d[1],p[1])})):(1!=p[0]||1!=p[1])&&i.push(i.pop()+"scale("+p+")"),n=r.length,function(t){for(var e,o=-1;++o<n;)i[(e=r[o]).i]=e.x(t);return i.join("")}}function qr(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Ur(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Wr(t){for(var e=t.source,n=t.target,i=Vr(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function Br(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Vr(t,e){if(t===e)return t;for(var n=Br(t),i=Br(e),r=n.pop(),o=i.pop(),a=null;r===o;)a=r,r=n.pop(),o=i.pop();return a}function Yr(t){t.fixed|=2}function Xr(t){t.fixed&=-7}function Kr(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Gr(t){t.fixed&=-5}function Zr(t,e,n){var i=0,r=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,u=-1;++u<s;)o=a[u],null!=o&&(Zr(o,e,n),t.charge+=o.charge,i+=o.charge*o.cx,r+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=e*n[t.point.index];t.charge+=t.pointCharge=l,i+=l*t.point.x,r+=l*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function Jr(t,e){return ns.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=ro,t}function Qr(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function to(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(o=t.children)&&(r=o.length))for(var r,o,a=-1;++a<r;)n.push(o[a]);for(;null!=(t=i.pop());)e(t)}function eo(t){return t.children}function no(t){return t.value}function io(t,e){return e.value-t.value}function ro(t){return ns.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function oo(t){return t.x}function ao(t){return t.y}function so(t,e,n){t.y0=e,t.y=n}function uo(t){return ns.range(t.length)}function lo(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function co(t){for(var e,n=1,i=0,r=t[0][1],o=t.length;o>n;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function fo(t){return t.reduce(ho,0)}function ho(t,e){return t+e[1]}function po(t,e){return go(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function go(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,o=[];++n<=e;)o[n]=r*n+i;return o}function mo(t){return[ns.min(t),ns.max(t)]}function vo(t,e){return t.value-e.value}function yo(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function bo(t,e){t._pack_next=e,e._pack_prev=t}function wo(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return.999*r*r>n*n+i*i}function _o(t){function e(t){c=Math.min(t.x-t.r,c),f=Math.max(t.x+t.r,f),h=Math.min(t.y-t.r,h),d=Math.max(t.y+t.r,d)}if((n=t.children)&&(l=n.length)){var n,i,r,o,a,s,u,l,c=1/0,f=-1/0,h=1/0,d=-1/0;if(n.forEach(xo),i=n[0],i.x=-i.r,i.y=0,e(i),l>1&&(r=n[1],r.x=r.r,r.y=0,e(r),l>2))for(o=n[2],Eo(i,r,o),e(o),yo(i,o),i._pack_prev=o,yo(o,r),r=i._pack_next,a=3;l>a;a++){Eo(i,r,o=n[a]);var p=0,g=1,m=1;for(s=r._pack_next;s!==r;s=s._pack_next,g++)if(wo(s,o)){p=1;break}if(1==p)for(u=i._pack_prev;u!==s._pack_prev&&!wo(u,o);u=u._pack_prev,m++);p?(m>g||g==m&&r.r<i.r?bo(i,r=s):bo(i=u,r),a--):(yo(i,o),r=o,e(o))}var v=(c+f)/2,y=(h+d)/2,b=0;for(a=0;l>a;a++)o=n[a],o.x-=v,o.y-=y,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=b,n.forEach($o)}}function xo(t){t._pack_next=t._pack_prev=t}function $o(t){delete t._pack_next,delete t._pack_prev}function Co(t,e,n,i){var r=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,r)for(var o=-1,a=r.length;++o<a;)Co(r[o],e,n,i)}function Eo(t,e,n){var i=t.r+n.r,r=e.x-t.x,o=e.y-t.y;if(i&&(r||o)){var a=e.r+n.r,s=r*r+o*o;a*=a,i*=i;var u=.5+(i-a)/(2*s),l=Math.sqrt(Math.max(0,2*a*(i+s)-(i-=s)*i-a*a))/(2*s);n.x=t.x+u*r+l*o,n.y=t.y+u*o-l*r}else n.x=t.x+i,n.y=t.y}function ko(t,e){return t.parent==e.parent?1:2}function So(t){var e=t.children;return e.length?e[0]:t.t}function To(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Oo(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Mo(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)e=r[o],e.z+=n,e.m+=n,n+=e.s+(i+=e.c)}function Ao(t,e,n){return t.a.parent===e.parent?t.a:n}function Do(t){return 1+ns.max(t,function(t){return t.y})}function Io(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function No(t){var e=t.children;return e&&e.length?No(e[0]):t}function Po(t){var e,n=t.children;return n&&(e=n.length)?Po(n[e-1]):t}function Ro(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Lo(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return 0>r&&(n+=r/2,r=0),0>o&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function jo(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function Fo(t){return t.rangeExtent?t.rangeExtent():jo(t.range())}function Ho(t,e,n,i){var r=n(t[0],t[1]),o=i(e[0],e[1]);return function(t){return o(r(t))}}function zo(t,e){var n,i=0,r=t.length-1,o=t[i],a=t[r];return o>a&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t}function qo(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:yl}function Uo(t,e,n,i){var r=[],o=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)r.push(n(t[a-1],t[a])),o.push(i(e[a-1],e[a]));return function(e){var n=ns.bisect(t,e,1,s)-1;return o[n](r[n](e))}}function Wo(t,e,n,i){function r(){var r=Math.min(t.length,e.length)>2?Uo:Ho,u=i?Ur:qr;return a=r(t,e,u,n),s=r(e,t,u,yr),o}function o(t){return a(t)}var a,s;return o.invert=function(t){return s(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),r()):t},o.range=function(t){return arguments.length?(e=t,r()):e},o.rangeRound=function(t){return o.range(t).interpolate(Rr)},o.clamp=function(t){return arguments.length?(i=t,r()):i},o.interpolate=function(t){return arguments.length?(n=t,r()):n},o.ticks=function(e){return Xo(t,e)},o.tickFormat=function(e,n){return Ko(t,e,n)},o.nice=function(e){return Vo(t,e),r()},o.copy=function(){return Wo(t,e,n,i)},r()}function Bo(t,e){return ns.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Vo(t,e){return zo(t,qo(Yo(t,e)[2]))}function Yo(t,e){null==e&&(e=10);var n=jo(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),o=e/i*r;return.15>=o?r*=10:.35>=o?r*=5:.75>=o&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function Xo(t,e){return ns.range.apply(ns,Yo(t,e))}function Ko(t,e,n){var i=Yo(t,e);if(n){var r=au.exec(n);if(r.shift(),"s"===r[8]){var o=ns.formatPrefix(Math.max(ps(i[0]),ps(i[1])));return r[7]||(r[7]="."+Go(o.scale(i[2]))),r[8]="f",n=ns.format(r.join("")),function(t){return n(o.scale(t))+o.symbol}}r[7]||(r[7]="."+Zo(r[8],i)),n=r.join("")}else n=",."+Go(i[2])+"f";return ns.format(n)}function Go(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Zo(t,e){var n=Go(e[2]);return t in bl?Math.abs(n-Go(Math.max(ps(e[0]),ps(e[1]))))+ +("e"!==t):n-2*("%"===t)}function Jo(t,e,n,i){function r(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(r(e))}return a.invert=function(e){return o(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((i=e.map(Number)).map(r)),a):i},a.base=function(n){return arguments.length?(e=+n,t.domain(i.map(r)),a):e},a.nice=function(){var e=zo(i.map(r),n?Math:_l);return t.domain(e),i=e.map(o),a},a.ticks=function(){var t=jo(i),a=[],s=t[0],u=t[1],l=Math.floor(r(s)),c=Math.ceil(r(u)),f=e%1?2:e;if(isFinite(c-l)){if(n){for(;c>l;l++)for(var h=1;f>h;h++)a.push(o(l)*h);a.push(o(l))}else for(a.push(o(l));l++<c;)for(var h=f-1;h>0;h--)a.push(o(l)*h);for(l=0;a[l]<s;l++);for(c=a.length;a[c-1]>u;c--);a=a.slice(l,c)}return a},a.tickFormat=function(t,e){if(!arguments.length)return wl;arguments.length<2?e=wl:"function"!=typeof e&&(e=ns.format(e));var i,s=Math.max(.1,t/a.ticks().length),u=n?(i=1e-12,Math.ceil):(i=-1e-12,Math.floor);return function(t){return t/o(u(r(t)+i))<=s?e(t):""}},a.copy=function(){return Jo(t.copy(),e,n,i)},Bo(a,t)}function Qo(t,e,n){function i(e){return t(r(e))}var r=ta(e),o=ta(1/e);return i.invert=function(e){return o(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),i):n},i.ticks=function(t){return Xo(n,t)},i.tickFormat=function(t,e){return Ko(n,t,e)},i.nice=function(t){return i.domain(Vo(n,t))},i.exponent=function(a){return arguments.length?(r=ta(e=a),o=ta(1/e),t.domain(n.map(r)),i):e},i.copy=function(){return Qo(t.copy(),e,n)},Bo(i,t)}function ta(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function ea(t,e){function n(n){return o[((r.get(n)||("range"===e.t?r.set(n,t.push(n)):0/0))-1)%o.length]}function i(e,n){return ns.range(t.length).map(function(t){return e+n*t})}var r,o,a;return n.domain=function(i){if(!arguments.length)return t;t=[],r=new l;for(var o,a=-1,s=i.length;++a<s;)r.has(o=i[a])||r.set(o,t.push(o));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(o=t,a=0,e={t:"range",a:arguments},n):o},n.rangePoints=function(r,s){arguments.length<2&&(s=0);var u=r[0],l=r[1],c=t.length<2?(u=(u+l)/2,0):(l-u)/(t.length-1+s);return o=i(u+c*s/2,c),a=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(r,s){arguments.length<2&&(s=0);var u=r[0],l=r[1],c=t.length<2?(u=l=Math.round((u+l)/2),0):(l-u)/(t.length-1+s)|0;return o=i(u+Math.round(c*s/2+(l-u-(t.length-1+s)*c)/2),c),a=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(r,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=r[1]<r[0],c=r[l-0],f=r[1-l],h=(f-c)/(t.length-s+2*u);return o=i(c+h*u,h),l&&o.reverse(),a=h*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=r[1]<r[0],c=r[l-0],f=r[1-l],h=Math.floor((f-c)/(t.length-s+2*u));return o=i(c+Math.round((f-c-(t.length-s)*h)/2),h),l&&o.reverse(),a=Math.round(h*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return jo(e.a[0])},n.copy=function(){return ea(t,e)},n.domain(t)}function na(t,e){function o(){var n=0,i=e.length;for(s=[];++n<i;)s[n-1]=ns.quantile(t,n/i);return a}function a(t){return isNaN(t=+t)?void 0:e[ns.bisect(s,t)]}var s;return a.domain=function(e){return arguments.length?(t=e.map(i).filter(r).sort(n),o()):t},a.range=function(t){return arguments.length?(e=t,o()):e},a.quantiles=function(){return s},a.invertExtent=function(n){return n=e.indexOf(n),0>n?[0/0,0/0]:[n>0?s[n-1]:t[0],n<s.length?s[n]:t[t.length-1]]},a.copy=function(){return na(t,e)},o()}function ia(t,e,n){function i(e){return n[Math.max(0,Math.min(a,Math.floor(o*(e-t))))]}function r(){return o=n.length/(e-t),a=n.length-1,i}var o,a;return i.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],r()):[t,e]},i.range=function(t){return arguments.length?(n=t,r()):n},i.invertExtent=function(e){return e=n.indexOf(e),e=0>e?0/0:e/o+t,[e,e+1/o]},i.copy=function(){return ia(t,e,n)},r()}function ra(t,e){function n(n){return n>=n?e[ns.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return ra(t,e)},n}function oa(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Xo(t,e)},e.tickFormat=function(e,n){return Ko(t,e,n)},e.copy=function(){return oa(t)},e}function aa(){return 0}function sa(t){return t.innerRadius}function ua(t){return t.outerRadius}function la(t){return t.startAngle}function ca(t){return t.endAngle}function fa(t){return t&&t.padAngle}function ha(t,e,n,i){return(t-n)*e-(e-i)*t>0?0:1}function da(t,e,n,i,r){var o=t[0]-e[0],a=t[1]-e[1],s=(r?i:-i)/Math.sqrt(o*o+a*a),u=s*a,l=-s*o,c=t[0]+u,f=t[1]+l,h=e[0]+u,d=e[1]+l,p=(c+h)/2,g=(f+d)/2,m=h-c,v=d-f,y=m*m+v*v,b=n-i,w=c*d-h*f,_=(0>v?-1:1)*Math.sqrt(b*b*y-w*w),x=(w*v-m*_)/y,$=(-w*m-v*_)/y,C=(w*v+m*_)/y,E=(-w*m+v*_)/y,k=x-p,S=$-g,T=C-p,O=E-g;return k*k+S*S>T*T+O*O&&(x=C,$=E),[[x-u,$-l],[x*n/b,$*n/b]]}function pa(t){function e(e){function a(){l.push("M",o(t(c),s))}for(var u,l=[],c=[],f=-1,h=e.length,d=ke(n),p=ke(i);++f<h;)r.call(this,u=e[f],f)?c.push([+d.call(this,u,f),+p.call(this,u,f)]):c.length&&(a(),c=[]);return c.length&&a(),l.length?l.join(""):null}var n=Ti,i=Oi,r=On,o=ga,a=o.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=Sl.get(t)||ga).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function ga(t){return t.join("L")}function ma(t){return ga(t)+"Z"}function va(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return n>1&&r.push("H",i[0]),r.join("")}function ya(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function ba(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function wa(t,e){return t.length<4?ga(t):t[1]+$a(t.slice(1,-1),Ca(t,e))}function _a(t,e){return t.length<3?ga(t):t[0]+$a((t.push(t[0]),t),Ca([t[t.length-2]].concat(t,[t[1]]),e))}function xa(t,e){return t.length<3?ga(t):t[0]+$a(t,Ca(t,e))}function $a(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return ga(t);var n=t.length!=e.length,i="",r=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(i+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],r=t[1],u=2),e.length>1){s=e[1],o=t[u],u++,i+="C"+(r[0]+a[0])+","+(r[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<e.length;l++,u++)o=t[u],s=e[l],i+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[u];i+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return i}function Ca(t,e){for(var n,i=[],r=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],i.push([r*(a[0]-n[0]),r*(a[1]-n[1])]);return i}function Ea(t){if(t.length<3)return ga(t);var e=1,n=t.length,i=t[0],r=i[0],o=i[1],a=[r,r,r,(i=t[1])[0]],s=[o,o,o,i[1]],u=[r,",",o,"L",Oa(Ml,a),",",Oa(Ml,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],a.shift(),a.push(i[0]),s.shift(),s.push(i[1]),Ma(u,a,s);return t.pop(),u.push("L",i),u.join("")}function ka(t){if(t.length<4)return ga(t);for(var e,n=[],i=-1,r=t.length,o=[0],a=[0];++i<3;)e=t[i],o.push(e[0]),a.push(e[1]);for(n.push(Oa(Ml,o)+","+Oa(Ml,a)),--i;++i<r;)e=t[i],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Ma(n,o,a);return n.join("")}function Sa(t){for(var e,n,i=-1,r=t.length,o=r+4,a=[],s=[];++i<4;)n=t[i%r],a.push(n[0]),s.push(n[1]);for(e=[Oa(Ml,a),",",Oa(Ml,s)],--i;++i<o;)n=t[i%r],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Ma(e,a,s);return e.join("")}function Ta(t,e){var n=t.length-1;if(n)for(var i,r,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,l=-1;++l<=n;)i=t[l],r=l/n,i[0]=e*i[0]+(1-e)*(o+r*s),i[1]=e*i[1]+(1-e)*(a+r*u);return Ea(t)}function Oa(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Ma(t,e,n){t.push("C",Oa(Tl,e),",",Oa(Tl,n),",",Oa(Ol,e),",",Oa(Ol,n),",",Oa(Ml,e),",",Oa(Ml,n))}function Aa(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Da(t){for(var e=0,n=t.length-1,i=[],r=t[0],o=t[1],a=i[0]=Aa(r,o);++e<n;)i[e]=(a+(a=Aa(r=o,o=t[e+1])))/2;return i[e]=a,i}function Ia(t){for(var e,n,i,r,o=[],a=Da(t),s=-1,u=t.length-1;++s<u;)e=Aa(t[s],t[s+1]),ps(e)<Ms?a[s]=a[s+1]=0:(n=a[s]/e,i=a[s+1]/e,r=n*n+i*i,r>9&&(r=3*e/Math.sqrt(r),a[s]=r*n,a[s+1]=r*i));for(s=-1;++s<=u;)r=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([r||0,a[s]*r||0]);return o}function Na(t){return t.length<3?ga(t):t[0]+$a(t,Ia(t))}function Pa(t){for(var e,n,i,r=-1,o=t.length;++r<o;)e=t[r],n=e[0],i=e[1]-Ps,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function Ra(t){function e(e){function u(){g.push("M",s(t(v),f),c,l(t(m.reverse()),f),"Z")}for(var h,d,p,g=[],m=[],v=[],y=-1,b=e.length,w=ke(n),_=ke(r),x=n===i?function(){return d}:ke(i),$=r===o?function(){return p}:ke(o);++y<b;)a.call(this,h=e[y],y)?(m.push([d=+w.call(this,h,y),p=+_.call(this,h,y)]),v.push([+x.call(this,h,y),+$.call(this,h,y)])):m.length&&(u(),m=[],v=[]);return m.length&&u(),g.length?g.join(""):null}var n=Ti,i=Ti,r=0,o=Oi,a=On,s=ga,u=s.key,l=s,c="L",f=.7;return e.x=function(t){return arguments.length?(n=i=t,e):i},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(r=o=t,e):o},e.y0=function(t){return arguments.length?(r=t,e):r},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(u="function"==typeof t?s=t:(s=Sl.get(t)||ga).key,l=s.reverse||s,c=s.closed?"M":"L",e):u},e.tension=function(t){return arguments.length?(f=t,e):f},e}function La(t){return t.radius}function ja(t){return[t.x,t.y]}function Fa(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]-Ps;return[n*Math.cos(i),n*Math.sin(i)]}}function Ha(){return 64}function za(){return"circle"}function qa(t){var e=Math.sqrt(t/Ds);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Ua(t){return function(){var e,n;(e=this[t])&&(n=e[e.active])&&(--e.count?delete e[e.active]:delete this[t],e.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Wa(t,e,n){return bs(t,Ll),t.namespace=e,t.id=n,t}function Ba(t,e,n,i){var r=t.id,o=t.namespace;return U(t,"function"==typeof n?function(t,a,s){t[o][r].tween.set(e,i(n.call(t,t.__data__,a,s)))}:(n=i(n),function(t){t[o][r].tween.set(e,n)}))}function Va(t){return null==t&&(t=""),function(){this.textContent=t}}function Ya(t){return null==t?"__transition__":"__transition_"+t+"__"}function Xa(t,e,n,i,r){var o=t[n]||(t[n]={active:0,count:0}),a=o[i];if(!a){var s=r.time;a=o[i]={tween:new l,time:s,delay:r.delay,duration:r.duration,ease:r.ease,index:e},r=null,++o.count,ns.timer(function(r){function u(n){if(o.active>i)return c();var r=o[o.active];r&&(--o.count,delete o[o.active],r.event&&r.event.interrupt.call(t,t.__data__,r.index)),o.active=i,a.event&&a.event.start.call(t,t.__data__,e),a.tween.forEach(function(n,i){(i=i.call(t,t.__data__,e))&&g.push(i)}),h=a.ease,f=a.duration,ns.timer(function(){return p.c=l(n||1)?On:l,1},0,s)}function l(n){if(o.active!==i)return 1;for(var r=n/f,s=h(r),u=g.length;u>0;)g[--u].call(t,s);return r>=1?(a.event&&a.event.end.call(t,t.__data__,e),c()):void 0}function c(){return--o.count?delete o[i]:delete t[n],1}var f,h,d=a.delay,p=iu,g=[];return p.t=d+s,r>=d?u(r-d):void(p.c=u)},0,s)}}function Ka(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate("+(isFinite(i)?i:n(t))+",0)"})}function Ga(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate(0,"+(isFinite(i)?i:n(t))+")"})}function Za(t){return t.toISOString()}function Ja(t,e,n){function i(e){return t(e)}function r(t,n){var i=t[1]-t[0],r=i/n,o=ns.bisect(Vl,r);return o==Vl.length?[e.year,Yo(t.map(function(t){return t/31536e6}),n)[2]]:o?e[r/Vl[o-1]<Vl[o]/r?o-1:o]:[Kl,Yo(t,n)[2]]}return i.invert=function(e){return Qa(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(Qa)},i.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,Qa(+n+1),e).length}var o=i.domain(),a=jo(o),s=null==t?r(a,10):"number"==typeof t&&r(a,t);return s&&(t=s[0],e=s[1]),i.domain(zo(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=Qa(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=Qa(+e+1);return e}}:t))},i.ticks=function(t,e){var n=jo(i.domain()),o=null==t?r(n,10):"number"==typeof t?r(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],Qa(+n[1]+1),1>e?1:e)},i.tickFormat=function(){return n},i.copy=function(){return Ja(t.copy(),e,n)},Bo(i,t)}function Qa(t){return new Date(t)}function ts(t){return JSON.parse(t.responseText)}function es(t){var e=os.createRange();return e.selectNode(os.body),e.createContextualFragment(t.responseText)}var ns={version:"3.5.5"},is=[].slice,rs=function(t){return is.call(t)},os=this.document;if(os)try{rs(os.documentElement.childNodes)[0].nodeType}catch(as){rs=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),os)try{os.createElement("DIV").style.setProperty("opacity",0,"")}catch(ss){var us=this.Element.prototype,ls=us.setAttribute,cs=us.setAttributeNS,fs=this.CSSStyleDeclaration.prototype,hs=fs.setProperty;us.setAttribute=function(t,e){ls.call(this,t,e+"")},us.setAttributeNS=function(t,e,n){cs.call(this,t,e,n+"")},fs.setProperty=function(t,e,n){hs.call(this,t,e+"",n)}}ns.ascending=n,ns.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:0/0},ns.min=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&n>i&&(n=i)}return n},ns.max=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&i>n&&(n=i)}return n},ns.extent=function(t,e){var n,i,r,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(i=t[o])&&i>=i){n=r=i;break}for(;++o<a;)null!=(i=t[o])&&(n>i&&(n=i),i>r&&(r=i))}else{for(;++o<a;)if(null!=(i=e.call(t,t[o],o))&&i>=i){n=r=i;break}for(;++o<a;)null!=(i=e.call(t,t[o],o))&&(n>i&&(n=i),i>r&&(r=i))}return[n,r]},ns.sum=function(t,e){var n,i=0,o=t.length,a=-1;if(1===arguments.length)for(;++a<o;)r(n=+t[a])&&(i+=n);else for(;++a<o;)r(n=+e.call(t,t[a],a))&&(i+=n);return i},ns.mean=function(t,e){var n,o=0,a=t.length,s=-1,u=a;if(1===arguments.length)for(;++s<a;)r(n=i(t[s]))?o+=n:--u;else for(;++s<a;)r(n=i(e.call(t,t[s],s)))?o+=n:--u;return u?o/u:void 0},ns.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r},ns.median=function(t,e){var o,a=[],s=t.length,u=-1;if(1===arguments.length)for(;++u<s;)r(o=i(t[u]))&&a.push(o);else for(;++u<s;)r(o=i(e.call(t,t[u],u)))&&a.push(o);return a.length?ns.quantile(a.sort(n),.5):void 0},ns.variance=function(t,e){var n,o,a=t.length,s=0,u=0,l=-1,c=0;if(1===arguments.length)for(;++l<a;)r(n=i(t[l]))&&(o=n-s,s+=o/++c,u+=o*(n-s));else for(;++l<a;)r(n=i(e.call(t,t[l],l)))&&(o=n-s,s+=o/++c,u+=o*(n-s));return c>1?u/(c-1):void 0},ns.deviation=function(){var t=ns.variance.apply(this,arguments);return t?Math.sqrt(t):t};var ds=o(n);ns.bisectLeft=ds.left,ns.bisect=ns.bisectRight=ds.right,ns.bisector=function(t){return o(1===t.length?function(e,i){return n(t(e),i)}:t)},ns.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,2>o&&(e=0));for(var i,r,o=n-e;o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},ns.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},ns.pairs=function(t){for(var e,n=0,i=t.length-1,r=t[0],o=new Array(0>i?0:i);i>n;)o[n]=[e=r,r=t[++n]];return o},ns.zip=function(){if(!(i=arguments.length))return[];for(var t=-1,e=ns.min(arguments,a),n=new Array(e);++t<e;)for(var i,r=-1,o=n[t]=new Array(i);++r<i;)o[r]=arguments[r][t];return n},ns.transpose=function(t){return ns.zip.apply(ns,t)},ns.keys=function(t){var e=[];for(var n in t)e.push(n);return e},ns.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ns.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ns.merge=function(t){for(var e,n,i,r=t.length,o=-1,a=0;++o<r;)a+=t[o].length;for(n=new Array(a);--r>=0;)for(i=t[r],e=i.length;--e>=0;)n[--a]=i[e];return n};var ps=Math.abs;ns.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var i,r=[],o=s(ps(n)),a=-1;if(t*=o,e*=o,n*=o,0>n)for(;(i=t+n*++a)>e;)r.push(i/o);else for(;(i=t+n*++a)<e;)r.push(i/o);return r},ns.map=function(t,e){var n=new l;if(t instanceof l)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(1===arguments.length)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e.call(t,i=t[r],r),i)}else for(var a in t)n.set(a,t[a]);return n};var gs="__proto__",ms="\x00";u(l,{has:h,get:function(t){return this._[c(t)]},set:function(t,e){return this._[c(t)]=e},remove:d,keys:p,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:f(e),value:this._[e]});return t},size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,f(e),this._[e])}}),ns.nest=function(){function t(e,a,s){if(s>=o.length)return i?i.call(r,a):n?a.sort(n):a;for(var u,c,f,h,d=-1,p=a.length,g=o[s++],m=new l;++d<p;)(h=m.get(u=g(c=a[d])))?h.push(c):m.set(u,[c]);return e?(c=e(),f=function(n,i){c.set(n,t(e,i,s))}):(c={},f=function(n,i){c[n]=t(e,i,s)}),m.forEach(f),c}function e(t,n){if(n>=o.length)return t;var i=[],r=a[n++];return t.forEach(function(t,r){i.push({key:t,values:e(r,n)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}var n,i,r={},o=[],a=[];return r.map=function(e,n){return t(n,e,0)},r.entries=function(n){return e(t(ns.map,n,0),0)},r.key=function(t){return o.push(t),r},r.sortKeys=function(t){return a[o.length-1]=t,r},r.sortValues=function(t){return n=t,r},r.rollup=function(t){return i=t,r},r},ns.set=function(t){var e=new v;if(t)for(var n=0,i=t.length;i>n;++n)e.add(t[n]);return e},u(v,{has:h,add:function(t){return this._[c(t+="")]=!0,t},remove:d,values:p,size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,f(e))}}),ns.behavior={},ns.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=b(t,e,e[n]);return t};var vs=["webkit","ms","moz","Moz","o","O"];ns.dispatch=function(){for(var t=new x,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=$(t);return t},x.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},ns.event=null,ns.requote=function(t){return t.replace(ys,"\\$&")};var ys=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,bs={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},ws=function(t,e){return e.querySelector(t)},_s=function(t,e){return e.querySelectorAll(t)},xs=function(t,e){var n=t.matches||t[w(t,"matchesSelector")];return(xs=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(ws=function(t,e){return Sizzle(t,e)[0]||null},_s=Sizzle,xs=Sizzle.matchesSelector),ns.selection=function(){return ns.select(os.documentElement)};var $s=ns.selection.prototype=[];$s.select=function(t){var e,n,i,r,o=[];t=T(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(i=this[a]).parentNode;for(var u=-1,l=i.length;++u<l;)(r=i[u])?(e.push(n=t.call(r,r.__data__,u,a)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return S(o)},$s.selectAll=function(t){var e,n,i=[];t=O(t);for(var r=-1,o=this.length;++r<o;)for(var a=this[r],s=-1,u=a.length;++s<u;)(n=a[s])&&(i.push(e=rs(t.call(n,n.__data__,s,r))),e.parentNode=n);return S(i)};var Cs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ns.ns={prefix:Cs,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.slice(0,e),t=t.slice(e+1)),Cs.hasOwnProperty(n)?{space:Cs[n],local:t}:t}},$s.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=ns.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(M(e,t[e]));return this}return this.each(M(t,e))},$s.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=I(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!D(t[r]).test(e))return!1;return!0}for(e in t)this.each(N(e,t[e]));return this}return this.each(N(t,e))},$s.style=function(t,n,i){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(n="");for(i in t)this.each(R(i,t[i],n));return this}if(2>r){var o=this.node();return e(o).getComputedStyle(o,null).getPropertyValue(t)}i=""}return this.each(R(t,n,i))},$s.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(L(e,t[e]));return this}return this.each(L(t,e))},$s.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},$s.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},$s.append=function(t){return t=j(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},$s.insert=function(t,e){return t=j(t),e=T(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},$s.remove=function(){return this.each(F)},$s.data=function(t,e){function n(t,n){var i,r,o,a=t.length,f=n.length,h=Math.min(a,f),d=new Array(f),p=new Array(f),g=new Array(a);if(e){var m,v=new l,y=new Array(a);for(i=-1;++i<a;)v.has(m=e.call(r=t[i],r.__data__,i))?g[i]=r:v.set(m,r),y[i]=m;for(i=-1;++i<f;)(r=v.get(m=e.call(n,o=n[i],i)))?r!==!0&&(d[i]=r,r.__data__=o):p[i]=H(o),v.set(m,!0);for(i=-1;++i<a;)v.get(y[i])!==!0&&(g[i]=t[i])}else{for(i=-1;++i<h;)r=t[i],o=n[i],r?(r.__data__=o,d[i]=r):p[i]=H(o);for(;f>i;++i)p[i]=H(n[i]);for(;a>i;++i)g[i]=t[i]}p.update=d,p.parentNode=d.parentNode=g.parentNode=t.parentNode,s.push(p),u.push(d),c.push(g)}var i,r,o=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(i=this[0]).length);++o<a;)(r=i[o])&&(t[o]=r.__data__);return t}var s=W([]),u=S([]),c=S([]);if("function"==typeof t)for(;++o<a;)n(i=this[o],t.call(i,i.parentNode.__data__,o));
else for(;++o<a;)n(i=this[o],t);return u.enter=function(){return s},u.exit=function(){return c},u},$s.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},$s.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=z(t));for(var o=0,a=this.length;a>o;o++){r.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;u>s;s++)(i=n[s])&&t.call(i,i.__data__,s,o)&&e.push(i)}return S(r)},$s.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,o=i[r];--r>=0;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},$s.sort=function(t){t=q.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},$s.each=function(t){return U(this,function(e,n,i){t.call(e,e.__data__,n,i)})},$s.call=function(t){var e=rs(arguments);return t.apply(e[0]=this,e),this},$s.empty=function(){return!this.node()},$s.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],i=0,r=n.length;r>i;i++){var o=n[i];if(o)return o}return null},$s.size=function(){var t=0;return U(this,function(){++t}),t};var Es=[];ns.selection.enter=W,ns.selection.enter.prototype=Es,Es.append=$s.append,Es.empty=$s.empty,Es.node=$s.node,Es.call=$s.call,Es.size=$s.size,Es.select=function(t){for(var e,n,i,r,o,a=[],s=-1,u=this.length;++s<u;){i=(r=this[s]).update,a.push(e=[]),e.parentNode=r.parentNode;for(var l=-1,c=r.length;++l<c;)(o=r[l])?(e.push(i[l]=n=t.call(r.parentNode,o.__data__,l,s)),n.__data__=o.__data__):e.push(null)}return S(a)},Es.insert=function(t,e){return arguments.length<2&&(e=B(this)),$s.insert.call(this,t,e)},ns.select=function(e){var n;return"string"==typeof e?(n=[ws(e,os)],n.parentNode=os.documentElement):(n=[e],n.parentNode=t(e)),S([n])},ns.selectAll=function(t){var e;return"string"==typeof t?(e=rs(_s(t,os)),e.parentNode=os.documentElement):(e=t,e.parentNode=null),S([e])},$s.on=function(t,e,n){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(e=!1);for(n in t)this.each(V(n,t[n],e));return this}if(2>i)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(V(t,e,n))};var ks=ns.map({mouseenter:"mouseover",mouseleave:"mouseout"});os&&ks.forEach(function(t){"on"+t in os&&ks.remove(t)});var Ss,Ts=0;ns.mouse=function(t){return G(t,E())};var Os=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ns.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=E().changedTouches),e)for(var i,r=0,o=e.length;o>r;++r)if((i=e[r]).identifier===n)return G(t,i)},ns.behavior.drag=function(){function t(){this.on("mousedown.drag",o).on("touchstart.drag",a)}function n(t,e,n,o,a){return function(){function s(){var t,n,i=e(h,g);i&&(t=i[0]-b[0],n=i[1]-b[1],p|=t|n,b=i,d({type:"drag",x:i[0]+l[0],y:i[1]+l[1],dx:t,dy:n}))}function u(){e(h,g)&&(v.on(o+m,null).on(a+m,null),y(p&&ns.event.target===f),d({type:"dragend"}))}var l,c=this,f=ns.event.target,h=c.parentNode,d=i.of(c,arguments),p=0,g=t(),m=".drag"+(null==g?"":"-"+g),v=ns.select(n(f)).on(o+m,s).on(a+m,u),y=K(f),b=e(h,g);r?(l=r.apply(c,arguments),l=[l.x-b[0],l.y-b[1]]):l=[0,0],d({type:"dragstart"})}}var i=k(t,"drag","dragstart","dragend"),r=null,o=n(_,ns.mouse,e,"mousemove","mouseup"),a=n(Z,ns.touch,y,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},ns.rebind(t,i,"on")},ns.touches=function(t,e){return arguments.length<2&&(e=E().touches),e?rs(e).map(function(e){var n=G(t,e);return n.identifier=e.identifier,n}):[]};var Ms=1e-6,As=Ms*Ms,Ds=Math.PI,Is=2*Ds,Ns=Is-Ms,Ps=Ds/2,Rs=Ds/180,Ls=180/Ds,js=Math.SQRT2,Fs=2,Hs=4;ns.interpolateZoom=function(t,e){function n(t){var e=t*y;if(v){var n=ie(g),a=o/(Fs*h)*(n*re(js*e+g)-ne(g));return[i+a*l,r+a*c,o*n/ie(js*e+g)]}return[i+t*l,r+t*c,o*Math.exp(js*e)]}var i=t[0],r=t[1],o=t[2],a=e[0],s=e[1],u=e[2],l=a-i,c=s-r,f=l*l+c*c,h=Math.sqrt(f),d=(u*u-o*o+Hs*f)/(2*o*Fs*h),p=(u*u-o*o-Hs*f)/(2*u*Fs*h),g=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(p*p+1)-p),v=m-g,y=(v||Math.log(u/o))/js;return n.duration=1e3*y,n},ns.behavior.zoom=function(){function t(t){t.on(A,f).on(qs+".zoom",d).on("dblclick.zoom",p).on(N,h)}function n(t){return[(t[0]-E.x)/E.k,(t[1]-E.y)/E.k]}function i(t){return[t[0]*E.k+E.x,t[1]*E.k+E.y]}function r(t){E.k=Math.max(T[0],Math.min(T[1],t))}function o(t,e){e=i(e),E.x+=t[0]-e[0],E.y+=t[1]-e[1]}function a(e,n,i,a){e.__chart__={x:E.x,y:E.y,k:E.k},r(Math.pow(2,a)),o(m=n,i),e=ns.select(e),O>0&&(e=e.transition().duration(O)),e.call(t.event)}function s(){_&&_.domain(w.range().map(function(t){return(t-E.x)/E.k}).map(w.invert)),$&&$.domain(x.range().map(function(t){return(t-E.y)/E.k}).map(x.invert))}function u(t){M++||t({type:"zoomstart"})}function l(t){s(),t({type:"zoom",scale:E.k,translate:[E.x,E.y]})}function c(t){--M||t({type:"zoomend"}),m=null}function f(){function t(){f=1,o(ns.mouse(r),d),l(s)}function i(){h.on(D,null).on(I,null),p(f&&ns.event.target===a),c(s)}var r=this,a=ns.event.target,s=P.of(r,arguments),f=0,h=ns.select(e(r)).on(D,t).on(I,i),d=n(ns.mouse(r)),p=K(r);Rl.call(r),u(s)}function h(){function t(){var t=ns.touches(p);return d=E.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=n(t))}),t}function e(){var e=ns.event.target;ns.select(e).on(w,i).on(_,s),x.push(e);for(var n=ns.event.changedTouches,r=0,o=n.length;o>r;++r)m[n[r].identifier]=null;var u=t(),l=Date.now();if(1===u.length){if(500>l-b){var c=u[0];a(p,c,m[c.identifier],Math.floor(Math.log(E.k)/Math.LN2)+1),C()}b=l}else if(u.length>1){var c=u[0],f=u[1],h=c[0]-f[0],d=c[1]-f[1];v=h*h+d*d}}function i(){var t,e,n,i,a=ns.touches(p);Rl.call(p);for(var s=0,u=a.length;u>s;++s,i=null)if(n=a[s],i=m[n.identifier]){if(e)break;t=n,e=i}if(i){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,f=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],r(f*d)}b=null,o(t,e),l(g)}function s(){if(ns.event.touches.length){for(var e=ns.event.changedTouches,n=0,i=e.length;i>n;++n)delete m[e[n].identifier];for(var r in m)return void t()}ns.selectAll(x).on(y,null),$.on(A,f).on(N,h),k(),c(g)}var d,p=this,g=P.of(p,arguments),m={},v=0,y=".zoom-"+ns.event.changedTouches[0].identifier,w="touchmove"+y,_="touchend"+y,x=[],$=ns.select(p),k=K(p);e(),u(g),$.on(A,null).on(N,e)}function d(){var t=P.of(this,arguments);y?clearTimeout(y):(g=n(m=v||ns.mouse(this)),Rl.call(this),u(t)),y=setTimeout(function(){y=null,c(t)},50),C(),r(Math.pow(2,.002*zs())*E.k),o(m,g),l(t)}function p(){var t=ns.mouse(this),e=Math.log(E.k)/Math.LN2;a(this,t,n(t),ns.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var g,m,v,y,b,w,_,x,$,E={x:0,y:0,k:1},S=[960,500],T=Us,O=250,M=0,A="mousedown.zoom",D="mousemove.zoom",I="mouseup.zoom",N="touchstart.zoom",P=k(t,"zoomstart","zoom","zoomend");return qs||(qs="onwheel"in os?(zs=function(){return-ns.event.deltaY*(ns.event.deltaMode?120:1)},"wheel"):"onmousewheel"in os?(zs=function(){return ns.event.wheelDelta},"mousewheel"):(zs=function(){return-ns.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=P.of(this,arguments),e=E;Nl?ns.select(this).transition().each("start.zoom",function(){E=this.__chart__||{x:0,y:0,k:1},u(t)}).tween("zoom:zoom",function(){var n=S[0],i=S[1],r=m?m[0]:n/2,o=m?m[1]:i/2,a=ns.interpolateZoom([(r-E.x)/E.k,(o-E.y)/E.k,n/E.k],[(r-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var i=a(e),s=n/i[2];this.__chart__=E={x:r-i[0]*s,y:o-i[1]*s,k:s},l(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=E,u(t),l(t),c(t))})},t.translate=function(e){return arguments.length?(E={x:+e[0],y:+e[1],k:E.k},s(),t):[E.x,E.y]},t.scale=function(e){return arguments.length?(E={x:E.x,y:E.y,k:+e},s(),t):E.k},t.scaleExtent=function(e){return arguments.length?(T=null==e?Us:[+e[0],+e[1]],t):T},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(S=e&&[+e[0],+e[1]],t):S},t.duration=function(e){return arguments.length?(O=+e,t):O},t.x=function(e){return arguments.length?(_=e,w=e.copy(),E={x:0,y:0,k:1},t):_},t.y=function(e){return arguments.length?($=e,x=e.copy(),E={x:0,y:0,k:1},t):$},ns.rebind(t,P,"on")};var zs,qs,Us=[0,1/0];ns.color=ae,ae.prototype.toString=function(){return this.rgb()+""},ns.hsl=se;var Ws=se.prototype=new ae;Ws.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new se(this.h,this.s,this.l/t)},Ws.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new se(this.h,this.s,t*this.l)},Ws.rgb=function(){return ue(this.h,this.s,this.l)},ns.hcl=le;var Bs=le.prototype=new ae;Bs.brighter=function(t){return new le(this.h,this.c,Math.min(100,this.l+Vs*(arguments.length?t:1)))},Bs.darker=function(t){return new le(this.h,this.c,Math.max(0,this.l-Vs*(arguments.length?t:1)))},Bs.rgb=function(){return ce(this.h,this.c,this.l).rgb()},ns.lab=fe;var Vs=18,Ys=.95047,Xs=1,Ks=1.08883,Gs=fe.prototype=new ae;Gs.brighter=function(t){return new fe(Math.min(100,this.l+Vs*(arguments.length?t:1)),this.a,this.b)},Gs.darker=function(t){return new fe(Math.max(0,this.l-Vs*(arguments.length?t:1)),this.a,this.b)},Gs.rgb=function(){return he(this.l,this.a,this.b)},ns.rgb=ve;var Zs=ve.prototype=new ae;Zs.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&r>e&&(e=r),n&&r>n&&(n=r),i&&r>i&&(i=r),new ve(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new ve(r,r,r)},Zs.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new ve(t*this.r,t*this.g,t*this.b)},Zs.hsl=function(){return xe(this.r,this.g,this.b)},Zs.toString=function(){return"#"+we(this.r)+we(this.g)+we(this.b)};var Js=ns.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Js.forEach(function(t,e){Js.set(t,ye(e))}),ns.functor=ke,ns.xhr=Se(y),ns.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var a=Te(t,e,null==n?i:r(n),o);return a.row=function(t){return arguments.length?a.response(null==(n=t)?i:r(t)):n},a}function i(t){return n.parse(t.responseText)}function r(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);return n.parse=function(t,e){var i;return n.parseRows(t,function(t,n){if(i)return i(t,n-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=e?function(t,n){return e(r(t),n)}:r})},n.parseRows=function(t,e){function n(){if(c>=l)return a;if(r)return r=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var i=t.charCodeAt(n+1);return 13===i?(r=!0,10===t.charCodeAt(n+2)&&++c):10===i&&(r=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;l>c;){var i=t.charCodeAt(c++),s=1;if(10===i)r=!0;else if(13===i)r=!0,10===t.charCodeAt(c)&&(++c,++s);else if(i!==u)continue;return t.slice(e,c-s)}return t.slice(e)}for(var i,r,o={},a={},s=[],l=t.length,c=0,f=0;(i=n())!==a;){for(var h=[];i!==o&&i!==a;)h.push(i),i=n();e&&null==(h=e(h,f++))||s.push(h)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var i=new v,r=[];return e.forEach(function(t){for(var e in t)i.has(e)||r.push(i.add(e))}),[r.map(a).join(t)].concat(e.map(function(e){return r.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},ns.csv=ns.dsv(",","text/csv"),ns.tsv=ns.dsv("	","text/tab-separated-values");var Qs,tu,eu,nu,iu,ru=this[w(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};ns.timer=function(t,e,n){var i=arguments.length;2>i&&(e=0),3>i&&(n=Date.now());var r=n+e,o={c:t,t:r,f:!1,n:null};tu?tu.n=o:Qs=o,tu=o,eu||(nu=clearTimeout(nu),eu=1,ru(Ae))},ns.timer.flush=function(){De(),Ie()},ns.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ou=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Pe);ns.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=ns.round(t,Ne(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ou[8+n/3]};var au=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,su=ns.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=ns.round(t,Ne(t,e))).toFixed(Math.max(0,Math.min(20,Ne(t*(1+1e-15),e))))}}),uu=ns.time={},lu=Date;je.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){cu.setUTCDate.apply(this._,arguments)},setDay:function(){cu.setUTCDay.apply(this._,arguments)},setFullYear:function(){cu.setUTCFullYear.apply(this._,arguments)},setHours:function(){cu.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){cu.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){cu.setUTCMinutes.apply(this._,arguments)},setMonth:function(){cu.setUTCMonth.apply(this._,arguments)},setSeconds:function(){cu.setUTCSeconds.apply(this._,arguments)},setTime:function(){cu.setTime.apply(this._,arguments)}};var cu=Date.prototype;uu.year=Fe(function(t){return t=uu.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),uu.years=uu.year.range,uu.years.utc=uu.year.utc.range,uu.day=Fe(function(t){var e=new lu(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),uu.days=uu.day.range,uu.days.utc=uu.day.utc.range,uu.dayOfYear=function(t){var e=uu.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=uu[t]=Fe(function(t){return(t=uu.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=uu.year(t).getDay();return Math.floor((uu.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});uu[t+"s"]=n.range,uu[t+"s"].utc=n.utc.range,uu[t+"OfYear"]=function(t){var n=uu.year(t).getDay();return Math.floor((uu.dayOfYear(t)+(n+e)%7)/7)}}),uu.week=uu.sunday,uu.weeks=uu.sunday.range,uu.weeks.utc=uu.sunday.utc.range,uu.weekOfYear=uu.sundayOfYear;var fu={"-":"",_:" ",0:"0"},hu=/^\s*\d+/,du=/^%/;ns.locale=function(t){return{numberFormat:Re(t),timeFormat:ze(t)}};var pu=ns.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ns.format=pu.numberFormat,ns.geo={},ln.prototype={s:0,t:0,add:function(t){cn(t,this.t,gu),cn(gu.s,this.s,this),this.s?this.t+=gu.t:this.s=gu.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var gu=new ln;ns.geo.stream=function(t,e){t&&mu.hasOwnProperty(t.type)?mu[t.type](t,e):fn(t,e)};var mu={Feature:function(t,e){fn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)fn(n[i].geometry,e)}},vu={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){hn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)hn(n[i],e,0)},Polygon:function(t,e){dn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)dn(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)fn(n[i],e)}};ns.geo.area=function(t){return yu=0,ns.geo.stream(t,wu),yu};var yu,bu=new ln,wu={sphere:function(){yu+=4*Ds},point:_,lineStart:_,lineEnd:_,polygonStart:function(){bu.reset(),wu.lineStart=pn},polygonEnd:function(){var t=2*bu;yu+=0>t?4*Ds+t:t,wu.lineStart=wu.lineEnd=wu.point=_}};ns.geo.bounds=function(){function t(t,e){b.push(w=[c=t,h=t]),f>e&&(f=e),e>d&&(d=e)}function e(e,n){var i=gn([e*Rs,n*Rs]);if(v){var r=vn(v,i),o=[r[1],-r[0],0],a=vn(o,r);wn(a),a=_n(a);var u=e-p,l=u>0?1:-1,g=a[0]*Ls*l,m=ps(u)>180;if(m^(g>l*p&&l*e>g)){var y=a[1]*Ls;y>d&&(d=y)}else if(g=(g+360)%360-180,m^(g>l*p&&l*e>g)){var y=-a[1]*Ls;f>y&&(f=y)}else f>n&&(f=n),n>d&&(d=n);m?p>e?s(c,e)>s(c,h)&&(h=e):s(e,h)>s(c,h)&&(c=e):h>=c?(c>e&&(c=e),e>h&&(h=e)):e>p?s(c,e)>s(c,h)&&(h=e):s(e,h)>s(c,h)&&(c=e)}else t(e,n);v=i,p=e}function n(){_.point=e}function i(){w[0]=c,w[1]=h,_.point=t,v=null}function r(t,n){if(v){var i=t-p;y+=ps(i)>180?i+(i>0?360:-360):i}else g=t,m=n;wu.point(t,n),e(t,n)}function o(){wu.lineStart()}function a(){r(g,m),wu.lineEnd(),ps(y)>Ms&&(c=-(h=180)),w[0]=c,w[1]=h,v=null}function s(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function l(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,f,h,d,p,g,m,v,y,b,w,_={point:t,lineStart:n,lineEnd:i,polygonStart:function(){_.point=r,_.lineStart=o,_.lineEnd=a,y=0,wu.polygonStart()},polygonEnd:function(){wu.polygonEnd(),_.point=t,_.lineStart=n,_.lineEnd=i,0>bu?(c=-(h=180),f=-(d=90)):y>Ms?d=90:-Ms>y&&(f=-90),w[0]=c,w[1]=h}};return function(t){d=h=-(c=f=1/0),b=[],ns.geo.stream(t,_);var e=b.length;if(e){b.sort(u);for(var n,i=1,r=b[0],o=[r];e>i;++i)n=b[i],l(n[0],r)||l(n[1],r)?(s(r[0],n[1])>s(r[0],r[1])&&(r[1]=n[1]),s(n[0],r[1])>s(r[0],r[1])&&(r[0]=n[0])):o.push(r=n);for(var a,n,p=-1/0,e=o.length-1,i=0,r=o[e];e>=i;r=n,++i)n=o[i],(a=s(r[1],n[0]))>p&&(p=a,c=n[0],h=r[1])}return b=w=null,1/0===c||1/0===f?[[0/0,0/0],[0/0,0/0]]:[[c,f],[h,d]]}}(),ns.geo.centroid=function(t){_u=xu=$u=Cu=Eu=ku=Su=Tu=Ou=Mu=Au=0,ns.geo.stream(t,Du);var e=Ou,n=Mu,i=Au,r=e*e+n*n+i*i;return As>r&&(e=ku,n=Su,i=Tu,Ms>xu&&(e=$u,n=Cu,i=Eu),r=e*e+n*n+i*i,As>r)?[0/0,0/0]:[Math.atan2(n,e)*Ls,ee(i/Math.sqrt(r))*Ls]};var _u,xu,$u,Cu,Eu,ku,Su,Tu,Ou,Mu,Au,Du={sphere:_,point:$n,lineStart:En,lineEnd:kn,polygonStart:function(){Du.lineStart=Sn},polygonEnd:function(){Du.lineStart=En}},Iu=In(On,Ln,Fn,[-Ds,-Ds/2]),Nu=1e9;ns.geo.clipExtent=function(){var t,e,n,i,r,o,a={stream:function(t){return r&&(r.valid=!1),r=o(t),r.valid=!0,r},extent:function(s){return arguments.length?(o=Un(t=+s[0][0],e=+s[0][1],n=+s[1][0],i=+s[1][1]),r&&(r.valid=!1,r=null),a):[[t,e],[n,i]]}};return a.extent([[0,0],[960,500]])},(ns.geo.conicEqualArea=function(){return Wn(Bn)}).raw=Bn,ns.geo.albers=function(){return ns.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ns.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];return e=null,n(o,a),e||(i(o,a),e)||r(o,a),e}var e,n,i,r,o=ns.geo.albers(),a=ns.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=ns.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&.234>r&&i>=-.425&&-.214>i?a:r>=.166&&.234>r&&i>=-.214&&-.115>i?s:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=a.stream(t),i=s.stream(t);return{point:function(t,r){e.point(t,r),n.point(t,r),i.point(t,r)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var l=o.scale(),c=+e[0],f=+e[1];return n=o.translate(e).clipExtent([[c-.455*l,f-.238*l],[c+.455*l,f+.238*l]]).stream(u).point,i=a.translate([c-.307*l,f+.201*l]).clipExtent([[c-.425*l+Ms,f+.12*l+Ms],[c-.214*l-Ms,f+.234*l-Ms]]).stream(u).point,r=s.translate([c-.205*l,f+.212*l]).clipExtent([[c-.214*l+Ms,f+.166*l+Ms],[c-.115*l-Ms,f+.234*l-Ms]]).stream(u).point,t},t.scale(1070)};var Pu,Ru,Lu,ju,Fu,Hu,zu={point:_,lineStart:_,lineEnd:_,polygonStart:function(){Ru=0,zu.lineStart=Vn},polygonEnd:function(){zu.lineStart=zu.lineEnd=zu.point=_,Pu+=ps(Ru/2)}},qu={point:Yn,lineStart:_,lineEnd:_,polygonStart:_,polygonEnd:_},Uu={point:Gn,lineStart:Zn,lineEnd:Jn,polygonStart:function(){Uu.lineStart=Qn},polygonEnd:function(){Uu.point=Gn,Uu.lineStart=Zn,Uu.lineEnd=Jn}};ns.geo.path=function(){function t(t){return t&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=r(o)),ns.geo.stream(t,a)),o.result()}function e(){return a=null,t}var n,i,r,o,a,s=4.5;return t.area=function(t){return Pu=0,ns.geo.stream(t,r(zu)),Pu},t.centroid=function(t){return $u=Cu=Eu=ku=Su=Tu=Ou=Mu=Au=0,ns.geo.stream(t,r(Uu)),Au?[Ou/Au,Mu/Au]:Tu?[ku/Tu,Su/Tu]:Eu?[$u/Eu,Cu/Eu]:[0/0,0/0]},t.bounds=function(t){return Fu=Hu=-(Lu=ju=1/0),ns.geo.stream(t,r(qu)),[[Lu,ju],[Fu,Hu]]},t.projection=function(t){return arguments.length?(r=(n=t)?t.stream||ni(t):y,e()):n},t.context=function(t){return arguments.length?(o=null==(i=t)?new Xn:new ti(t),"function"!=typeof s&&o.pointRadius(s),e()):i},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(o.pointRadius(+e),+e),t):s},t.projection(ns.geo.albersUsa()).context(null)},ns.geo.transform=function(t){return{stream:function(e){var n=new ii(e);for(var i in t)n[i]=t[i];return n}}},ii.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ns.geo.projection=oi,ns.geo.projectionMutator=ai,(ns.geo.equirectangular=function(){return oi(ui)}).raw=ui.invert=ui,ns.geo.rotation=function(t){function e(e){return e=t(e[0]*Rs,e[1]*Rs),e[0]*=Ls,e[1]*=Ls,e}return t=ci(t[0]%360*Rs,t[1]*Rs,t.length>2?t[2]*Rs:0),e.invert=function(e){return e=t.invert(e[0]*Rs,e[1]*Rs),e[0]*=Ls,e[1]*=Ls,e},e},li.invert=ui,ns.geo.circle=function(){function t(){var t="function"==typeof i?i.apply(this,arguments):i,e=ci(-t[0]*Rs,-t[1]*Rs,0).invert,r=[];return n(null,null,1,{point:function(t,n){r.push(t=e(t,n)),t[0]*=Ls,t[1]*=Ls}}),{type:"Polygon",coordinates:[r]}}var e,n,i=[0,0],r=6;return t.origin=function(e){return arguments.length?(i=e,t):i},t.angle=function(i){return arguments.length?(n=pi((e=+i)*Rs,r*Rs),t):e},t.precision=function(i){return arguments.length?(n=pi(e*Rs,(r=+i)*Rs),t):r},t.angle(90)},ns.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Rs,r=t[1]*Rs,o=e[1]*Rs,a=Math.sin(i),s=Math.cos(i),u=Math.sin(r),l=Math.cos(r),c=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((n=f*a)*n+(n=l*c-u*f*s)*n),u*c+l*f*s)},ns.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return ns.range(Math.ceil(o/m)*m,r,m).map(h).concat(ns.range(Math.ceil(l/v)*v,u,v).map(d)).concat(ns.range(Math.ceil(i/p)*p,n,p).filter(function(t){return ps(t%m)>Ms}).map(c)).concat(ns.range(Math.ceil(s/g)*g,a,g).filter(function(t){return ps(t%v)>Ms}).map(f))}var n,i,r,o,a,s,u,l,c,f,h,d,p=10,g=p,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(d(u).slice(1),h(r).reverse().slice(1),d(l).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],r=+e[1][0],l=+e[0][1],u=+e[1][1],o>r&&(e=o,o=r,r=e),l>u&&(e=l,l=u,u=e),t.precision(y)):[[o,l],[r,u]]},t.minorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],i>n&&(e=i,i=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(y)):[[i,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(y=+e,c=mi(s,a,90),f=vi(i,n,y),h=mi(l,u,90),d=vi(o,r,y),t):y},t.majorExtent([[-180,-90+Ms],[180,90-Ms]]).minorExtent([[-180,-80-Ms],[180,80+Ms]])},ns.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||r.apply(this,arguments)]}}var e,n,i=yi,r=bi;return t.distance=function(){return ns.geo.distance(e||i.apply(this,arguments),n||r.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.target=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},ns.geo.interpolate=function(t,e){return wi(t[0]*Rs,t[1]*Rs,e[0]*Rs,e[1]*Rs)},ns.geo.length=function(t){return Wu=0,ns.geo.stream(t,Bu),Wu};var Wu,Bu={sphere:_,point:_,lineStart:_i,lineEnd:_,polygonStart:_,polygonEnd:_},Vu=xi(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(ns.geo.azimuthalEqualArea=function(){return oi(Vu)}).raw=Vu;var Yu=xi(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},y);(ns.geo.azimuthalEquidistant=function(){return oi(Yu)}).raw=Yu,(ns.geo.conicConformal=function(){return Wn($i)}).raw=$i,(ns.geo.conicEquidistant=function(){return Wn(Ci)}).raw=Ci;var Xu=xi(function(t){return 1/t},Math.atan);(ns.geo.gnomonic=function(){return oi(Xu)}).raw=Xu,Ei.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ps]},(ns.geo.mercator=function(){return ki(Ei)}).raw=Ei;var Ku=xi(function(){return 1},Math.asin);(ns.geo.orthographic=function(){return oi(Ku)}).raw=Ku;var Gu=xi(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(ns.geo.stereographic=function(){return oi(Gu)}).raw=Gu,Si.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ps]},(ns.geo.transverseMercator=function(){var t=ki(Si),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=Si,ns.geom={},ns.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,r=ke(n),o=ke(i),a=t.length,s=[],u=[];for(e=0;a>e;e++)s.push([+r.call(this,t[e],e),+o.call(this,t[e],e),e]);for(s.sort(Ai),e=0;a>e;e++)u.push([s[e][0],-s[e][1]]);var l=Mi(s),c=Mi(u),f=c[0]===l[0],h=c[c.length-1]===l[l.length-1],d=[];for(e=l.length-1;e>=0;--e)d.push(t[s[l[e]][2]]);for(e=+f;e<c.length-h;++e)d.push(t[s[c[e]][2]]);return d}var n=Ti,i=Oi;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e)},ns.geom.polygon=function(t){return bs(t,Zu),t};var Zu=ns.geom.polygon.prototype=[];Zu.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},Zu.centroid=function(t){var e,n,i=-1,r=this.length,o=0,a=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},Zu.clip=function(t){for(var e,n,i,r,o,a,s=Ni(t),u=-1,l=this.length-Ni(this),c=this[l-1];++u<l;){for(e=t.slice(),t.length=0,r=this[u],o=e[(i=e.length-s)-1],n=-1;++n<i;)a=e[n],Di(a,c,r)?(Di(o,c,r)||t.push(Ii(o,a,c,r)),t.push(a)):Di(o,c,r)&&t.push(Ii(o,a,c,r)),o=a;s&&t.push(t[0]),c=r}return t};var Ju,Qu,tl,el,nl,il=[],rl=[];qi.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Wi),e.length},tr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},er.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=or(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(ir(this,n),t=n,n=t.U),n.C=!1,i.C=!0,rr(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(rr(this,n),t=n,n=t.U),n.C=!1,i.C=!0,ir(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,a=t.R;if(n=o?a?or(a):o:a,r?r.L===t?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=a,a.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);
do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,ir(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,rr(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,ir(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,rr(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ir(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,rr(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},ns.geom.voronoi=function(t){function e(t){var e=new Array(t.length),i=s[0][0],r=s[0][1],o=s[1][0],a=s[1][1];return ar(n(t),s).cells.forEach(function(n,s){var u=n.edges,l=n.site,c=e[s]=u.length?u.map(function(t){var e=t.start();return[e.x,e.y]}):l.x>=i&&l.x<=o&&l.y>=r&&l.y<=a?[[i,a],[o,a],[o,r],[i,r]]:[];c.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Ms)*Ms,y:Math.round(a(t,e)/Ms)*Ms,i:e}})}var i=Ti,r=Oi,o=i,a=r,s=ol;return t?e(t):(e.links=function(t){return ar(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return ar(n(t)).cells.forEach(function(n,i){for(var r,o,a=n.site,s=n.edges.sort(Wi),u=-1,l=s.length,c=s[l-1].edge,f=c.l===a?c.r:c.l;++u<l;)r=c,o=f,c=s[u].edge,f=c.l===a?c.r:c.l,i<o.i&&i<f.i&&ur(a,o,f)<0&&e.push([t[i],t[o.i],t[f.i]])}),e},e.x=function(t){return arguments.length?(o=ke(i=t),e):i},e.y=function(t){return arguments.length?(a=ke(r=t),e):r},e.clipExtent=function(t){return arguments.length?(s=null==t?ol:t,e):s===ol?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===ol?null:s&&s[1]},e)};var ol=[[-1e6,-1e6],[1e6,1e6]];ns.geom.delaunay=function(t){return ns.geom.voronoi().triangles(t)},ns.geom.quadtree=function(t,e,n,i,r){function o(t){function o(t,e,n,i,r,o,a,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var u=t.x,c=t.y;if(null!=u)if(ps(u-n)+ps(c-i)<.01)l(t,e,n,i,r,o,a,s);else{var f=t.point;t.x=t.y=t.point=null,l(t,f,u,c,r,o,a,s),l(t,e,n,i,r,o,a,s)}else t.x=n,t.y=i,t.point=e}else l(t,e,n,i,r,o,a,s)}function l(t,e,n,i,r,a,s,u){var l=.5*(r+s),c=.5*(a+u),f=n>=l,h=i>=c,d=h<<1|f;t.leaf=!1,t=t.nodes[d]||(t.nodes[d]=fr()),f?r=l:s=l,h?a=c:u=c,o(t,e,n,i,r,a,s,u)}var c,f,h,d,p,g,m,v,y,b=ke(s),w=ke(u);if(null!=e)g=e,m=n,v=i,y=r;else if(v=y=-(g=m=1/0),f=[],h=[],p=t.length,a)for(d=0;p>d;++d)c=t[d],c.x<g&&(g=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),f.push(c.x),h.push(c.y);else for(d=0;p>d;++d){var _=+b(c=t[d],d),x=+w(c,d);g>_&&(g=_),m>x&&(m=x),_>v&&(v=_),x>y&&(y=x),f.push(_),h.push(x)}var $=v-g,C=y-m;$>C?y=m+$:v=g+C;var E=fr();if(E.add=function(t){o(E,t,+b(t,++d),+w(t,d),g,m,v,y)},E.visit=function(t){hr(t,E,g,m,v,y)},E.find=function(t){return dr(E,t[0],t[1],g,m,v,y)},d=-1,null==e){for(;++d<p;)o(E,t[d],f[d],h[d],g,m,v,y);--d}else t.forEach(E.add);return f=h=t=c=null,E}var a,s=Ti,u=Oi;return(a=arguments.length)?(s=lr,u=cr,3===a&&(r=n,i=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(s=t,o):s},o.y=function(t){return arguments.length?(u=t,o):u},o.extent=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),o):null==e?null:[[e,n],[i,r]]},o.size=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=n=0,i=+t[0],r=+t[1]),o):null==e?null:[i-e,r-n]},o)},ns.interpolateRgb=pr,ns.interpolateObject=gr,ns.interpolateNumber=mr,ns.interpolateString=vr;var al=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sl=new RegExp(al.source,"g");ns.interpolate=yr,ns.interpolators=[function(t,e){var n=typeof e;return("string"===n?Js.has(e)||/^(#|rgb\(|hsl\()/.test(e)?pr:vr:e instanceof ae?pr:Array.isArray(e)?br:"object"===n&&isNaN(e)?gr:mr)(t,e)}],ns.interpolateArray=br;var ul=function(){return y},ll=ns.map({linear:ul,poly:kr,quad:function(){return $r},cubic:function(){return Cr},sin:function(){return Sr},exp:function(){return Tr},circle:function(){return Or},elastic:Mr,back:Ar,bounce:function(){return Dr}}),cl=ns.map({"in":y,out:_r,"in-out":xr,"out-in":function(t){return xr(_r(t))}});ns.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,i=e>=0?t.slice(e+1):"in";return n=ll.get(n)||ul,i=cl.get(i)||y,wr(i(n.apply(null,is.call(arguments,1))))},ns.interpolateHcl=Ir,ns.interpolateHsl=Nr,ns.interpolateLab=Pr,ns.interpolateRound=Rr,ns.transform=function(t){var e=os.createElementNS(ns.ns.prefix.svg,"g");return(ns.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Lr(n?n.matrix:fl)})(t)},Lr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var fl={a:1,b:0,c:0,d:1,e:0,f:0};ns.interpolateTransform=zr,ns.layout={},ns.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(Wr(t[n]));return e}},ns.layout.chord=function(){function t(){var t,l,f,h,d,p={},g=[],m=ns.range(o),v=[];for(n=[],i=[],t=0,h=-1;++h<o;){for(l=0,d=-1;++d<o;)l+=r[h][d];g.push(l),v.push(ns.range(o)),t+=l}for(a&&m.sort(function(t,e){return a(g[t],g[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(r[e][t],r[e][n])})}),t=(Is-c*o)/t,l=0,h=-1;++h<o;){for(f=l,d=-1;++d<o;){var y=m[h],b=v[y][d],w=r[y][b],_=l,x=l+=w*t;p[y+"-"+b]={index:y,subindex:b,startAngle:_,endAngle:x,value:w}}i[y]={index:y,startAngle:f,endAngle:l,value:(l-f)/t},l+=c}for(h=-1;++h<o;)for(d=h-1;++d<o;){var $=p[h+"-"+d],C=p[d+"-"+h];($.value||C.value)&&n.push($.value<C.value?{source:C,target:$}:{source:$,target:C})}u&&e()}function e(){n.sort(function(t,e){return u((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,i,r,o,a,s,u,l={},c=0;return l.matrix=function(t){return arguments.length?(o=(r=t)&&r.length,n=i=null,l):r},l.padding=function(t){return arguments.length?(c=t,n=i=null,l):c},l.sortGroups=function(t){return arguments.length?(a=t,n=i=null,l):a},l.sortSubgroups=function(t){return arguments.length?(s=t,n=null,l):s},l.sortChords=function(t){return arguments.length?(u=t,n&&e(),l):u},l.chords=function(){return n||t(),n},l.groups=function(){return i||t(),i},l},ns.layout.force=function(){function t(t){return function(e,n,i,r){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=r-n,u=o*o+a*a;if(u>s*s/m){if(p>u){var l=e.charge/u;t.px-=o*l,t.py-=a*l}return!0}if(e.point&&u&&p>u){var l=e.pointCharge/u;t.px-=o*l,t.py-=a*l}}return!e.charge}}function e(t){t.px=ns.event.x,t.py=ns.event.y,s.resume()}var n,i,r,o,a,s={},u=ns.dispatch("start","tick","end"),l=[1,1],c=.9,f=hl,h=dl,d=-30,p=pl,g=.1,m=.64,v=[],b=[];return s.tick=function(){if((i*=.99)<.005)return u.end({type:"end",alpha:i=0}),!0;var e,n,s,f,h,p,m,y,w,_=v.length,x=b.length;for(n=0;x>n;++n)s=b[n],f=s.source,h=s.target,y=h.x-f.x,w=h.y-f.y,(p=y*y+w*w)&&(p=i*o[n]*((p=Math.sqrt(p))-r[n])/p,y*=p,w*=p,h.x-=y*(m=f.weight/(h.weight+f.weight)),h.y-=w*m,f.x+=y*(m=1-m),f.y+=w*m);if((m=i*g)&&(y=l[0]/2,w=l[1]/2,n=-1,m))for(;++n<_;)s=v[n],s.x+=(y-s.x)*m,s.y+=(w-s.y)*m;if(d)for(Zr(e=ns.geom.quadtree(v),i,a),n=-1;++n<_;)(s=v[n]).fixed||e.visit(t(s));for(n=-1;++n<_;)s=v[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*c,s.y-=(s.py-(s.py=s.y))*c);u.tick({type:"tick",alpha:i})},s.nodes=function(t){return arguments.length?(v=t,s):v},s.links=function(t){return arguments.length?(b=t,s):b},s.size=function(t){return arguments.length?(l=t,s):l},s.linkDistance=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.friction=function(t){return arguments.length?(c=+t,s):c},s.charge=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.chargeDistance=function(t){return arguments.length?(p=t*t,s):Math.sqrt(p)},s.gravity=function(t){return arguments.length?(g=+t,s):g},s.theta=function(t){return arguments.length?(m=t*t,s):Math.sqrt(m)},s.alpha=function(t){return arguments.length?(t=+t,i?i=t>0?t:0:t>0&&(u.start({type:"start",alpha:i=t}),ns.timer(s.tick)),s):i},s.start=function(){function t(t,i){if(!n){for(n=new Array(u),s=0;u>s;++s)n[s]=[];for(s=0;c>s;++s){var r=b[s];n[r.source.index].push(r.target),n[r.target.index].push(r.source)}}for(var o,a=n[e],s=-1,l=a.length;++s<l;)if(!isNaN(o=a[s][t]))return o;return Math.random()*i}var e,n,i,u=v.length,c=b.length,p=l[0],g=l[1];for(e=0;u>e;++e)(i=v[e]).index=e,i.weight=0;for(e=0;c>e;++e)i=b[e],"number"==typeof i.source&&(i.source=v[i.source]),"number"==typeof i.target&&(i.target=v[i.target]),++i.source.weight,++i.target.weight;for(e=0;u>e;++e)i=v[e],isNaN(i.x)&&(i.x=t("x",p)),isNaN(i.y)&&(i.y=t("y",g)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(r=[],"function"==typeof f)for(e=0;c>e;++e)r[e]=+f.call(this,b[e],e);else for(e=0;c>e;++e)r[e]=f;if(o=[],"function"==typeof h)for(e=0;c>e;++e)o[e]=+h.call(this,b[e],e);else for(e=0;c>e;++e)o[e]=h;if(a=[],"function"==typeof d)for(e=0;u>e;++e)a[e]=+d.call(this,v[e],e);else for(e=0;u>e;++e)a[e]=d;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=ns.behavior.drag().origin(y).on("dragstart.force",Yr).on("drag.force",e).on("dragend.force",Xr)),arguments.length?void this.on("mouseover.force",Kr).on("mouseout.force",Gr).call(n):n},ns.rebind(s,u,"on")};var hl=20,dl=1,pl=1/0;ns.layout.hierarchy=function(){function t(r){var o,a=[r],s=[];for(r.depth=0;null!=(o=a.pop());)if(s.push(o),(l=n.call(t,o,o.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)a.push(c=l[u]),c.parent=o,c.depth=o.depth+1;i&&(o.value=0),o.children=l}else i&&(o.value=+i.call(t,o,o.depth)||0),delete o.children;return to(r,function(t){var n,r;e&&(n=t.children)&&n.sort(e),i&&(r=t.parent)&&(r.value+=t.value)}),s}var e=io,n=eo,i=no;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(i=e,t):i},t.revalue=function(e){return i&&(Qr(e,function(t){t.children&&(t.value=0)}),to(e,function(e){var n;e.children||(e.value=+i.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},ns.layout.partition=function(){function t(e,n,i,r){var o=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,o&&(a=o.length)){var a,s,u,l=-1;for(i=e.value?i/e.value:0;++l<a;)t(s=o[l],n,u=s.value*i,r),n+=u}}function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,o=-1;++o<r;)i=Math.max(i,e(n[o]));return 1+i}function n(n,o){var a=i.call(this,n,o);return t(a[0],0,r[0],r[1]/e(a[0])),a}var i=ns.layout.hierarchy(),r=[1,1];return n.size=function(t){return arguments.length?(r=t,n):r},Jr(n,i)},ns.layout.pie=function(){function t(a){var s,u=a.length,l=a.map(function(n,i){return+e.call(t,n,i)}),c=+("function"==typeof i?i.apply(this,arguments):i),f=("function"==typeof r?r.apply(this,arguments):r)-c,h=Math.min(Math.abs(f)/u,+("function"==typeof o?o.apply(this,arguments):o)),d=h*(0>f?-1:1),p=(f-u*d)/ns.sum(l),g=ns.range(u),m=[];return null!=n&&g.sort(n===gl?function(t,e){return l[e]-l[t]}:function(t,e){return n(a[t],a[e])}),g.forEach(function(t){m[t]={data:a[t],value:s=l[t],startAngle:c,endAngle:c+=s*p+d,padAngle:h}}),m}var e=Number,n=gl,i=0,r=Is,o=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(i=e,t):i},t.endAngle=function(e){return arguments.length?(r=e,t):r},t.padAngle=function(e){return arguments.length?(o=e,t):o},t};var gl={};ns.layout.stack=function(){function t(s,u){if(!(h=s.length))return s;var l=s.map(function(n,i){return e.call(t,n,i)}),c=l.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),a.call(t,e,n)]})}),f=n.call(t,c,u);l=ns.permute(l,f),c=ns.permute(c,f);var h,d,p,g,m=i.call(t,c,u),v=l[0].length;for(p=0;v>p;++p)for(r.call(t,l[0][p],g=m[p],c[0][p][1]),d=1;h>d;++d)r.call(t,l[d][p],g+=c[d-1][p][1],c[d][p][1]);return s}var e=y,n=uo,i=lo,r=so,o=oo,a=ao;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:ml.get(e)||uo,t):n},t.offset=function(e){return arguments.length?(i="function"==typeof e?e:vl.get(e)||lo,t):i},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(r=e,t):r},t};var ml=ns.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(co),o=t.map(fo),a=ns.range(i).sort(function(t,e){return r[t]-r[e]}),s=0,u=0,l=[],c=[];for(e=0;i>e;++e)n=a[e],u>s?(s+=o[n],l.push(n)):(u+=o[n],c.push(n));return c.reverse().concat(l)},reverse:function(t){return ns.range(t.length).reverse()},"default":uo}),vl=ns.map({silhouette:function(t){var e,n,i,r=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;o>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];i>s&&(s=i),a.push(i)}for(n=0;o>n;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,i,r,o,a,s,u,l,c=t.length,f=t[0],h=f.length,d=[];for(d[0]=u=l=0,n=1;h>n;++n){for(e=0,r=0;c>e;++e)r+=t[e][n][1];for(e=0,o=0,s=f[n][0]-f[n-1][0];c>e;++e){for(i=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);e>i;++i)a+=(t[i][n][1]-t[i][n-1][1])/s;o+=a*t[e][n][1]}d[n]=u-=r?o/r*s:0,l>u&&(l=u)}for(n=0;h>n;++n)d[n]-=l;return d},expand:function(t){var e,n,i,r=t.length,o=t[0].length,a=1/r,s=[];for(n=0;o>n;++n){for(e=0,i=0;r>e;e++)i+=t[e][n][1];if(i)for(e=0;r>e;e++)t[e][n][1]/=i;else for(e=0;r>e;e++)t[e][n][1]=a}for(n=0;o>n;++n)s[n]=0;return s},zero:lo});ns.layout.histogram=function(){function t(t,o){for(var a,s,u=[],l=t.map(n,this),c=i.call(this,l,o),f=r.call(this,c,l,o),o=-1,h=l.length,d=f.length-1,p=e?1:1/h;++o<d;)a=u[o]=[],a.dx=f[o+1]-(a.x=f[o]),a.y=0;if(d>0)for(o=-1;++o<h;)s=l[o],s>=c[0]&&s<=c[1]&&(a=u[ns.bisect(f,s,1,d)-1],a.y+=p,a.push(t[o]));return u}var e=!0,n=Number,i=mo,r=po;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(i=ke(e),t):i},t.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return go(t,e)}:ke(e),t):r},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},ns.layout.pack=function(){function t(t,o){var a=n.call(this,t,o),s=a[0],u=r[0],l=r[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,to(s,function(t){t.r=+c(t.value)}),to(s,_o),i){var f=i*(e?1:Math.max(2*s.r/u,2*s.r/l))/2;to(s,function(t){t.r+=f}),to(s,_o),to(s,function(t){t.r-=f})}return Co(s,u/2,l/2,e?1:1/Math.max(2*s.r/u,2*s.r/l)),a}var e,n=ns.layout.hierarchy().sort(vo),i=0,r=[1,1];return t.size=function(e){return arguments.length?(r=e,t):r},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(i=+e,t):i},Jr(t,n)},ns.layout.tree=function(){function t(t,r){var c=a.call(this,t,r),f=c[0],h=e(f);if(to(h,n),h.parent.m=-h.z,Qr(h,i),l)Qr(f,o);else{var d=f,p=f,g=f;Qr(f,function(t){t.x<d.x&&(d=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)});var m=s(d,p)/2-d.x,v=u[0]/(p.x+s(p,d)/2+m),y=u[1]/(g.depth||1);Qr(f,function(t){t.x=(t.x+m)*v,t.y=t.depth*y})}return c}function e(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var r,o=e.children,a=0,s=o.length;s>a;++a)i.push((o[a]=r={_:o[a],parent:e,children:(r=o[a].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=r);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){Mo(t);var o=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+s(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+s(t._,i._));t.parent.A=r(t,i,t.parent.A||n[0])}function i(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,n){if(e){for(var i,r=t,o=t,a=e,u=r.parent.children[0],l=r.m,c=o.m,f=a.m,h=u.m;a=To(a),r=So(r),a&&r;)u=So(u),o=To(o),o.a=t,i=a.z+f-r.z-l+s(a._,r._),i>0&&(Oo(Ao(a,t,n),t,i),l+=i,c+=i),f+=a.m,l+=r.m,h+=u.m,c+=o.m;a&&!To(o)&&(o.t=a,o.m+=f-c),r&&!So(u)&&(u.t=r,u.m+=l-h,n=t)}return n}function o(t){t.x*=u[0],t.y=t.depth*u[1]}var a=ns.layout.hierarchy().sort(null).value(null),s=ko,u=[1,1],l=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(l=null==(u=e)?o:null,t):l?null:u},t.nodeSize=function(e){return arguments.length?(l=null==(u=e)?null:o,t):l?u:null},Jr(t,a)},ns.layout.cluster=function(){function t(t,o){var a,s=e.call(this,t,o),u=s[0],l=0;to(u,function(t){var e=t.children;e&&e.length?(t.x=Io(e),t.y=Do(e)):(t.x=a?l+=n(t,a):0,t.y=0,a=t)});var c=No(u),f=Po(u),h=c.x-n(c,f)/2,d=f.x+n(f,c)/2;return to(u,r?function(t){t.x=(t.x-u.x)*i[0],t.y=(u.y-t.y)*i[1]}:function(t){t.x=(t.x-h)/(d-h)*i[0],t.y=(1-(u.y?t.y/u.y:1))*i[1]}),s}var e=ns.layout.hierarchy().sort(null).value(null),n=ko,i=[1,1],r=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(r=null==(i=e),t):r?null:i},t.nodeSize=function(e){return arguments.length?(r=null!=(i=e),t):r?i:null},Jr(t,e)},ns.layout.treemap=function(){function t(t,e){for(var n,i,r=-1,o=t.length;++r<o;)i=(n=t[r]).value*(0>e?0:e),n.area=isNaN(i)||0>=i?0:i}function e(n){var o=n.children;if(o&&o.length){var a,s,u,l=f(n),c=[],h=o.slice(),p=1/0,g="slice"===d?l.dx:"dice"===d?l.dy:"slice-dice"===d?1&n.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(t(h,l.dx*l.dy/n.value),c.area=0;(u=h.length)>0;)c.push(a=h[u-1]),c.area+=a.area,"squarify"!==d||(s=i(c,g))<=p?(h.pop(),p=s):(c.area-=c.pop().area,r(c,g,l,!1),g=Math.min(l.dx,l.dy),c.length=c.area=0,p=1/0);c.length&&(r(c,g,l,!0),c.length=c.area=0),o.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var o,a=f(e),s=i.slice(),u=[];for(t(s,a.dx*a.dy/e.value),u.area=0;o=s.pop();)u.push(o),u.area+=o.area,null!=o.z&&(r(u,o.z?a.dx:a.dy,a,!s.length),u.length=u.area=0);i.forEach(n)}}function i(t,e){for(var n,i=t.area,r=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(o>n&&(o=n),n>r&&(r=n));return i*=i,e*=e,i?Math.max(e*r*p/i,i/(e*o*p)):1/0}function r(t,e,n,i){var r,o=-1,a=t.length,s=n.x,l=n.y,c=e?u(t.area/e):0;if(e==n.dx){for((i||c>n.dy)&&(c=n.dy);++o<a;)r=t[o],r.x=s,r.y=l,r.dy=c,s+=r.dx=Math.min(n.x+n.dx-s,c?u(r.area/c):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++o<a;)r=t[o],r.x=s,r.y=l,r.dx=c,l+=r.dy=Math.min(n.y+n.dy-l,c?u(r.area/c):0);r.z=!1,r.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function o(i){var r=a||s(i),o=r[0];return o.x=0,o.y=0,o.dx=l[0],o.dy=l[1],a&&s.revalue(o),t([o],o.dx*o.dy/o.value),(a?n:e)(o),h&&(a=r),r}var a,s=ns.layout.hierarchy(),u=Math.round,l=[1,1],c=null,f=Ro,h=!1,d="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(l=t,o):l},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?Ro(e):Lo(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Lo(e,t)}if(!arguments.length)return c;var i;return f=null==(c=t)?Ro:"function"==(i=typeof t)?e:"number"===i?(t=[t,t,t,t],n):n,o},o.round=function(t){return arguments.length?(u=t?Math.round:Number,o):u!=Number},o.sticky=function(t){return arguments.length?(h=t,a=null,o):h},o.ratio=function(t){return arguments.length?(p=t,o):p},o.mode=function(t){return arguments.length?(d=t+"",o):d},Jr(o,s)},ns.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,i,r;do n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i;while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=ns.random.normal.apply(ns,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=ns.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},ns.scale={};var yl={floor:y,ceil:y};ns.scale.linear=function(){return Wo([0,1],[0,1],yr,!1)};var bl={s:1,g:1,p:1,r:1,e:1};ns.scale.log=function(){return Jo(ns.scale.linear().domain([0,1]),10,!0,[1,10])};var wl=ns.format(".0e"),_l={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};ns.scale.pow=function(){return Qo(ns.scale.linear(),1,[0,1])},ns.scale.sqrt=function(){return ns.scale.pow().exponent(.5)},ns.scale.ordinal=function(){return ea([],{t:"range",a:[[]]})},ns.scale.category10=function(){return ns.scale.ordinal().range(xl)},ns.scale.category20=function(){return ns.scale.ordinal().range($l)},ns.scale.category20b=function(){return ns.scale.ordinal().range(Cl)},ns.scale.category20c=function(){return ns.scale.ordinal().range(El)};var xl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(be),$l=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(be),Cl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(be),El=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(be);ns.scale.quantile=function(){return na([],[])},ns.scale.quantize=function(){return ia(0,1,[0,1])},ns.scale.threshold=function(){return ra([.5],[0,1])},ns.scale.identity=function(){return oa([0,1])},ns.svg={},ns.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),l=Math.max(0,+i.apply(this,arguments)),c=a.apply(this,arguments)-Ps,f=s.apply(this,arguments)-Ps,h=Math.abs(f-c),d=c>f?0:1;if(t>l&&(p=l,l=t,t=p),h>=Ns)return e(l,d)+(t?e(t,1-d):"")+"Z";var p,g,m,v,y,b,w,_,x,$,C,E,k=0,S=0,T=[];if((v=(+u.apply(this,arguments)||0)/2)&&(m=o===kl?Math.sqrt(t*t+l*l):+o.apply(this,arguments),d||(S*=-1),l&&(S=ee(m/l*Math.sin(v))),t&&(k=ee(m/t*Math.sin(v)))),l){y=l*Math.cos(c+S),b=l*Math.sin(c+S),w=l*Math.cos(f-S),_=l*Math.sin(f-S);var O=Math.abs(f-c-2*S)<=Ds?0:1;if(S&&ha(y,b,w,_)===d^O){var M=(c+f)/2;y=l*Math.cos(M),b=l*Math.sin(M),w=_=null}}else y=b=0;if(t){x=t*Math.cos(f-k),$=t*Math.sin(f-k),C=t*Math.cos(c+k),E=t*Math.sin(c+k);var A=Math.abs(c-f+2*k)<=Ds?0:1;if(k&&ha(x,$,C,E)===1-d^A){var D=(c+f)/2;x=t*Math.cos(D),$=t*Math.sin(D),C=E=null}}else x=$=0;if((p=Math.min(Math.abs(l-t)/2,+r.apply(this,arguments)))>.001){g=l>t^d?0:1;var I=null==C?[x,$]:null==w?[y,b]:Ii([y,b],[C,E],[w,_],[x,$]),N=y-I[0],P=b-I[1],R=w-I[0],L=_-I[1],j=1/Math.sin(Math.acos((N*R+P*L)/(Math.sqrt(N*N+P*P)*Math.sqrt(R*R+L*L)))/2),F=Math.sqrt(I[0]*I[0]+I[1]*I[1]);if(null!=w){var H=Math.min(p,(l-F)/(j+1)),z=da(null==C?[x,$]:[C,E],[y,b],l,H,d),q=da([w,_],[x,$],l,H,d);p===H?T.push("M",z[0],"A",H,",",H," 0 0,",g," ",z[1],"A",l,",",l," 0 ",1-d^ha(z[1][0],z[1][1],q[1][0],q[1][1]),",",d," ",q[1],"A",H,",",H," 0 0,",g," ",q[0]):T.push("M",z[0],"A",H,",",H," 0 1,",g," ",q[0])}else T.push("M",y,",",b);if(null!=C){var U=Math.min(p,(t-F)/(j-1)),W=da([y,b],[C,E],t,-U,d),B=da([x,$],null==w?[y,b]:[w,_],t,-U,d);p===U?T.push("L",B[0],"A",U,",",U," 0 0,",g," ",B[1],"A",t,",",t," 0 ",d^ha(B[1][0],B[1][1],W[1][0],W[1][1]),",",1-d," ",W[1],"A",U,",",U," 0 0,",g," ",W[0]):T.push("L",B[0],"A",U,",",U," 0 0,",g," ",W[0])}else T.push("L",x,",",$)}else T.push("M",y,",",b),null!=w&&T.push("A",l,",",l," 0 ",O,",",d," ",w,",",_),T.push("L",x,",",$),null!=C&&T.push("A",t,",",t," 0 ",A,",",1-d," ",C,",",E);return T.push("Z"),T.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=sa,i=ua,r=aa,o=kl,a=la,s=ca,u=fa;return t.innerRadius=function(e){return arguments.length?(n=ke(e),t):n},t.outerRadius=function(e){return arguments.length?(i=ke(e),t):i},t.cornerRadius=function(e){return arguments.length?(r=ke(e),t):r},t.padRadius=function(e){return arguments.length?(o=e==kl?kl:ke(e),t):o},t.startAngle=function(e){return arguments.length?(a=ke(e),t):a},t.endAngle=function(e){return arguments.length?(s=ke(e),t):s},t.padAngle=function(e){return arguments.length?(u=ke(e),t):u},t.centroid=function(){var t=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2,e=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-Ps;return[Math.cos(e)*t,Math.sin(e)*t]},t};var kl="auto";ns.svg.line=function(){return pa(y)};var Sl=ns.map({linear:ga,"linear-closed":ma,step:va,"step-before":ya,"step-after":ba,basis:Ea,"basis-open":ka,"basis-closed":Sa,bundle:Ta,cardinal:xa,"cardinal-open":wa,"cardinal-closed":_a,monotone:Na});Sl.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Tl=[0,2/3,1/3,0],Ol=[0,1/3,2/3,0],Ml=[0,1/6,2/3,1/6];ns.svg.line.radial=function(){var t=pa(Pa);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},ya.reverse=ba,ba.reverse=ya,ns.svg.area=function(){return Ra(y)},ns.svg.area.radial=function(){var t=Ra(Pa);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},ns.svg.chord=function(){function t(t,s){var u=e(this,o,t,s),l=e(this,a,t,s);return"M"+u.p0+i(u.r,u.p1,u.a1-u.a0)+(n(u,l)?r(u.r,u.p1,u.r,u.p0):r(u.r,u.p1,l.r,l.p0)+i(l.r,l.p1,l.a1-l.a0)+r(l.r,l.p1,u.r,u.p0))+"Z"}function e(t,e,n,i){var r=e.call(t,n,i),o=s.call(t,r,i),a=u.call(t,r,i)-Ps,c=l.call(t,r,i)-Ps;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function i(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Ds)+",1 "+e}function r(t,e,n,i){return"Q 0,0 "+i}var o=yi,a=bi,s=La,u=la,l=ca;return t.radius=function(e){return arguments.length?(s=ke(e),t):s},t.source=function(e){return arguments.length?(o=ke(e),t):o},t.target=function(e){return arguments.length?(a=ke(e),t):a},t.startAngle=function(e){return arguments.length?(u=ke(e),t):u},t.endAngle=function(e){return arguments.length?(l=ke(e),t):l},t},ns.svg.diagonal=function(){function t(t,r){var o=e.call(this,t,r),a=n.call(this,t,r),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return u=u.map(i),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var e=yi,n=bi,i=ja;return t.source=function(n){return arguments.length?(e=ke(n),t):e},t.target=function(e){return arguments.length?(n=ke(e),t):n},t.projection=function(e){return arguments.length?(i=e,t):i},t},ns.svg.diagonal.radial=function(){var t=ns.svg.diagonal(),e=ja,n=t.projection;return t.projection=function(t){return arguments.length?n(Fa(e=t)):e},t},ns.svg.symbol=function(){function t(t,i){return(Al.get(e.call(this,t,i))||qa)(n.call(this,t,i))}var e=za,n=Ha;return t.type=function(n){return arguments.length?(e=ke(n),t):e},t.size=function(e){return arguments.length?(n=ke(e),t):n},t};var Al=ns.map({circle:qa,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Il)),n=e*Il;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Dl),n=e*Dl/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Dl),n=e*Dl/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});ns.svg.symbolTypes=Al.keys();var Dl=Math.sqrt(3),Il=Math.tan(30*Rs);$s.transition=function(t){for(var e,n,i=Nl||++jl,r=Ya(t),o=[],a=Pl||{time:Date.now(),ease:Er,delay:0,duration:250},s=-1,u=this.length;++s<u;){o.push(e=[]);for(var l=this[s],c=-1,f=l.length;++c<f;)(n=l[c])&&Xa(n,c,r,i,a),e.push(n)}return Wa(o,r,i)},$s.interrupt=function(t){return this.each(null==t?Rl:Ua(Ya(t)))};var Nl,Pl,Rl=Ua(Ya()),Ll=[],jl=0;Ll.call=$s.call,Ll.empty=$s.empty,Ll.node=$s.node,Ll.size=$s.size,ns.transition=function(t,e){return t&&t.transition?Nl?t.transition(e):t:ns.selection().transition(t)},ns.transition.prototype=Ll,Ll.select=function(t){var e,n,i,r=this.id,o=this.namespace,a=[];t=T(t);for(var s=-1,u=this.length;++s<u;){a.push(e=[]);for(var l=this[s],c=-1,f=l.length;++c<f;)(i=l[c])&&(n=t.call(i,i.__data__,c,s))?("__data__"in i&&(n.__data__=i.__data__),Xa(n,c,o,r,i[o][r]),e.push(n)):e.push(null)}return Wa(a,o,r)},Ll.selectAll=function(t){var e,n,i,r,o,a=this.id,s=this.namespace,u=[];t=O(t);for(var l=-1,c=this.length;++l<c;)for(var f=this[l],h=-1,d=f.length;++h<d;)if(i=f[h]){o=i[s][a],n=t.call(i,i.__data__,h,l),u.push(e=[]);for(var p=-1,g=n.length;++p<g;)(r=n[p])&&Xa(r,p,s,a,o),e.push(r)}return Wa(u,s,a)},Ll.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=z(t));for(var o=0,a=this.length;a>o;o++){r.push(e=[]);for(var n=this[o],s=0,u=n.length;u>s;s++)(i=n[s])&&t.call(i,i.__data__,s,o)&&e.push(i)}return Wa(r,this.namespace,this.id)},Ll.tween=function(t,e){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(t):U(this,null==e?function(e){e[i][n].tween.remove(t)}:function(r){r[i][n].tween.set(t,e)})},Ll.attr=function(t,e){function n(){this.removeAttribute(s)}function i(){this.removeAttributeNS(s.space,s.local)}function r(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function o(t){return null==t?i:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?zr:yr,s=ns.ns.qualify(t);return Ba(this,"attr."+t,e,s.local?o:r)},Ll.attrTween=function(t,e){function n(t,n){var i=e.call(this,t,n,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}}function i(t,n){var i=e.call(this,t,n,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}var r=ns.ns.qualify(t);return this.tween("attr."+t,r.local?i:n)},Ll.style=function(t,n,i){function r(){this.style.removeProperty(t)}function o(n){return null==n?r:(n+="",function(){var r,o=e(this).getComputedStyle(this,null).getPropertyValue(t);return o!==n&&(r=yr(o,n),function(e){this.style.setProperty(t,r(e),i)})})}var a=arguments.length;if(3>a){if("string"!=typeof t){2>a&&(n="");for(i in t)this.style(i,t[i],n);return this}i=""}return Ba(this,"style."+t,n,o)},Ll.styleTween=function(t,n,i){function r(r,o){var a=n.call(this,r,o,e(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),i)}}return arguments.length<3&&(i=""),this.tween("style."+t,r)},Ll.text=function(t){return Ba(this,"text",t,Va)},Ll.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Ll.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=ns.ease.apply(ns,arguments)),U(this,function(i){i[n][e].ease=t}))},Ll.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:U(this,"function"==typeof t?function(i,r,o){i[n][e].delay=+t.call(i,i.__data__,r,o)}:(t=+t,function(i){i[n][e].delay=t}))},Ll.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:U(this,"function"==typeof t?function(i,r,o){i[n][e].duration=Math.max(1,t.call(i,i.__data__,r,o))}:(t=Math.max(1,t),function(i){i[n][e].duration=t}))},Ll.each=function(t,e){var n=this.id,i=this.namespace;if(arguments.length<2){var r=Pl,o=Nl;try{Nl=n,U(this,function(e,r,o){Pl=e[i][n],t.call(e,e.__data__,r,o)})}finally{Pl=r,Nl=o}}else U(this,function(r){var o=r[i][n];(o.event||(o.event=ns.dispatch("start","end","interrupt"))).on(t,e)});return this},Ll.transition=function(){for(var t,e,n,i,r=this.id,o=++jl,a=this.namespace,s=[],u=0,l=this.length;l>u;u++){s.push(t=[]);for(var e=this[u],c=0,f=e.length;f>c;c++)(n=e[c])&&(i=n[a][r],Xa(n,c,a,o,{time:i.time,ease:i.ease,delay:i.delay+i.duration,duration:i.duration})),t.push(n)}return Wa(s,a,o)},ns.svg.axis=function(){function t(t){t.each(function(){var t,l=ns.select(this),c=this.__chart__||n,f=this.__chart__=n.copy(),h=null==u?f.ticks?f.ticks.apply(f,s):f.domain():u,d=null==e?f.tickFormat?f.tickFormat.apply(f,s):y:e,p=l.selectAll(".tick").data(h,f),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Ms),m=ns.transition(p.exit()).style("opacity",Ms).remove(),v=ns.transition(p.order()).style("opacity",1),b=Math.max(r,0)+a,w=Fo(f),_=l.selectAll(".domain").data([0]),x=(_.enter().append("path").attr("class","domain"),ns.transition(_));
g.append("line"),g.append("text");var $,C,E,k,S=g.select("line"),T=v.select("line"),O=p.select("text").text(d),M=g.select("text"),A=v.select("text"),D="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(t=Ka,$="x",E="y",C="x2",k="y2",O.attr("dy",0>D?"0em":".71em").style("text-anchor","middle"),x.attr("d","M"+w[0]+","+D*o+"V0H"+w[1]+"V"+D*o)):(t=Ga,$="y",E="x",C="y2",k="x2",O.attr("dy",".32em").style("text-anchor",0>D?"end":"start"),x.attr("d","M"+D*o+","+w[0]+"H0V"+w[1]+"H"+D*o)),S.attr(k,D*r),M.attr(E,D*b),T.attr(C,0).attr(k,D*r),A.attr($,0).attr(E,D*b),f.rangeBand){var I=f,N=I.rangeBand()/2;c=f=function(t){return I(t)+N}}else c.rangeBand?c=f:m.call(t,f,c);g.call(t,c,f),v.call(t,f,f)})}var e,n=ns.scale.linear(),i=Fl,r=6,o=6,a=3,s=[10],u=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(i=e in Hl?e+"":Fl,t):i},t.ticks=function(){return arguments.length?(s=arguments,t):s},t.tickValues=function(e){return arguments.length?(u=e,t):u},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(r=+e,o=+arguments[n-1],t):r},t.innerTickSize=function(e){return arguments.length?(r=+e,t):r},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Fl="bottom",Hl={top:1,right:1,bottom:1,left:1};ns.svg.brush=function(){function t(e){e.each(function(){var e=ns.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),a=e.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=e.selectAll(".resize").data(g,y);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return zl[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var u,f=ns.transition(e),h=ns.transition(a);l&&(u=Fo(l),h.attr("x",u[0]).attr("width",u[1]-u[0]),i(f)),c&&(u=Fo(c),h.attr("y",u[0]).attr("height",u[1]-u[0]),r(f)),n(f)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+f[+/e$/.test(t)]+","+h[+/^s/.test(t)]+")"})}function i(t){t.select(".extent").attr("x",f[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function r(t){t.select(".extent").attr("y",h[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function o(){function o(){32==ns.event.keyCode&&(O||(b=null,A[0]-=f[1],A[1]-=h[1],O=2),C())}function g(){32==ns.event.keyCode&&2==O&&(A[0]+=f[1],A[1]+=h[1],O=0,C())}function m(){var t=ns.mouse(_),e=!1;w&&(t[0]+=w[0],t[1]+=w[1]),O||(ns.event.altKey?(b||(b=[(f[0]+f[1])/2,(h[0]+h[1])/2]),A[0]=f[+(t[0]<b[0])],A[1]=h[+(t[1]<b[1])]):b=null),S&&v(t,l,0)&&(i(E),e=!0),T&&v(t,c,1)&&(r(E),e=!0),e&&(n(E),$({type:"brush",mode:O?"move":"resize"}))}function v(t,e,n){var i,r,o=Fo(e),u=o[0],l=o[1],c=A[n],g=n?h:f,m=g[1]-g[0];return O&&(u-=c,l-=m+c),i=(n?p:d)?Math.max(u,Math.min(l,t[n])):t[n],O?r=(i+=c)+m:(b&&(c=Math.max(u,Math.min(l,2*b[n]-i))),i>c?(r=i,i=c):r=c),g[0]!=i||g[1]!=r?(n?s=null:a=null,g[0]=i,g[1]=r,!0):void 0}function y(){m(),E.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),ns.select("body").style("cursor",null),D.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),M(),$({type:"brushend"})}var b,w,_=this,x=ns.select(ns.event.target),$=u.of(_,arguments),E=ns.select(_),k=x.datum(),S=!/^(n|s)$/.test(k)&&l,T=!/^(e|w)$/.test(k)&&c,O=x.classed("extent"),M=K(_),A=ns.mouse(_),D=ns.select(e(_)).on("keydown.brush",o).on("keyup.brush",g);if(ns.event.changedTouches?D.on("touchmove.brush",m).on("touchend.brush",y):D.on("mousemove.brush",m).on("mouseup.brush",y),E.interrupt().selectAll("*").interrupt(),O)A[0]=f[0]-A[0],A[1]=h[0]-A[1];else if(k){var I=+/w$/.test(k),N=+/^n/.test(k);w=[f[1-I]-A[0],h[1-N]-A[1]],A[0]=f[I],A[1]=h[N]}else ns.event.altKey&&(b=A.slice());E.style("pointer-events","none").selectAll(".resize").style("display",null),ns.select("body").style("cursor",x.style("cursor")),$({type:"brushstart"}),m()}var a,s,u=k(t,"brushstart","brush","brushend"),l=null,c=null,f=[0,0],h=[0,0],d=!0,p=!0,g=ql[0];return t.event=function(t){t.each(function(){var t=u.of(this,arguments),e={x:f,y:h,i:a,j:s},n=this.__chart__||e;this.__chart__=e,Nl?ns.select(this).transition().each("start.brush",function(){a=n.i,s=n.j,f=n.x,h=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=br(f,e.x),i=br(h,e.y);return a=s=null,function(r){f=e.x=n(r),h=e.y=i(r),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(l=e,g=ql[!l<<1|!c],t):l},t.y=function(e){return arguments.length?(c=e,g=ql[!l<<1|!c],t):c},t.clamp=function(e){return arguments.length?(l&&c?(d=!!e[0],p=!!e[1]):l?d=!!e:c&&(p=!!e),t):l&&c?[d,p]:l?d:c?p:null},t.extent=function(e){var n,i,r,o,u;return arguments.length?(l&&(n=e[0],i=e[1],c&&(n=n[0],i=i[0]),a=[n,i],l.invert&&(n=l(n),i=l(i)),n>i&&(u=n,n=i,i=u),(n!=f[0]||i!=f[1])&&(f=[n,i])),c&&(r=e[0],o=e[1],l&&(r=r[1],o=o[1]),s=[r,o],c.invert&&(r=c(r),o=c(o)),r>o&&(u=r,r=o,o=u),(r!=h[0]||o!=h[1])&&(h=[r,o])),t):(l&&(a?(n=a[0],i=a[1]):(n=f[0],i=f[1],l.invert&&(n=l.invert(n),i=l.invert(i)),n>i&&(u=n,n=i,i=u))),c&&(s?(r=s[0],o=s[1]):(r=h[0],o=h[1],c.invert&&(r=c.invert(r),o=c.invert(o)),r>o&&(u=r,r=o,o=u))),l&&c?[[n,r],[i,o]]:l?[n,i]:c&&[r,o])},t.clear=function(){return t.empty()||(f=[0,0],h=[0,0],a=s=null),t},t.empty=function(){return!!l&&f[0]==f[1]||!!c&&h[0]==h[1]},ns.rebind(t,u,"on")};var zl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ql=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ul=uu.format=pu.timeFormat,Wl=Ul.utc,Bl=Wl("%Y-%m-%dT%H:%M:%S.%LZ");Ul.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Za:Bl,Za.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Za.toString=Bl.toString,uu.second=Fe(function(t){return new lu(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),uu.seconds=uu.second.range,uu.seconds.utc=uu.second.utc.range,uu.minute=Fe(function(t){return new lu(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),uu.minutes=uu.minute.range,uu.minutes.utc=uu.minute.utc.range,uu.hour=Fe(function(t){var e=t.getTimezoneOffset()/60;return new lu(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),uu.hours=uu.hour.range,uu.hours.utc=uu.hour.utc.range,uu.month=Fe(function(t){return t=uu.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),uu.months=uu.month.range,uu.months.utc=uu.month.utc.range;var Vl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Yl=[[uu.second,1],[uu.second,5],[uu.second,15],[uu.second,30],[uu.minute,1],[uu.minute,5],[uu.minute,15],[uu.minute,30],[uu.hour,1],[uu.hour,3],[uu.hour,6],[uu.hour,12],[uu.day,1],[uu.day,2],[uu.week,1],[uu.month,1],[uu.month,3],[uu.year,1]],Xl=Ul.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",On]]),Kl={range:function(t,e,n){return ns.range(Math.ceil(t/n)*n,+e,n).map(Qa)},floor:y,ceil:y};Yl.year=uu.year,uu.scale=function(){return Ja(ns.scale.linear(),Yl,Xl)};var Gl=Yl.map(function(t){return[t[0].utc,t[1]]}),Zl=Wl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",On]]);Gl.year=uu.year.utc,uu.scale.utc=function(){return Ja(ns.scale.linear(),Gl,Zl)},ns.text=Se(function(t){return t.responseText}),ns.json=function(t,e){return Te(t,"application/json",ts,e)},ns.html=function(t,e){return Te(t,"text/html",es,e)},ns.xml=Se(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define(ns):"object"==typeof module&&module.exports&&(module.exports=ns),this.d3=ns}(),!function(){function t(t,e){function n(e){var n,i=t.arcs[0>e?~e:e],r=i[0];return t.transform?(n=[0,0],i.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=i[i.length-1],0>e?[n,r]:[r,n]}function i(t,e){for(var n in t){var i=t[n];delete e[i.start],delete i.start,delete i.end,i.forEach(function(t){r[0>t?~t:t]=1}),s.push(i)}}var r={},o={},a={},s=[],u=-1;return e.forEach(function(n,i){var r,o=t.arcs[0>n?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(r=e[++u],e[u]=n,e[i]=r)}),e.forEach(function(t){var e,i,r=n(t),s=r[0],u=r[1];if(e=a[s])if(delete a[e.end],e.push(t),e.end=u,i=o[u]){delete o[i.start];var l=i===e?e:e.concat(i);o[l.start=e.start]=a[l.end=i.end]=l}else o[e.start]=a[e.end]=e;else if(e=o[u])if(delete o[e.start],e.unshift(t),e.start=s,i=a[s]){delete a[i.end];var c=i===e?e:i.concat(e);o[c.start=i.start]=a[c.end=e.end]=c}else o[e.start]=a[e.end]=e;else e=[t],o[e.start=s]=a[e.end=u]=e}),i(a,o),i(o,a),e.forEach(function(t){r[0>t?~t:t]||s.push([t])}),s}function e(e,n,i){function r(t){var e=0>t?~t:t;(c[e]||(c[e]=[])).push({i:t,g:l})}function o(t){t.forEach(r)}function a(t){t.forEach(o)}function s(t){"GeometryCollection"===t.type?t.geometries.forEach(s):t.type in f&&(l=t,f[t.type](t.arcs))}var u=[];if(arguments.length>1){var l,c=[],f={LineString:o,MultiLineString:a,Polygon:a,MultiPolygon:function(t){t.forEach(a)}};s(n),c.forEach(arguments.length<3?function(t){u.push(t[0].i)}:function(t){i(t[0].g,t[t.length-1].g)&&u.push(t[0].i)})}else for(var h=0,d=e.arcs.length;d>h;++h)u.push(h);return{type:"MultiLineString",arcs:t(e,u)}}function i(e,i){function r(t){t.forEach(function(e){e.forEach(function(e){(s[e=0>e?~e:e]||(s[e]=[])).push(t)})}),u.push(t)}function o(t){return f(a(e,{type:"Polygon",arcs:[t]}).coordinates[0])>0}var s={},u=[],l=[];return i.forEach(function(t){"Polygon"===t.type?r(t.arcs):"MultiPolygon"===t.type&&t.arcs.forEach(r)}),u.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,l.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){s[0>t?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),u.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:l.map(function(i){var r=[];if(i.forEach(function(t){t.forEach(function(t){t.forEach(function(t){s[0>t?~t:t].length<2&&r.push(t)})})}),r=t(e,r),(n=r.length)>1)for(var a,u=o(i[0][0]),l=0;n>l;++l)if(u===o(r[l])){a=r[0],r[0]=r[l],r[l]=a;break}return r})}}function r(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return o(t,e)})}:o(t,e)}function o(t,e){var n={type:"Feature",id:e.id,properties:e.properties||{},geometry:a(t,e)};return null==e.id&&delete n.id,n}function a(t,e){function n(t,e){e.length&&e.pop();for(var n,i=c[0>t?~t:t],r=0,o=i.length;o>r;++r)e.push(n=i[r].slice()),l(n,r);0>t&&s(e,o)}function i(t){return t=t.slice(),l(t,0),t}function r(t){for(var e=[],i=0,r=t.length;r>i;++i)n(t[i],e);return e.length<2&&e.push(e[0].slice()),e}function o(t){for(var e=r(t);e.length<4;)e.push(e[0].slice());return e}function a(t){return t.map(o)}function u(t){var e=t.type;return"GeometryCollection"===e?{type:e,geometries:t.geometries.map(u)}:e in f?{type:e,coordinates:f[e](t)}:null}var l=g(t.transform),c=t.arcs,f={Point:function(t){return i(t.coordinates)},MultiPoint:function(t){return t.coordinates.map(i)},LineString:function(t){return r(t.arcs)},MultiLineString:function(t){return t.arcs.map(r)},Polygon:function(t){return a(t.arcs)},MultiPolygon:function(t){return t.arcs.map(a)}};return u(e)}function s(t,e){for(var n,i=t.length,r=i-e;r<--i;)n=t[r],t[r++]=t[i],t[i]=n}function u(t,e){for(var n=0,i=t.length;i>n;){var r=n+i>>>1;t[r]<e?n=r+1:i=r}return n}function l(t){function e(t,e){t.forEach(function(t){0>t&&(t=~t);var n=r[t];n?n.push(e):r[t]=[e]})}function n(t,n){t.forEach(function(t){e(t,n)})}function i(t,e){"GeometryCollection"===t.type?t.geometries.forEach(function(t){i(t,e)}):t.type in a&&a[t.type](t.arcs,e)}var r={},o=t.map(function(){return[]}),a={LineString:e,MultiLineString:n,Polygon:n,MultiPolygon:function(t,e){t.forEach(function(t){n(t,e)})}};t.forEach(i);for(var s in r)for(var l=r[s],c=l.length,f=0;c>f;++f)for(var h=f+1;c>h;++h){var d,p=l[f],g=l[h];(d=o[p])[s=u(d,g)]!==g&&d.splice(s,0,g),(d=o[g])[s=u(d,p)]!==p&&d.splice(s,0,p)}return o}function c(t,e){function n(t){o.remove(t),t[1][2]=e(t),o.push(t)}var i=g(t.transform),r=m(t.transform),o=p();return e||(e=h),t.arcs.forEach(function(t){for(var a,s,u=[],l=0,c=0,f=t.length;f>c;++c)s=t[c],i(t[c]=[s[0],s[1],1/0],c);for(var c=1,f=t.length-1;f>c;++c)a=t.slice(c-1,c+2),a[1][2]=e(a),u.push(a),o.push(a);for(var c=0,f=u.length;f>c;++c)a=u[c],a.previous=u[c-1],a.next=u[c+1];for(;a=o.pop();){var h=a.previous,d=a.next;a[1][2]<l?a[1][2]=l:l=a[1][2],h&&(h.next=d,h[2]=a[2],n(h)),d&&(d.previous=h,d[0]=a[0],n(d))}t.forEach(r)}),t}function f(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[0]*r[1]-e[1]*r[0];return.5*o}function h(t){var e=t[0],n=t[1],i=t[2];return Math.abs((e[0]-i[0])*(n[1]-e[1])-(e[0]-n[0])*(i[1]-e[1]))}function d(t,e){return t[1][2]-e[1][2]}function p(){function t(t,e){for(;e>0;){var n=(e+1>>1)-1,r=i[n];if(d(t,r)>=0)break;i[r._=e]=r,i[t._=e=n]=t}}function e(t,e){for(;;){var n=e+1<<1,o=n-1,a=e,s=i[a];if(r>o&&d(i[o],s)<0&&(s=i[a=o]),r>n&&d(i[n],s)<0&&(s=i[a=n]),a===e)break;i[s._=e]=s,i[t._=e=a]=t}}var n={},i=[],r=0;return n.push=function(e){return t(i[e._=r]=e,r++),r},n.pop=function(){if(!(0>=r)){var t,n=i[0];return--r>0&&(t=i[r],e(i[t._=0]=t,0)),n}},n.remove=function(n){var o,a=n._;if(i[a]===n)return a!==--r&&(o=i[r],(d(o,n)<0?t:e)(i[o._=a]=o,a)),a},n}function g(t){if(!t)return v;var e,n,i=t.scale[0],r=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,s){s||(e=n=0),t[0]=(e+=t[0])*i+o,t[1]=(n+=t[1])*r+a}}function m(t){if(!t)return v;var e,n,i=t.scale[0],r=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,s){s||(e=n=0);var u=(t[0]-o)/i|0,l=(t[1]-a)/r|0;t[0]=u-e,t[1]=l-n,e=u,n=l}}function v(){}var y={version:"1.6.19",mesh:function(t){return a(t,e.apply(this,arguments))},meshArcs:e,merge:function(t){return a(t,i.apply(this,arguments))},mergeArcs:i,feature:r,neighbors:l,presimplify:c};"function"==typeof define&&define.amd?define(y):"object"==typeof module&&module.exports?module.exports=y:this.topojson=y}(),function(){"use strict";function t(t){return t instanceof RegExp}function e(t){return t&&t.window===t}function n(t){return t&&t.$evalAsync&&t.$watch}function i(r,o){if(r===o)return{isEqual:!0,unequalVariable:"",stringDiff:!1,o1:r,o2:o};if(null===r||null===o)return{isEqual:!1,unequalVariable:"",stringDiff:!1,o1:r,o2:o};if(r!==r&&o!==o)return{isEqual:!0,unequalVariable:"",stringDiff:!1,o1:r,o2:o};var a,s,c,f=typeof r,d=typeof o;if(f==d){if("string"==f&&r!=o)return{isEqual:!1,unequalVariable:"",stringDiff:!0,o1:r,o2:o};if("object"==f){if(!l(r)){if(h(r))return{isEqual:h(o)&&r.getTime()==o.getTime(),unequalVariable:"",stringDiff:!1,o1:r,o2:o};if(t(r)&&t(o))return{isEqual:r.toString()==o.toString(),unequalVariable:"",stringDiff:!1,o1:r,o2:o};if(n(r)||n(o)||e(r)||e(o)||l(o))return{isEqual:!1,unequalVariable:"",stringDiff:!1,o1:r,o2:o};c={};var p={isEqual:!0,unequalVariable:"",stringDiff:!1,o1:r,o2:o};for(s in r)if("$"!==s.charAt(0)&&!u(r[s])){var g=i(r[s],o[s]);if(!g.isEqual){if(g.unequalVariable="."+String(s)+g.unequalVariable,!g.stringDiff)return g;p=g}c[s]=!0}for(s in o)if(!c.hasOwnProperty(s)&&"$"!==s.charAt(0)&&void 0!==o[s]&&!u(o[s]))return{isEqual:!1,unequalVariable:"",stringDiff:!1,o1:r,o2:o};return p}if(!l(o))return{isEqual:!1,unequalVariable:"",stringDiff:!1,o1:r,o2:o};if((a=r.length)==o.length){var p={isEqual:!0,unequalVariable:"",stringDiff:!1,o1:r,o2:o};for(s=0;a>s;s++){var g=i(r[s],o[s]);if(!g.isEqual){if(g.unequalVariable="["+String(s)+"]"+g.unequalVariable,!g.stringDiff)return g;p=g}}return p}}}return{isEqual:!1,unequalVariable:"",stringDiff:!1,o1:r,o2:o}}function r(t,e){if(t&&e){var n,i;t.length>e.length?(i=t.split(""),n=e.split("")):(n=t.split(""),i=e.split(""));for(var r,o=0,a=[],s=0;s<n.length&&o<i.length;s++){for(r="";n[s]!=i[o]&&o<i.length;)r+=i[o],o++;r&&a.push(r),n[s]==i[o]&&o++}var u=s==n.length;if(o<i.length){for(r="";o<i.length;)r+=i[o],o++;a.push(r)}}else var u=!1,a=[];return{areSimilar:u,differences:a}}function o(t){var e=/\s/g;if(1!=t.length)return!1;for(var n in t[0])if(t[0][n].match(e))return!1;return!0}var a=15,s=(angular.isDefined,angular.isUndefined),u=angular.isFunction,l=angular.isArray,c=angular.isString,f=angular.isObject,h=angular.isDate,d=(angular.forEach,angular.copy),p=angular.bind;angular.module("Chronicle",[]).service("Chronicle",["$rootScope","$parse",function(t,e){this.record=function(t,e,n,i){var r=new h(t,e,n,i);return r};var h=function(t,i,r,o){if(!c(t))throw new Error("Watch variable that is not a string was passed to Chronicle.");if(this.watchVar=t,this.parsedWatchVar=e(t),s(this.parsedWatchVar(i)))throw new Error(t+", the watch variable passed to Chronicle, is not defined in the given scope.");if(s(i))throw new Error("Undefined scope passed to Chronicle.");if(n(i))this.isScope=!0;else{if(!f(i))throw new Error("Incorrect scope type passed to Chronicle.");this.isScope=!1}if(this.scope=i,this.stringHandling=r!==!0&&"true"!==r?!1:!0,this.parsedNoWatchVars=[],l(o))for(var a in o){if(!c(o[a]))throw new Error("Not all passed 'no watch' variables are in string format");if(this.parsedNoWatchVars.push(e(o[a])),s(this.parsedNoWatchVars[a](i)))throw new Error(o[a]+", a 'no watch' variable passed to Chronicle, is not defined in the given scope")}else if(c(o)){if(this.parsedNoWatchVars.push(e(o)),s(this.parsedNoWatchVars[0](i)))throw new Error(o+", the 'no watch' variable passed to Chronicle, is not defined in the given scope")}else if(!s(o))throw new Error("Incorect type for 'no watch' variables");this.archive=[],this.onAdjustFunctions=[],this.onRedoFunctions=[],this.onUndoFunctions=[],this.currArchivePos=null,this.addWatch()};h.prototype.addOnAdjustFunction=function(t){if(!u(t))throw new Error("Function added to run on adjustment is not a function");this.onAdjustFunctions.push(t)},h.prototype.removeOnAdjustFunction=function(t){this.onAdjustFunctions.splice(this.onAdjustFunctions.indexOf(t),1)},h.prototype.addOnUndoFunction=function(t){if(!u(t))throw new Error("Function added to run on undo is not a function");this.onUndoFunctions.push(t)},h.prototype.removeOnUndoFunction=function(t){this.onUndoFunctions.splice(this.onUndoFunctions.indexOf(t),1)},h.prototype.addOnRedoFunction=function(t){if(!u(t))throw new Error("Function added to run on redo is not a function");this.onRedoFunctions.push(t)},h.prototype.removeOnRedoFunction=function(t){this.onRedoFunctions.splice(this.onRedoFunctions.indexOf(t),1)},h.prototype.undo=function(){if(this.canUndo()){this.currArchivePos-=1,this.revert(this.currArchivePos);for(var t=0;t<this.onUndoFunctions.length;t++)this.onUndoFunctions[t]();return!0}return!1},h.prototype.redo=function(){if(this.canRedo()){this.currArchivePos+=1,this.revert(this.currArchivePos);for(var t=0;t<this.onRedoFunctions.length;t++)this.onRedoFunctions[t]();return!0}return!1},h.prototype.revert=function(t){this.parsedWatchVar.assign(this.scope,d(this.archive[t].watchVar));for(var e=0;e<this.parsedNoWatchVars.length;e++)this.parsedNoWatchVars[e].assign(this.scope,d(this.archive[t].noWatchVars[e]))},h.prototype.canRedo=function(){return this.currArchivePos<this.archive.length-1?!0:!1},h.prototype.canUndo=function(){return this.currArchivePos>0?!0:!1},h.prototype.addToArchive=function(){var t=!1;if(this.archive.length){var n=i(this.parsedWatchVar(this.scope),this.archive[this.currArchivePos].watchVar);if(!n.isEqual){t=!0;var s=e(this.watchVar+n.unequalVariable);if(this.stringHandling&&n.stringDiff){var u=!1,l=r(n.o1,n.o2);if(l.areSimilar&&this.archive[this.currArchivePos].parsedUnequalVariable==s){var u=o(l.differences);"string"!=typeof e("watchVar"+n.unequalVariable)(this.archive[this.currArchivePos-1])?u=!1:u&&Math.abs(e("watchVar"+n.unequalVariable)(this.archive[this.currArchivePos-1]).length-e("watchVar"+n.unequalVariable)(this.archive[this.currArchivePos]).length)>=a&&(u=!1)}}}}else t=!0;t&&this.newEntry(u,s)},h.prototype.newEntry=function(t,e){var n={};n.noWatchVars=[],n.parsedUnequalVariable=e,n.watchVar=d(this.parsedWatchVar(this.scope));for(var i=0;i<this.parsedNoWatchVars.length;i++)n.noWatchVars.push(d(this.parsedNoWatchVars[i](this.scope)));if(this.archive.length-1>this.currArchivePos){var r=this.archive.length-this.currArchivePos-1;this.archive.splice(this.currArchivePos+1,r)}for(t&&this.archive.splice(this.currArchivePos,1),this.archive.push(n),this.currArchivePos=this.archive.length-1,i=0;i<this.onAdjustFunctions.length;i++)this.onAdjustFunctions[i]()},h.prototype.addWatch=function(){var e=this;e.cancelWatch=e.isScope?e.scope.$watch(e.watchVar,function(){e.addToArchive.apply(e)},!0):t.$watch(p(e,function(){return e.parsedWatchVar(e.scope)}),function(){e.addToArchive.apply(e)},!0)}}])}(),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.jsondiffpatch=t()}}(function(){return function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){var i=t("./environment"),r=t("./diffpatcher").DiffPatcher;n.DiffPatcher=r,n.create=function(t){return new r(t)},n.dateReviver=t("./date-reviver");var o;if(n.diff=function(){return o||(o=new r),o.diff.apply(o,arguments)},n.patch=function(){return o||(o=new r),o.patch.apply(o,arguments)},n.unpatch=function(){return o||(o=new r),o.unpatch.apply(o,arguments)},n.reverse=function(){return o||(o=new r),o.reverse.apply(o,arguments)},i.isBrowser)n.homepage="https://github.com/benjamine/jsondiffpatch",n.version="0.1.32";else{var a="../package.json",s=t(a);n.homepage=s.homepage,n.version=s.version;var u="./formatters",l=t(u);n.formatters=l,n.console=l.console}},{"./date-reviver":6,"./diffpatcher":7,"./environment":8}],2:[function(t,e,n){var i=t("../pipe").Pipe,r=function(){};r.prototype.setResult=function(t){return this.result=t,this.hasResult=!0,this},r.prototype.exit=function(){return this.exiting=!0,this},r.prototype.switchTo=function(t,e){return"string"==typeof t||t instanceof i?this.nextPipe=t:(this.next=t,e&&(this.nextPipe=e)),this},r.prototype.push=function(t,e){return t.parent=this,"undefined"!=typeof e&&(t.childName=e),t.root=this.root||this,t.options=t.options||this.options,this.children?(this.children[this.children.length-1].next=t,this.children.push(t)):(this.children=[t],this.nextAfterChildren=this.next||null,this.next=t),t.next=this,this},n.Context=r},{"../pipe":15}],3:[function(t,e,n){var i=t("./context").Context,r=function(t,e){this.left=t,this.right=e,this.pipe="diff"};r.prototype=new i,n.DiffContext=r},{"./context":2}],4:[function(t,e,n){var i=t("./context").Context,r=function(t,e){this.left=t,this.delta=e,this.pipe="patch"};r.prototype=new i,n.PatchContext=r},{"./context":2}],5:[function(t,e,n){var i=t("./context").Context,r=function(t){this.delta=t,this.pipe="reverse"};r.prototype=new i,n.ReverseContext=r},{"./context":2}],6:[function(t,e){e.exports=function(t,e){var n;return"string"==typeof e&&(n=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d*))?(Z|([+\-])(\d{2}):(\d{2}))$/.exec(e))?new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],+n[6],+(n[7]||0))):e}},{}],7:[function(t,e,n){var i=t("./processor").Processor,r=t("./pipe").Pipe,o=t("./contexts/diff").DiffContext,a=t("./contexts/patch").PatchContext,s=t("./contexts/reverse").ReverseContext,u=t("./filters/trivial"),l=t("./filters/nested"),c=t("./filters/arrays"),f=t("./filters/dates"),h=t("./filters/texts"),d=function(t){this.processor=new i(t),this.processor.pipe(new r("diff").append(l.collectChildrenDiffFilter,u.diffFilter,f.diffFilter,h.diffFilter,l.objectsDiffFilter,c.diffFilter).shouldHaveResult()),this.processor.pipe(new r("patch").append(l.collectChildrenPatchFilter,c.collectChildrenPatchFilter,u.patchFilter,h.patchFilter,l.patchFilter,c.patchFilter).shouldHaveResult()),this.processor.pipe(new r("reverse").append(l.collectChildrenReverseFilter,c.collectChildrenReverseFilter,u.reverseFilter,h.reverseFilter,l.reverseFilter,c.reverseFilter).shouldHaveResult())};d.prototype.options=function(){return this.processor.options.apply(this.processor,arguments)},d.prototype.diff=function(t,e){return this.processor.process(new o(t,e))},d.prototype.patch=function(t,e){return this.processor.process(new a(t,e))},d.prototype.reverse=function(t){return this.processor.process(new s(t))},d.prototype.unpatch=function(t,e){return this.patch(t,this.reverse(e))},n.DiffPatcher=d},{"./contexts/diff":3,"./contexts/patch":4,"./contexts/reverse":5,"./filters/arrays":9,"./filters/dates":10,"./filters/nested":12,"./filters/texts":13,"./filters/trivial":14,"./pipe":15,"./processor":16}],8:[function(t,e,n){n.isBrowser="undefined"!=typeof window},{}],9:[function(t,e,n){function i(t,e,n,i){for(var r=0;n>r;r++)for(var o=t[r],a=0;i>a;a++){var s=e[a];if(o===s)return!0}}function r(t,e,n,i,r){var o=t[n],a=e[i];if(o===a)return!0;if("object"!=typeof o||"object"!=typeof a)return!1;var s=r.objectHash;if(!s)return r.matchByPosition&&n===i;var u,l;return"number"==typeof n?(r.hashCache1=r.hashCache1||[],u=r.hashCache1[n],"undefined"==typeof u&&(r.hashCache1[n]=u=s(o,n))):u=s(o),"undefined"==typeof u?!1:("number"==typeof i?(r.hashCache2=r.hashCache2||[],l=r.hashCache2[i],"undefined"==typeof l&&(r.hashCache2[i]=l=s(a,i))):l=s(a),"undefined"==typeof l?!1:u===l)}var o=t("../contexts/diff").DiffContext,a=t("../contexts/patch").PatchContext,s=t("../contexts/reverse").ReverseContext,u=t("./lcs"),l=3,c="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},f="function"==typeof Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=t.length,i=0;n>i;i++)if(t[i]===e)return i;return-1},h=function(t){if(t.leftIsArray){var e,n,a,s,c={objectHash:t.options&&t.options.objectHash,matchByPosition:t.options&&t.options.matchByPosition},h=0,d=0,p=t.left,g=t.right,m=p.length,v=g.length;for(m>0&&v>0&&!c.objectHash&&"boolean"!=typeof c.matchByPosition&&(c.matchByPosition=!i(p,g,m,v));m>h&&v>h&&r(p,g,h,h,c);)e=h,s=new o(t.left[e],t.right[e]),t.push(s,e),h++;for(;m>d+h&&v>d+h&&r(p,g,m-1-d,v-1-d,c);)n=m-1-d,a=v-1-d,s=new o(t.left[n],t.right[a]),t.push(s,a),d++;var y;if(h+d===m){if(m===v)return void t.setResult(void 0).exit();for(y=y||{_t:"a"},e=h;v-d>e;e++)y[e]=[g[e]];return void t.setResult(y).exit()}if(h+d===v){for(y=y||{_t:"a"},e=h;m-d>e;e++)y["_"+e]=[p[e],0,0];return void t.setResult(y).exit()}delete c.hashCache1,delete c.hashCache2;var b=p.slice(h,m-d),w=g.slice(h,v-d),_=u.get(b,w,r,c),x=[];for(y=y||{_t:"a"},e=h;m-d>e;e++)f(_.indices1,e-h)<0&&(y["_"+e]=[p[e],0,0],x.push(e));var $=!0;t.options&&t.options.arrays&&t.options.arrays.detectMove===!1&&($=!1);var C=!1;t.options&&t.options.arrays&&t.options.arrays.includeValueOnMove&&(C=!0);var E=x.length;for(e=h;v-d>e;e++){var k=f(_.indices2,e-h);if(0>k){var S=!1;if($&&E>0)for(var T=0;E>T;T++)if(n=x[T],r(b,w,n-h,e-h,c)){y["_"+n].splice(1,2,e,l),C||(y["_"+n][0]=""),a=e,s=new o(t.left[n],t.right[a]),t.push(s,a),x.splice(T,1),S=!0;break}S||(y[e]=[g[e]])}else n=_.indices1[k]+h,a=_.indices2[k]+h,s=new o(t.left[n],t.right[a]),t.push(s,a)}t.setResult(y).exit()}};h.filterName="arrays";var d={numerically:function(t,e){return t-e},numericallyBy:function(t){return function(e,n){return e[t]-n[t]}}},p=function(t){if(t.nested&&"a"===t.delta._t){var e,n,i=t.delta,r=t.left,o=[],s=[],u=[];for(e in i)if("_t"!==e)if("_"===e[0]){if(0!==i[e][2]&&i[e][2]!==l)throw new Error("only removal or move can be applied at original array indices, invalid diff type: "+i[e][2]);o.push(parseInt(e.slice(1),10))}else 1===i[e].length?s.push({index:parseInt(e,10),value:i[e][0]}):u.push({index:parseInt(e,10),delta:i[e]});for(o=o.sort(d.numerically),e=o.length-1;e>=0;e--){n=o[e];var c=i["_"+n],f=r.splice(n,1)[0];c[2]===l&&s.push({index:c[1],value:f})}s=s.sort(d.numericallyBy("index"));var h=s.length;for(e=0;h>e;e++){var p=s[e];r.splice(p.index,0,p.value)}var g,m=u.length;if(m>0)for(e=0;m>e;e++){var v=u[e];g=new a(t.left[v.index],v.delta),t.push(g,v.index)}return t.children?void t.exit():void t.setResult(t.left).exit()}};p.filterName="arrays";var g=function(t){if(t&&t.children&&"a"===t.delta._t){for(var e,n=t.children.length,i=0;n>i;i++)e=t.children[i],t.left[e.childName]=e.result;t.setResult(t.left).exit()}};g.filterName="arraysCollectChildren";var m=function(t){if(!t.nested)return void(t.delta[2]===l&&(t.newName="_"+t.delta[1],t.setResult([t.delta[0],parseInt(t.childName.substr(1),10),l]).exit()));if("a"===t.delta._t){var e,n;for(e in t.delta)"_t"!==e&&(n=new s(t.delta[e]),t.push(n,e));t.exit()}};m.filterName="arrays";var v=function(t,e,n){if("string"==typeof e&&"_"===e[0])return parseInt(e.substr(1),10);if(c(n)&&0===n[2])return"_"+e;var i=+e;for(var r in t){var o=t[r];if(c(o))if(o[2]===l){var a=parseInt(r.substr(1),10),s=o[1];if(s===+e)return a;i>=a&&s>i?i++:a>=i&&i>s&&i--}else if(0===o[2]){var u=parseInt(r.substr(1),10);i>=u&&i++}else 1===o.length&&i>=r&&i--}return i},y=function(t){if(t&&t.children&&"a"===t.delta._t){for(var e,n=t.children.length,i={_t:"a"},r=0;n>r;r++){e=t.children[r];var o=e.newName;"undefined"==typeof o&&(o=v(t.delta,e.childName,e.result)),i[o]!==e.result&&(i[o]=e.result)}t.setResult(i).exit()}};y.filterName="arraysCollectChildren",n.diffFilter=h,n.patchFilter=p,n.collectChildrenPatchFilter=g,n.reverseFilter=m,n.collectChildrenReverseFilter=y},{"../contexts/diff":3,"../contexts/patch":4,"../contexts/reverse":5,"./lcs":11}],10:[function(t,e,n){var i=function(t){t.left instanceof Date?(t.setResult(t.right instanceof Date?t.left.getTime()!==t.right.getTime()?[t.left,t.right]:void 0:[t.left,t.right]),t.exit()):t.right instanceof Date&&t.setResult([t.left,t.right]).exit()};i.filterName="dates",n.diffFilter=i},{}],11:[function(t,e,n){var i=function(t,e,n,i){return t[n]===e[i]},r=function(t,e,n,i){var r,o,a=t.length,s=e.length,u=[a+1];for(r=0;a+1>r;r++)for(u[r]=[s+1],o=0;s+1>o;o++)u[r][o]=0;for(u.match=n,r=1;a+1>r;r++)for(o=1;s+1>o;o++)u[r][o]=n(t,e,r-1,o-1,i)?u[r-1][o-1]+1:Math.max(u[r-1][o],u[r][o-1]);return u},o=function(t,e,n,i,r,a){if(0===i||0===r)return{sequence:[],indices1:[],indices2:[]};if(t.match(e,n,i-1,r-1,a)){var s=o(t,e,n,i-1,r-1,a);return s.sequence.push(e[i-1]),s.indices1.push(i-1),s.indices2.push(r-1),s}return t[i][r-1]>t[i-1][r]?o(t,e,n,i,r-1,a):o(t,e,n,i-1,r,a)
},a=function(t,e,n,a){a=a||{};var s=r(t,e,n||i,a),u=o(s,t,e,t.length,e.length,a);return"string"==typeof t&&"string"==typeof e&&(u.sequence=u.sequence.join("")),u};n.get=a},{}],12:[function(t,e,n){var i=t("../contexts/diff").DiffContext,r=t("../contexts/patch").PatchContext,o=t("../contexts/reverse").ReverseContext,a=function(t){if(t&&t.children){for(var e,n=t.children.length,i=t.result,r=0;n>r;r++)e=t.children[r],"undefined"!=typeof e.result&&(i=i||{},i[e.childName]=e.result);i&&t.leftIsArray&&(i._t="a"),t.setResult(i).exit()}};a.filterName="collectChildren";var s=function(t){if(!t.leftIsArray&&"object"===t.leftType){var e,n;for(e in t.left)n=new i(t.left[e],t.right[e]),t.push(n,e);for(e in t.right)"undefined"==typeof t.left[e]&&(n=new i(void 0,t.right[e]),t.push(n,e));return t.children&&0!==t.children.length?void t.exit():void t.setResult(void 0).exit()}};s.filterName="objects";var u=function(t){if(t.nested&&!t.delta._t){var e,n;for(e in t.delta)n=new r(t.left[e],t.delta[e]),t.push(n,e);t.exit()}};u.filterName="objects";var l=function(t){if(t&&t.children&&!t.delta._t){for(var e,n=t.children.length,i=0;n>i;i++)e=t.children[i],t.left.hasOwnProperty(e.childName)&&void 0===e.result?delete t.left[e.childName]:t.left[e.childName]!==e.result&&(t.left[e.childName]=e.result);t.setResult(t.left).exit()}};l.filterName="collectChildren";var c=function(t){if(t.nested&&!t.delta._t){var e,n;for(e in t.delta)n=new o(t.delta[e]),t.push(n,e);t.exit()}};c.filterName="objects";var f=function(t){if(t&&t.children&&!t.delta._t){for(var e,n=t.children.length,i={},r=0;n>r;r++)e=t.children[r],i[e.childName]!==e.result&&(i[e.childName]=e.result);t.setResult(i).exit()}};f.filterName="collectChildren",n.collectChildrenDiffFilter=a,n.objectsDiffFilter=s,n.patchFilter=u,n.collectChildrenPatchFilter=l,n.reverseFilter=c,n.collectChildrenReverseFilter=f},{"../contexts/diff":3,"../contexts/patch":4,"../contexts/reverse":5}],13:[function(t,e,n){var i=2,r=60,o=null,a=function(){if(!o){var e;if("undefined"!=typeof diff_match_patch)e="function"==typeof diff_match_patch?new diff_match_patch:new diff_match_patch.diff_match_patch;else if("function"==typeof t)try{var n="diff_match_patch_uncompressed",i=t("../../public/external/"+n);e=new i.diff_match_patch}catch(r){e=null}if(!e){var a=new Error("text diff_match_patch library not found");throw a.diff_match_patch_not_found=!0,a}o={diff:function(t,n){return e.patch_toText(e.patch_make(t,n))},patch:function(t,n){for(var i=e.patch_apply(e.patch_fromText(n),t),r=0;r<i[1].length;r++)if(!i[1][r]){var o=new Error("text patch failed");o.textPatchFailed=!0}return i[0]}}}return o},s=function(t){if("string"===t.leftType){var e=t.options&&t.options.textDiff&&t.options.textDiff.minLength||r;if(t.left.length<e||t.right.length<e)return void t.setResult([t.left,t.right]).exit();var n=a().diff;t.setResult([n(t.left,t.right),0,i]).exit()}};s.filterName="texts";var u=function(t){if(!t.nested&&t.delta[2]===i){var e=a().patch;t.setResult(e(t.left,t.delta[0])).exit()}};u.filterName="texts";var l=function(t){var e,n,i,r,o,a,s,u,l=null,c=/^@@ +\-(\d+),(\d+) +\+(\d+),(\d+) +@@$/;for(i=t.split("\n"),e=0,n=i.length;n>e;e++){r=i[e];var f=r.slice(0,1);"@"===f?(l=c.exec(r),a=e,s=null,u=null,i[a]="@@ -"+l[3]+","+l[4]+" +"+l[1]+","+l[2]+" @@"):"+"===f?(s=e,i[e]="-"+i[e].slice(1),"+"===i[e-1].slice(0,1)&&(o=i[e],i[e]=i[e-1],i[e-1]=o)):"-"===f&&(u=e,i[e]="+"+i[e].slice(1))}return i.join("\n")},c=function(t){t.nested||t.delta[2]===i&&t.setResult([l(t.delta[0]),0,i]).exit()};c.filterName="texts",n.diffFilter=s,n.patchFilter=u,n.reverseFilter=c},{}],14:[function(t,e,n){var i="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},r=function(t){if(t.left===t.right)return void t.setResult(void 0).exit();if("undefined"==typeof t.left){if("function"==typeof t.right)throw new Error("functions are not supported");return void t.setResult([t.right]).exit()}if("undefined"==typeof t.right)return void t.setResult([t.left,0,0]).exit();if("function"==typeof t.left||"function"==typeof t.right)throw new Error("functions are not supported");return t.leftType=null===t.left?"null":typeof t.left,t.rightType=null===t.right?"null":typeof t.right,t.leftType!==t.rightType?void t.setResult([t.left,t.right]).exit():"boolean"===t.leftType||"number"===t.leftType?void t.setResult([t.left,t.right]).exit():("object"===t.leftType&&(t.leftIsArray=i(t.left)),"object"===t.rightType&&(t.rightIsArray=i(t.right)),t.leftIsArray!==t.rightIsArray?void t.setResult([t.left,t.right]).exit():void 0)};r.filterName="trivial";var o=function(t){return"undefined"==typeof t.delta?void t.setResult(t.left).exit():(t.nested=!i(t.delta),t.nested?void 0:1===t.delta.length?void t.setResult(t.delta[0]).exit():2===t.delta.length?void t.setResult(t.delta[1]).exit():3===t.delta.length&&0===t.delta[2]?void t.setResult(void 0).exit():void 0)};o.filterName="trivial";var a=function(t){return"undefined"==typeof t.delta?void t.setResult(t.delta).exit():(t.nested=!i(t.delta),t.nested?void 0:1===t.delta.length?void t.setResult([t.delta[0],0,0]).exit():2===t.delta.length?void t.setResult([t.delta[1],t.delta[0]]).exit():3===t.delta.length&&0===t.delta[2]?void t.setResult([t.delta[0]]).exit():void 0)};a.filterName="trivial",n.diffFilter=r,n.patchFilter=o,n.reverseFilter=a},{}],15:[function(t,e,n){var i=function(t){this.name=t,this.filters=[]};i.prototype.process=function(t){if(!this.processor)throw new Error("add this pipe to a processor before using it");for(var e=this.debug,n=this.filters.length,i=t,r=0;n>r;r++){var o=this.filters[r];if(e&&this.log("filter: "+o.filterName),o(i),"object"==typeof i&&i.exiting){i.exiting=!1;break}}!i.next&&this.resultCheck&&this.resultCheck(i)},i.prototype.log=function(t){console.log("[jsondiffpatch] "+this.name+" pipe, "+t)},i.prototype.append=function(){return this.filters.push.apply(this.filters,arguments),this},i.prototype.prepend=function(){return this.filters.unshift.apply(this.filters,arguments),this},i.prototype.indexOf=function(t){if(!t)throw new Error("a filter name is required");for(var e=0;e<this.filters.length;e++){var n=this.filters[e];if(n.filterName===t)return e}throw new Error("filter not found: "+t)},i.prototype.list=function(){for(var t=[],e=0;e<this.filters.length;e++){var n=this.filters[e];t.push(n.filterName)}return t},i.prototype.after=function(t){var e=this.indexOf(t),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(e+1,0),Array.prototype.splice.apply(this.filters,n),this},i.prototype.before=function(t){var e=this.indexOf(t),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(e,0),Array.prototype.splice.apply(this.filters,n),this},i.prototype.clear=function(){return this.filters.length=0,this},i.prototype.shouldHaveResult=function(t){if(t===!1)return void(this.resultCheck=null);if(!this.resultCheck){var e=this;return this.resultCheck=function(t){if(!t.hasResult){console.log(t);var n=new Error(e.name+" failed");throw n.noResult=!0,n}},this}},n.Pipe=i},{}],16:[function(t,e,n){var i=function(t){this.selfOptions=t,this.pipes={}};i.prototype.options=function(t){return t&&(this.selfOptions=t),this.selfOptions},i.prototype.pipe=function(t,e){if("string"==typeof t){if("undefined"==typeof e)return this.pipes[t];this.pipes[t]=e}if(t&&t.name){if(e=t,e.processor===this)return e;this.pipes[e.name]=e}return e.processor=this,e},i.prototype.process=function(t,e){var n=t;n.options=this.options();for(var i,r,o=e||t.pipe||"default";o;)"undefined"!=typeof n.nextAfterChildren&&(n.next=n.nextAfterChildren,n.nextAfterChildren=null),"string"==typeof o&&(o=this.pipe(o)),o.process(n),r=n,i=o,o=null,n&&n.next&&(n=n.next,o=r.nextPipe||n.pipe||i);return n.hasResult?n.result:void 0},n.Processor=i},{}]},{},[1])(1)}),/*!
 * Angular Tooltips v0.1.13
 *
 * Released under the MIT license
 * www.opensource.org/licenses/MIT
 *
 * Brought to you by 720kb.net
 *
 * 2015-06-24
 */
!function(t){"use strict";t.module("720kb.tooltips",[]).directive("tooltips",["$window","$compile","$interpolate",function(e,n,i){var r=8,o=9,a=10,s="_720kb-tooltip-",u=i.startSymbol(),l=i.endSymbol();return{restrict:"A",scope:{},link:function(i,c,f){function h(){j&&$||($=!0,i.initTooltip(D)),N&&i.tooltipTryPosition(),i.showTooltip()}function d(){i.hideTooltip()}function p(){i.hideTooltip(),i.initTooltip(A)}var g,m,v,y,b,w,_,x,$=!1,C=t.element(c[0]),E=t.element(e.document.getElementsByTagName("body")[0]),k=f.tooltipTitle||f.title||"",S=f.tooltipContent||"",T=f.tooltipHtml||"",O=f.tooltipShowTrigger||"mouseover",M=f.tooltipHideTrigger||"mouseleave",A=f.tooltipSide||"top",D=A,I=f.tooltipSize||"medium",N="undefined"!=typeof f.tooltipTry&&null!==f.tooltipTry?i.$eval(f.tooltipTry):!0,P=f.tooltipClass||"",R=(f.tooltipSpeed||"medium").toLowerCase(),L=f.tooltipDelay||0,j="undefined"!=typeof f.tooltipLazy&&null!==f.tooltipLazy?i.$eval(f.tooltipLazy):!0,F="undefined"!=typeof f.tooltipCloseButton&&null!==f.tooltipCloseButton,H=f.tooltipCloseButton||"",z='<div class="_720kb-tooltip '+s+I+'">';F&&(z=z+'<span class="'+s+'close-button" ng-click="hideTooltip()"> '+H+" </span>"),z=z+'<div class="'+s+'title"> '+u+"title"+l+"</div>"+u+"content"+l+T+' <span class="'+s+'caret"></span></div>',i.title=k,i.content=S,i.html=T,i.parseSpeed=function(){switch(R){case"fast":R=100;break;case"medium":R=450;break;case"slow":R=800;break;default:R=Number(R)}},g=n(z)(i),g.addClass(P),E.append(g),i.isTooltipEmpty=function(){return i.title||i.content||i.html?void 0:!0},i.initTooltip=function(t){i.isTooltipEmpty()?g.css("visibility","hidden"):(g.css("visibility",""),b=C[0].offsetHeight,w=C[0].offsetWidth,_=i.getRootOffsetTop(C[0],0),x=i.getRootOffsetLeft(C[0],0),m=g[0].offsetHeight,v=g[0].offsetWidth,i.parseSpeed(),i.tooltipPositioning(t))},i.getRootOffsetTop=function(t,e){return null===t.offsetParent?e+t.offsetTop:i.getRootOffsetTop(t.offsetParent,e+t.offsetTop-t.scrollTop)},i.getRootOffsetLeft=function(t,e){return null===t.offsetParent?e+t.offsetLeft:i.getRootOffsetLeft(t.offsetParent,e+t.offsetLeft-t.scrollLeft)},i.bindShowTriggers=function(){C.bind(O,h)},i.bindHideTriggers=function(){C.bind(M,d)},i.clearTriggers=function(){C.unbind(O,h),C.unbind(M,d)},i.bindShowTriggers(),i.showTooltip=function(){g.addClass(s+"open"),g.css("transition","opacity "+R+"ms linear"),L&&g.css("transition-delay",L+"ms"),i.clearTriggers(),i.bindHideTriggers()},i.hideTooltip=function(){g.removeClass(s+"open"),g.css("transition",""),i.clearTriggers(),i.bindShowTriggers()},i.removePosition=function(){g.removeClass(s+"left").removeClass(s+"right").removeClass(s+"top").removeClass(s+"bottom ")},i.tooltipPositioning=function(t){i.removePosition();var e,n;"small"===I?y=r:"medium"===I?y=o:"large"===I&&(y=a),"left"===t&&(e=_+b/2-m/2,n=x-(v+y),g.css("top",e+"px"),g.css("left",n+"px"),g.addClass(s+"left")),"right"===t&&(e=_+b/2-m/2,n=x+w+y,g.css("top",e+"px"),g.css("left",n+"px"),g.addClass(s+"right")),"top"===t&&(e=_-y-m,n=x+w/2-v/2,g.css("top",e+"px"),g.css("left",n+"px"),g.addClass(s+"top")),"bottom"===t&&(e=_+b+y,n=x+w/2-v/2,g.css("top",e+"px"),g.css("left",n+"px"),g.addClass(s+"bottom"))},i.tooltipTryPosition=function(){var t=g[0].offsetHeight,n=g[0].offsetWidth,r=g[0].offsetTop,o=g[0].offsetLeft,a=e.outerWidth,s=e.outerHeight,u=a-(n+o),l=s-(t+r),c=C[0].offsetHeight,f=C[0].offsetWidth,h=C[0].offsetLeft,d=C[0].offsetTop,p=a-(h+f),m=s-(c+d),v={left:o,top:r,bottom:l,right:u},y={left:h,right:p,top:d,bottom:m},b=Object.keys(y).reduce(function(t,e){return y[t]>y[e]?t:e}),w=Object.keys(v).reduce(function(t,e){return v[t]<v[e]?t:e});A!==b&&v[w]<20&&(D=b,i.tooltipPositioning(D),i.initTooltip(b))},t.element(e).bind("resize",p),i.$on("$destroy",function(){t.element(e).unbind("resize",p),i.clearTriggers(),g.remove()}),f.tooltipTitle&&f.$observe("tooltipTitle",function(t){i.title=t,i.initTooltip(D)}),f.title&&f.$observe("title",function(t){i.title=t,i.initTooltip(D)}),f.tooltipContent&&f.$observe("tooltipContent",function(t){i.content=t,i.initTooltip(D)}),f.tooltipHtml&&f.$observe("tooltipHtml",function(t){i.html=t,i.initTooltip(D)})}}}])}(angular),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.ZSchema=t()}}(function(){return function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e){function n(){}var i=e.exports={};i.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.MutationObserver,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};var i=[];if(e){var r=document.createElement("div"),o=new MutationObserver(function(){var t=i.slice();i.length=0,t.forEach(function(t){t()})});return o.observe(r,{attributes:!0}),function(t){i.length||r.setAttribute("yes","no"),i.push(t)}}return n?(window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),i.length>0)){var n=i.shift();n()}},!0),function(t){i.push(t),window.postMessage("process-tick","*")}):function(t){setTimeout(t,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=n,i.addListener=n,i.once=n,i.off=n,i.removeListener=n,i.removeAllListeners=n,i.emit=n,i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")}},{}],2:[function(t,e){"use strict";e.exports={INVALID_TYPE:"Expected type {0} but found type {1}",INVALID_FORMAT:"Object didn't pass validation for format {0}: {1}",ENUM_MISMATCH:"No enum match for: {0}",ANY_OF_MISSING:"Data does not match any schemas from 'anyOf'",ONE_OF_MISSING:"Data does not match any schemas from 'oneOf'",ONE_OF_MULTIPLE:"Data is valid against more than one schema from 'oneOf'",NOT_PASSED:"Data matches schema from 'not'",ARRAY_LENGTH_SHORT:"Array is too short ({0}), minimum {1}",ARRAY_LENGTH_LONG:"Array is too long ({0}), maximum {1}",ARRAY_UNIQUE:"Array items are not unique (indexes {0} and {1})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",MULTIPLE_OF:"Value {0} is not a multiple of {1}",MINIMUM:"Value {0} is less than minimum {1}",MINIMUM_EXCLUSIVE:"Value {0} is equal or less than exclusive minimum {1}",MAXIMUM:"Value {0} is greater than maximum {1}",MAXIMUM_EXCLUSIVE:"Value {0} is equal or greater than exclusive maximum {1}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({0}), minimum {1}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({0}), maximum {1}",OBJECT_MISSING_REQUIRED_PROPERTY:"Missing required property: {0}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed: {0}",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {0} (due to key: {1})",MIN_LENGTH:"String is too short ({0} chars), minimum {1}",MAX_LENGTH:"String is too long ({0} chars), maximum {1}",PATTERN:"String does not match pattern {0}: {1}",KEYWORD_TYPE_EXPECTED:"Keyword '{0}' is expected to be of type '{1}'",KEYWORD_UNDEFINED_STRICT:"Keyword '{0}' must be defined in strict mode",KEYWORD_UNEXPECTED:"Keyword '{0}' is not expected to appear in the schema",KEYWORD_MUST_BE:"Keyword '{0}' must be {1}",KEYWORD_DEPENDENCY:"Keyword '{0}' requires keyword '{1}'",KEYWORD_PATTERN:"Keyword '{0}' is not a valid RegExp pattern: {1}",KEYWORD_VALUE_TYPE:"Each element of keyword '{0}' array must be a '{1}'",UNKNOWN_FORMAT:"There is no validation function for format '{0}'",CUSTOM_MODE_FORCE_PROPERTIES:"{0} must define at least one property if present",REF_UNRESOLVED:"Reference has not been resolved during compilation: {0}",UNRESOLVABLE_REFERENCE:"Reference could not be resolved: {0}",SCHEMA_NOT_REACHABLE:"Validator was not able to read schema with uri: {0}",SCHEMA_TYPE_EXPECTED:"Schema is expected to be of type 'object'",SCHEMA_NOT_AN_OBJECT:"Schema is not an object: {0}",ASYNC_TIMEOUT:"{0} asynchronous task(s) have timed out after {1} ms",PARENT_SCHEMA_VALIDATION_FAILED:"Schema failed to validate against its parent schema, see inner errors for details.",REMOTE_NOT_VALID:"Remote reference didn't compile successfully: {0}"}},{}],3:[function(t,e){var n={date:function(t){if("string"!=typeof t)return!0;var e=/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/.exec(t);return null===e?!1:e[2]<"01"||e[2]>"12"||e[3]<"01"||e[3]>"31"?!1:!0},"date-time":function(t){if("string"!=typeof t)return!0;var e=t.toLowerCase().split("t");if(!n.date(e[0]))return!1;var i=/^([0-9]{2}):([0-9]{2}):([0-9]{2})(.[0-9]+)?(z|([+-][0-9]{2}:[0-9]{2}))$/.exec(e[1]);return null===i?!1:i[1]>"23"||i[2]>"59"||i[3]>"59"?!1:!0},email:function(t){return"string"!=typeof t?!0:/^[a-zA-Z0-9+&*-]+(?:\.[a-zA-Z0-9_+&*-]+)*@(?:[a-zA-Z0-9-]+\.)+[a-zA-Z]{2,7}$/.test(t)},hostname:function(t){if("string"!=typeof t)return!0;var e=/^[a-zA-Z](([-0-9a-zA-Z]+)?[0-9a-zA-Z])?(\.[a-zA-Z](([-0-9a-zA-Z]+)?[0-9a-zA-Z])?)*$/.test(t);if(e){if(t.length>255)return!1;for(var n=t.split("."),i=0;i<n.length;i++)if(n[i].length>63)return!1}return e},"host-name":function(t){return n.hostname.call(this,t)},ipv4:function(t){return"string"!=typeof t?!0:-1===t.indexOf(".")?!1:/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(t)},ipv6:function(t){return"string"!=typeof t||/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/.test(t)},regex:function(t){try{return RegExp(t),!0}catch(e){return!1}},uri:function(t){return this.options.strictUris?n["strict-uri"].apply(this,arguments):"string"!=typeof t||RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?").test(t)},"strict-uri":function(t){return"string"!=typeof t||RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/[^\\s]*)?$","i").test(t)}};e.exports=n},{}],4:[function(t,e,n){"use strict";var i=t("./FormatValidators"),r=t("./Report"),o=t("./Utils"),a={multipleOf:function(t,e,n){"number"==typeof n&&"integer"!==o.whatIs(n/e.multipleOf)&&t.addError("MULTIPLE_OF",[n,e.multipleOf],null,e.description)},maximum:function(t,e,n){"number"==typeof n&&(e.exclusiveMaximum!==!0?n>e.maximum&&t.addError("MAXIMUM",[n,e.maximum],null,e.description):n>=e.maximum&&t.addError("MAXIMUM_EXCLUSIVE",[n,e.maximum],null,e.description))},exclusiveMaximum:function(){},minimum:function(t,e,n){"number"==typeof n&&(e.exclusiveMinimum!==!0?n<e.minimum&&t.addError("MINIMUM",[n,e.minimum],null,e.description):n<=e.minimum&&t.addError("MINIMUM_EXCLUSIVE",[n,e.minimum],null,e.description))},exclusiveMinimum:function(){},maxLength:function(t,e,n){"string"==typeof n&&o.ucs2decode(n).length>e.maxLength&&t.addError("MAX_LENGTH",[n.length,e.maxLength],null,e.description)},minLength:function(t,e,n){"string"==typeof n&&o.ucs2decode(n).length<e.minLength&&t.addError("MIN_LENGTH",[n.length,e.minLength],null,e.description)},pattern:function(t,e,n){"string"==typeof n&&RegExp(e.pattern).test(n)===!1&&t.addError("PATTERN",[e.pattern,n],null,e.description)},additionalItems:function(t,e,n){Array.isArray(n)&&e.additionalItems===!1&&Array.isArray(e.items)&&n.length>e.items.length&&t.addError("ARRAY_ADDITIONAL_ITEMS",null,null,e.description)},items:function(){},maxItems:function(t,e,n){Array.isArray(n)&&n.length>e.maxItems&&t.addError("ARRAY_LENGTH_LONG",[n.length,e.maxItems],null,e.description)},minItems:function(t,e,n){Array.isArray(n)&&n.length<e.minItems&&t.addError("ARRAY_LENGTH_SHORT",[n.length,e.minItems],null,e.description)},uniqueItems:function(t,e,n){if(Array.isArray(n)&&e.uniqueItems===!0){var i=[];o.isUniqueArray(n,i)===!1&&t.addError("ARRAY_UNIQUE",i,null,e.description)}},maxProperties:function(t,e,n){if("object"===o.whatIs(n)){var i=Object.keys(n).length;i>e.maxProperties&&t.addError("OBJECT_PROPERTIES_MAXIMUM",[i,e.maxProperties],null,e.description)}},minProperties:function(t,e,n){if("object"===o.whatIs(n)){var i=Object.keys(n).length;i<e.minProperties&&t.addError("OBJECT_PROPERTIES_MINIMUM",[i,e.minProperties],null,e.description)}},required:function(t,e,n){if("object"===o.whatIs(n))for(var i=e.required.length;i--;){var r=e.required[i];void 0===n[r]&&t.addError("OBJECT_MISSING_REQUIRED_PROPERTY",[r],null,e.description)}},additionalProperties:function(t,e,n){return void 0===e.properties&&void 0===e.patternProperties?a.properties.call(this,t,e,n):void 0},patternProperties:function(t,e,n){return void 0===e.properties?a.properties.call(this,t,e,n):void 0},properties:function(t,e,n){if("object"===o.whatIs(n)){var i=void 0!==e.properties?e.properties:{},r=void 0!==e.patternProperties?e.patternProperties:{};if(e.additionalProperties===!1){var a=Object.keys(n),s=Object.keys(i),u=Object.keys(r);a=o.difference(a,s);for(var l=u.length;l--;)for(var c=RegExp(u[l]),f=a.length;f--;)c.test(a[f])===!0&&a.splice(f,1);a.length>0&&t.addError("OBJECT_ADDITIONAL_PROPERTIES",[a],null,e.description)}}},dependencies:function(t,e,i){if("object"===o.whatIs(i))for(var r=Object.keys(e.dependencies),a=r.length;a--;){var s=r[a];if(i[s]){var u=e.dependencies[s];if("object"===o.whatIs(u))n.validate.call(this,t,u,i);else for(var l=u.length;l--;){var c=u[l];void 0===i[c]&&t.addError("OBJECT_DEPENDENCY_KEY",[c,s],null,e.description)}}}},"enum":function(t,e,n){for(var i=!1,r=e["enum"].length;r--;)if(o.areEqual(n,e["enum"][r])){i=!0;break}i===!1&&t.addError("ENUM_MISMATCH",[n],null,e.description)},allOf:function(t,e,i){for(var r=e.allOf.length;r--&&n.validate.call(this,t,e.allOf[r],i)!==!1;);},anyOf:function(t,e,i){for(var o=[],a=!1,s=e.anyOf.length;s--&&a===!1;){var u=new r(t);o.push(u),a=n.validate.call(this,u,e.anyOf[s],i)}a===!1&&t.addError("ANY_OF_MISSING",void 0,o,e.description)},oneOf:function(t,e,i){for(var o=0,a=[],s=e.oneOf.length;s--;){var u=new r(t);a.push(u),n.validate.call(this,u,e.oneOf[s],i)===!0&&o++}0===o?t.addError("ONE_OF_MISSING",void 0,a,e.description):o>1&&t.addError("ONE_OF_MULTIPLE",null,null,e.description)},not:function(t,e,i){var o=new r(t);n.validate.call(this,o,e.not,i)===!0&&t.addError("NOT_PASSED",null,null,e.description)},definitions:function(){},format:function(t,e,n){var r=i[e.format];"function"==typeof r?2===r.length?t.addAsyncTask(r,[n],function(i){i!==!0&&t.addError("INVALID_FORMAT",[e.format,n],null,e.description)}):r.call(this,n)!==!0&&t.addError("INVALID_FORMAT",[e.format,n],null,e.description):t.addError("UNKNOWN_FORMAT",[e.format],null,e.description)}},s=function(t,e,i){var r=i.length;if(Array.isArray(e.items))for(;r--;)r<e.items.length?(t.path.push(r.toString()),n.validate.call(this,t,e.items[r],i[r]),t.path.pop()):"object"==typeof e.additionalItems&&(t.path.push(r.toString()),n.validate.call(this,t,e.additionalItems,i[r]),t.path.pop());else if("object"==typeof e.items)for(;r--;)t.path.push(r.toString()),n.validate.call(this,t,e.items,i[r]),t.path.pop()},u=function(t,e,i){var r=e.additionalProperties;(r===!0||void 0===r)&&(r={});for(var o=e.properties?Object.keys(e.properties):[],a=e.patternProperties?Object.keys(e.patternProperties):[],s=Object.keys(i),u=s.length;u--;){var l=s[u],c=i[l],f=[];-1!==o.indexOf(l)&&f.push(e.properties[l]);for(var h=a.length;h--;){var d=a[h];RegExp(d).test(l)===!0&&f.push(e.patternProperties[d])}for(0===f.length&&r!==!1&&f.push(r),h=f.length;h--;)t.path.push(l),n.validate.call(this,t,f[h],c),t.path.pop()}};n.validate=function(t,e,n){t.commonErrorMessage="JSON_OBJECT_VALIDATION_FAILED";var i=o.whatIs(e);if("object"!==i)return t.addError("SCHEMA_NOT_AN_OBJECT",[i],null,e.description),!1;var r=Object.keys(e);if(0===r.length)return!0;var l=!1;if(t.rootSchema||(t.rootSchema=e,l=!0),void 0!==e.$ref){for(var c=99;e.$ref&&c>0;){if(!e.__$refResolved){t.addError("REF_UNRESOLVED",[e.$ref],null,e.description);break}if(e.__$refResolved===e)break;e=e.__$refResolved,r=Object.keys(e),c--}if(0===c)throw new Error("Circular dependency by $ref references!")}var f=o.whatIs(n);if(e.type)if("string"==typeof e.type){if(f!==e.type&&("integer"!==f||"number"!==e.type)&&(t.addError("INVALID_TYPE",[e.type,f],null,e.description),this.options.breakOnFirstError))return!1}else if(-1===e.type.indexOf(f)&&("integer"!==f||-1===e.type.indexOf("number"))&&(t.addError("INVALID_TYPE",[e.type,f],null,e.description),this.options.breakOnFirstError))return!1;for(var h=r.length;h--&&!(a[r[h]]&&(a[r[h]].call(this,t,e,n),t.errors.length&&this.options.breakOnFirstError)););return(0===t.errors.length||this.options.breakOnFirstError===!1)&&("array"===f?s.call(this,t,e,n):"object"===f&&u.call(this,t,e,n)),l&&(t.rootSchema=void 0),0===t.errors.length}},{"./FormatValidators":3,"./Report":6,"./Utils":10}],5:[function(){"function"!=typeof Number.isFinite&&(Number.isFinite=function(t){return"number"!=typeof t?!1:t!==t||1/0===t||t===-1/0?!1:!0})},{}],6:[function(t,e){(function(n){"use strict";function i(t){this.parentReport=t instanceof i?t:void 0,this.options=t instanceof i?t.options:t||{},this.errors=[],this.path=[],this.asyncTasks=[]}var r=t("./Errors"),o=t("./Utils");i.prototype.isValid=function(){if(this.asyncTasks.length>0)throw new Error("Async tasks pending, can't answer isValid");return 0===this.errors.length},i.prototype.addAsyncTask=function(t,e,n){this.asyncTasks.push([t,e,n])},i.prototype.processAsyncTasks=function(t,e){function i(){n.nextTick(function(){var t=0===l.errors.length,n=t?void 0:l.errors;e(n,t)})}function r(t){return function(e){u||(t(e),0===--a&&i())}}var o=t||2e3,a=this.asyncTasks.length,s=a,u=!1,l=this;if(0===a||this.errors.length>0)return void i();for(;s--;){var c=this.asyncTasks[s];c[0].apply(null,c[1].concat(r(c[2])))}setTimeout(function(){a>0&&(u=!0,l.addError("ASYNC_TIMEOUT",[a,o]),e(l.errors,!1))},o)},i.prototype.getPath=function(){var t=[];return this.parentReport&&(t=t.concat(this.parentReport.path)),t=t.concat(this.path),this.options.reportPathAsArray!==!0&&(t="#/"+t.map(function(t){return o.isAbsoluteUri(t)?"uri("+t+")":t.replace("~","~0").replace("/","~1")}).join("/")),t},i.prototype.addError=function(t,e,n,i){if(!t)throw new Error("No errorCode passed into addError()");if(!r[t])throw new Error("No errorMessage known for code "+t);e=e||[];for(var a=e.length,s=r[t];a--;){var u=o.whatIs(e[a]),l="object"===u||"null"===u?JSON.stringify(e[a]):e[a];s=s.replace("{"+a+"}",l)}var c={code:t,params:e,message:s,path:this.getPath()};if(i&&(c.description=i),null!=n){for(Array.isArray(n)||(n=[n]),c.inner=[],a=n.length;a--;)for(var f=n[a],h=f.errors.length;h--;)c.inner.push(f.errors[h]);0===c.inner.length&&(c.inner=void 0)}this.errors.push(c)},e.exports=i}).call(this,t("_process"))},{"./Errors":2,"./Utils":10,_process:1}],7:[function(t,e,n){"use strict";function i(t){return decodeURIComponent(t).replace(/~[0-1]/g,function(t){return"~1"===t?"/":"~"})}function r(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function o(t){var e=t.indexOf("#"),n=-1===e?void 0:t.slice(e+1);return n}function a(t,e){if("object"==typeof t&&null!==t){if(!e)return t;if(t.id&&(t.id===e||"#"===t.id[0]&&t.id.substring(1)===e))return t;var n,i;if(Array.isArray(t)){for(n=t.length;n--;)if(i=a(t[n],e))return i}else{var r=Object.keys(t);for(n=r.length;n--;){var o=r[n];if(0!==o.indexOf("__$")&&(i=a(t[o],e)))return i}}}}var s=t("./Report"),u=t("./SchemaCompilation"),l=t("./SchemaValidation"),c=t("./Utils");n.cacheSchemaByUri=function(t,e){var n=r(t);n&&(this.cache[n]=e)},n.removeFromCacheByUri=function(t){var e=r(t);e&&(this.cache[e]=void 0)},n.checkCacheForUri=function(t){var e=r(t);return e?null!=this.cache[e]:!1},n.getSchemaByReference=function(t){for(var e=this.referenceCache.length;e--;)if(this.referenceCache[e][0]===t)return this.referenceCache[e][1];var n=c.cloneDeep(t);return this.referenceCache.push([t,n]),n},n.getSchemaByUri=function(t,e,n){var c=r(e),f=o(e),h=c?this.cache[c]:n;if(h&&c){var d=h!==n;if(d){t.path.push(c);var p=new s(t);u.compileSchema.call(this,p,h)&&l.validateSchema.call(this,p,h);var g=p.isValid();if(g||t.addError("REMOTE_NOT_VALID",[e],p),t.path.pop(),!g)return void 0}}if(h&&f)for(var m=f.split("/"),v=0,y=m.length;y>v;v++){var b=i(m[v]);h=0===v?a(h,b):h[b]}return h},n.getRemotePath=r},{"./Report":6,"./SchemaCompilation":8,"./SchemaValidation":9,"./Utils":10}],8:[function(t,e,n){"use strict";function i(t,e){if(u.isAbsoluteUri(e))return e;var n,i=t.join(""),r=u.isAbsoluteUri(i),o=u.isRelativeUri(i),a=u.isRelativeUri(e);r&&a?(n=i.match(/\/[^\/]*$/),n&&(i=i.slice(0,n.index+1))):o&&a?i="":(n=i.match(/[^#/]+$/),n&&(i=i.slice(0,n.index)));var s=i+e;return s=s.replace(/##/,"#")}function r(t,e,n,o){if(e=e||[],n=n||[],o=o||[],"object"!=typeof t||null===t)return e;"string"==typeof t.id&&n.push(t.id),"string"==typeof t.$ref&&"undefined"==typeof t.__$refResolved&&e.push({ref:i(n,t.$ref),key:"$ref",obj:t,path:o.slice(0)}),"string"==typeof t.$schema&&"undefined"==typeof t.__$schemaResolved&&e.push({ref:i(n,t.$schema),key:"$schema",obj:t,path:o.slice(0)});var a;if(Array.isArray(t))for(a=t.length;a--;)o.push(a.toString()),r(t[a],e,n,o),o.pop();else{var s=Object.keys(t);for(a=s.length;a--;)0!==s[a].indexOf("__$")&&(o.push(s[a]),r(t[s[a]],e,n,o),o.pop())}return"string"==typeof t.id&&n.pop(),e}function o(t,e){for(var n=t.length;n--;)if(t[n].id===e)return t[n];return null}var a=t("./Report"),s=t("./SchemaCache"),u=t("./Utils"),l=function(t,e){for(var i=e.length,r=0;i--;){var o=new a(t),s=n.compileSchema.call(this,o,e[i]);s&&r++,t.errors=t.errors.concat(o.errors)}return r},c=function(t,e){var n,i=0;do{for(var r=t.errors.length;r--;)"UNRESOLVABLE_REFERENCE"===t.errors[r].code&&t.errors.splice(r,1);for(n=i,i=l.call(this,t,e),r=e.length;r--;){var a=e[r];if(a.__$missingReferences){for(var s=a.__$missingReferences.length;s--;){var u=a.__$missingReferences[s],c=o(e,u.ref);c&&(u.obj["__"+u.key+"Resolved"]=c,a.__$missingReferences.splice(s,1))}0===a.__$missingReferences.length&&delete a.__$missingReferences}}}while(i!==e.length&&i!==n);return t.isValid()};n.compileSchema=function(t,e){if(t.commonErrorMessage="SCHEMA_COMPILATION_FAILED","string"==typeof e){var n=s.getSchemaByUri.call(this,t,e);if(!n)return t.addError("SCHEMA_NOT_REACHABLE",[e]),!1;e=n}if(Array.isArray(e))return c.call(this,t,e);if(e.__$compiled&&e.id&&s.checkCacheForUri.call(this,e.id)===!1&&(e.__$compiled=void 0),e.__$compiled)return!0;e.id&&s.cacheSchemaByUri.call(this,e.id,e);var i=t.isValid();delete e.__$missingReferences;for(var o=r.call(this,e),a=o.length;a--;){var l=o[a],f=s.getSchemaByUri.call(this,t,l.ref,e);if(!f){var h=u.isAbsoluteUri(l.ref),d=!1,p=this.options.ignoreUnresolvableReferences===!0;h&&(d=s.checkCacheForUri.call(this,l.ref)),h&&(d||p)||(Array.prototype.push.apply(t.path,l.path),t.addError("UNRESOLVABLE_REFERENCE",[l.ref]),t.path.slice(0,-l.path.length),i&&(e.__$missingReferences=e.__$missingReferences||[],e.__$missingReferences.push(l)))}l.obj["__"+l.key+"Resolved"]=f}var g=t.isValid();return g?e.__$compiled=!0:e.id&&s.removeFromCacheByUri.call(this,e.id),g}},{"./Report":6,"./SchemaCache":7,"./Utils":10}],9:[function(t,e,n){"use strict";var i=t("./FormatValidators"),r=t("./JsonValidation"),o=t("./Report"),a=t("./Utils"),s={$ref:function(t,e){"string"!=typeof e.$ref&&t.addError("KEYWORD_TYPE_EXPECTED",["$ref","string"])},$schema:function(t,e){"string"!=typeof e.$schema&&t.addError("KEYWORD_TYPE_EXPECTED",["$schema","string"])},multipleOf:function(t,e){"number"!=typeof e.multipleOf?t.addError("KEYWORD_TYPE_EXPECTED",["multipleOf","number"]):e.multipleOf<=0&&t.addError("KEYWORD_MUST_BE",["multipleOf","strictly greater than 0"])},maximum:function(t,e){"number"!=typeof e.maximum&&t.addError("KEYWORD_TYPE_EXPECTED",["maximum","number"])},exclusiveMaximum:function(t,e){"boolean"!=typeof e.exclusiveMaximum?t.addError("KEYWORD_TYPE_EXPECTED",["exclusiveMaximum","boolean"]):void 0===e.maximum&&t.addError("KEYWORD_DEPENDENCY",["exclusiveMaximum","maximum"])},minimum:function(t,e){"number"!=typeof e.minimum&&t.addError("KEYWORD_TYPE_EXPECTED",["minimum","number"])},exclusiveMinimum:function(t,e){"boolean"!=typeof e.exclusiveMinimum?t.addError("KEYWORD_TYPE_EXPECTED",["exclusiveMinimum","boolean"]):void 0===e.minimum&&t.addError("KEYWORD_DEPENDENCY",["exclusiveMinimum","minimum"])},maxLength:function(t,e){"integer"!==a.whatIs(e.maxLength)?t.addError("KEYWORD_TYPE_EXPECTED",["maxLength","integer"]):e.maxLength<0&&t.addError("KEYWORD_MUST_BE",["maxLength","greater than, or equal to 0"])},minLength:function(t,e){"integer"!==a.whatIs(e.minLength)?t.addError("KEYWORD_TYPE_EXPECTED",["minLength","integer"]):e.minLength<0&&t.addError("KEYWORD_MUST_BE",["minLength","greater than, or equal to 0"])},pattern:function(t,e){if("string"!=typeof e.pattern)t.addError("KEYWORD_TYPE_EXPECTED",["pattern","string"]);else try{RegExp(e.pattern)}catch(n){t.addError("KEYWORD_PATTERN",["pattern",e.pattern])}},additionalItems:function(t,e){var i=a.whatIs(e.additionalItems);"boolean"!==i&&"object"!==i?t.addError("KEYWORD_TYPE_EXPECTED",["additionalItems",["boolean","object"]]):"object"===i&&(t.path.push("additionalItems"),n.validateSchema.call(this,t,e.additionalItems),t.path.pop())},items:function(t,e){var i=a.whatIs(e.items);if("object"===i)t.path.push("items"),n.validateSchema.call(this,t,e.items),t.path.pop();else if("array"===i)for(var r=e.items.length;r--;)t.path.push("items"),t.path.push(r.toString()),n.validateSchema.call(this,t,e.items[r]),t.path.pop(),t.path.pop();else t.addError("KEYWORD_TYPE_EXPECTED",["items",["array","object"]]);this.options.forceAdditional===!0&&void 0===e.additionalItems&&Array.isArray(e.items)&&t.addError("KEYWORD_UNDEFINED_STRICT",["additionalItems"]),this.options.assumeAdditional===!0&&void 0===e.additionalItems&&Array.isArray(e.items)&&(e.additionalItems=!1)},maxItems:function(t,e){"number"!=typeof e.maxItems?t.addError("KEYWORD_TYPE_EXPECTED",["maxItems","integer"]):e.maxItems<0&&t.addError("KEYWORD_MUST_BE",["maxItems","greater than, or equal to 0"])},minItems:function(t,e){"integer"!==a.whatIs(e.minItems)?t.addError("KEYWORD_TYPE_EXPECTED",["minItems","integer"]):e.minItems<0&&t.addError("KEYWORD_MUST_BE",["minItems","greater than, or equal to 0"])},uniqueItems:function(t,e){"boolean"!=typeof e.uniqueItems&&t.addError("KEYWORD_TYPE_EXPECTED",["uniqueItems","boolean"])},maxProperties:function(t,e){"integer"!==a.whatIs(e.maxProperties)?t.addError("KEYWORD_TYPE_EXPECTED",["maxProperties","integer"]):e.maxProperties<0&&t.addError("KEYWORD_MUST_BE",["maxProperties","greater than, or equal to 0"])},minProperties:function(t,e){"integer"!==a.whatIs(e.minProperties)?t.addError("KEYWORD_TYPE_EXPECTED",["minProperties","integer"]):e.minProperties<0&&t.addError("KEYWORD_MUST_BE",["minProperties","greater than, or equal to 0"])},required:function(t,e){if("array"!==a.whatIs(e.required))t.addError("KEYWORD_TYPE_EXPECTED",["required","array"]);else if(0===e.required.length)t.addError("KEYWORD_MUST_BE",["required","an array with at least one element"]);else{for(var n=e.required.length;n--;)"string"!=typeof e.required[n]&&t.addError("KEYWORD_VALUE_TYPE",["required","string"]);a.isUniqueArray(e.required)===!1&&t.addError("KEYWORD_MUST_BE",["required","an array with unique items"])}},additionalProperties:function(t,e){var i=a.whatIs(e.additionalProperties);"boolean"!==i&&"object"!==i?t.addError("KEYWORD_TYPE_EXPECTED",["additionalProperties",["boolean","object"]]):"object"===i&&(t.path.push("additionalProperties"),n.validateSchema.call(this,t,e.additionalProperties),t.path.pop())},properties:function(t,e){if("object"!==a.whatIs(e.properties))return void t.addError("KEYWORD_TYPE_EXPECTED",["properties","object"]);for(var i=Object.keys(e.properties),r=i.length;r--;){var o=i[r],s=e.properties[o];t.path.push("properties"),t.path.push(o),n.validateSchema.call(this,t,s),t.path.pop(),t.path.pop()}this.options.forceAdditional===!0&&void 0===e.additionalProperties&&t.addError("KEYWORD_UNDEFINED_STRICT",["additionalProperties"]),this.options.assumeAdditional===!0&&void 0===e.additionalProperties&&(e.additionalProperties=!1),this.options.forceProperties===!0&&0===i.length&&t.addError("CUSTOM_MODE_FORCE_PROPERTIES",["properties"])},patternProperties:function(t,e){if("object"!==a.whatIs(e.patternProperties))return void t.addError("KEYWORD_TYPE_EXPECTED",["patternProperties","object"]);for(var i=Object.keys(e.patternProperties),r=i.length;r--;){var o=i[r],s=e.patternProperties[o];try{RegExp(o)}catch(u){t.addError("KEYWORD_PATTERN",["patternProperties",o])}t.path.push("patternProperties"),t.path.push(o.toString()),n.validateSchema.call(this,t,s),t.path.pop(),t.path.pop()}this.options.forceProperties===!0&&0===i.length&&t.addError("CUSTOM_MODE_FORCE_PROPERTIES",["patternProperties"])},dependencies:function(t,e){if("object"!==a.whatIs(e.dependencies))t.addError("KEYWORD_TYPE_EXPECTED",["dependencies","object"]);else for(var i=Object.keys(e.dependencies),r=i.length;r--;){var o=i[r],s=e.dependencies[o],u=a.whatIs(s);if("object"===u)t.path.push("dependencies"),t.path.push(o),n.validateSchema.call(this,t,s),t.path.pop(),t.path.pop();else if("array"===u){var l=s.length;for(0===l&&t.addError("KEYWORD_MUST_BE",["dependencies","not empty array"]);l--;)"string"!=typeof s[l]&&t.addError("KEYWORD_VALUE_TYPE",["dependensices","string"]);a.isUniqueArray(s)===!1&&t.addError("KEYWORD_MUST_BE",["dependencies","an array with unique items"])}else t.addError("KEYWORD_VALUE_TYPE",["dependencies","object or array"])}},"enum":function(t,e){Array.isArray(e["enum"])===!1?t.addError("KEYWORD_TYPE_EXPECTED",["enum","array"]):0===e["enum"].length?t.addError("KEYWORD_MUST_BE",["enum","an array with at least one element"]):a.isUniqueArray(e["enum"])===!1&&t.addError("KEYWORD_MUST_BE",["enum","an array with unique elements"])},type:function(t,e){var n=["array","boolean","integer","number","null","object","string"],i=n.join(","),r=Array.isArray(e.type);if(r){for(var o=e.type.length;o--;)-1===n.indexOf(e.type[o])&&t.addError("KEYWORD_TYPE_EXPECTED",["type",i]);a.isUniqueArray(e.type)===!1&&t.addError("KEYWORD_MUST_BE",["type","an object with unique properties"])}else"string"==typeof e.type?-1===n.indexOf(e.type)&&t.addError("KEYWORD_TYPE_EXPECTED",["type",i]):t.addError("KEYWORD_TYPE_EXPECTED",["type",["string","array"]]);
this.options.noEmptyStrings===!0&&("string"===e.type||r&&-1!==e.type.indexOf("string"))&&void 0===e.minLength&&(e.minLength=1),this.options.noEmptyArrays===!0&&("array"===e.type||r&&-1!==e.type.indexOf("array"))&&void 0===e.minItems&&(e.minItems=1),this.options.forceProperties===!0&&("object"===e.type||r&&-1!==e.type.indexOf("object"))&&void 0===e.properties&&void 0===e.patternProperties&&t.addError("KEYWORD_UNDEFINED_STRICT",["properties"]),this.options.forceItems===!0&&("array"===e.type||r&&-1!==e.type.indexOf("array"))&&void 0===e.items&&t.addError("KEYWORD_UNDEFINED_STRICT",["items"]),this.options.forceMaxLength===!0&&("string"===e.type||r&&-1!==e.type.indexOf("string"))&&void 0===e.maxLength&&void 0===e.format&&void 0===e["enum"]&&t.addError("KEYWORD_UNDEFINED_STRICT",["maxLength"])},allOf:function(t,e){if(Array.isArray(e.allOf)===!1)t.addError("KEYWORD_TYPE_EXPECTED",["allOf","array"]);else if(0===e.allOf.length)t.addError("KEYWORD_MUST_BE",["allOf","an array with at least one element"]);else for(var i=e.allOf.length;i--;)t.path.push("allOf"),t.path.push(i.toString()),n.validateSchema.call(this,t,e.allOf[i]),t.path.pop(),t.path.pop()},anyOf:function(t,e){if(Array.isArray(e.anyOf)===!1)t.addError("KEYWORD_TYPE_EXPECTED",["anyOf","array"]);else if(0===e.anyOf.length)t.addError("KEYWORD_MUST_BE",["anyOf","an array with at least one element"]);else for(var i=e.anyOf.length;i--;)t.path.push("anyOf"),t.path.push(i.toString()),n.validateSchema.call(this,t,e.anyOf[i]),t.path.pop(),t.path.pop()},oneOf:function(t,e){if(Array.isArray(e.oneOf)===!1)t.addError("KEYWORD_TYPE_EXPECTED",["oneOf","array"]);else if(0===e.oneOf.length)t.addError("KEYWORD_MUST_BE",["oneOf","an array with at least one element"]);else for(var i=e.oneOf.length;i--;)t.path.push("oneOf"),t.path.push(i.toString()),n.validateSchema.call(this,t,e.oneOf[i]),t.path.pop(),t.path.pop()},not:function(t,e){"object"!==a.whatIs(e.not)?t.addError("KEYWORD_TYPE_EXPECTED",["not","object"]):(t.path.push("not"),n.validateSchema.call(this,t,e.not),t.path.pop())},definitions:function(t,e){if("object"!==a.whatIs(e.definitions))t.addError("KEYWORD_TYPE_EXPECTED",["definitions","object"]);else for(var i=Object.keys(e.definitions),r=i.length;r--;){var o=i[r],s=e.definitions[o];t.path.push("definitions"),t.path.push(o),n.validateSchema.call(this,t,s),t.path.pop(),t.path.pop()}},format:function(t,e){"string"!=typeof e.format?t.addError("KEYWORD_TYPE_EXPECTED",["format","string"]):void 0===i[e.format]&&t.addError("UNKNOWN_FORMAT",[e.format])},id:function(t,e){"string"!=typeof e.id&&t.addError("KEYWORD_TYPE_EXPECTED",["id","string"])},title:function(t,e){"string"!=typeof e.title&&t.addError("KEYWORD_TYPE_EXPECTED",["title","string"])},description:function(t,e){"string"!=typeof e.description&&t.addError("KEYWORD_TYPE_EXPECTED",["description","string"])},"default":function(){}},u=function(t,e){for(var i=e.length;i--;)n.validateSchema.call(this,t,e[i]);return t.isValid()};n.validateSchema=function(t,e){if(t.commonErrorMessage="SCHEMA_VALIDATION_FAILED",Array.isArray(e))return u.call(this,t,e);if(e.__$validated)return!0;var n=e.$schema&&e.id!==e.$schema;if(n)if(e.__$schemaResolved&&e.__$schemaResolved!==e){var i=new o(t),a=r.validate.call(this,i,e.__$schemaResolved,e);a===!1&&t.addError("PARENT_SCHEMA_VALIDATION_FAILED",null,i)}else this.options.ignoreUnresolvableReferences!==!0&&t.addError("REF_UNRESOLVED",[e.$schema]);if(this.options.noTypeless===!0){if(void 0!==e.type){var l=[];Array.isArray(e.anyOf)&&(l=l.concat(e.anyOf)),Array.isArray(e.oneOf)&&(l=l.concat(e.oneOf)),Array.isArray(e.allOf)&&(l=l.concat(e.allOf)),l.forEach(function(t){t.type||(t.type=e.type)})}void 0===e.type&&void 0===e.anyOf&&void 0===e.oneOf&&void 0===e.not&&void 0===e.$ref&&t.addError("KEYWORD_UNDEFINED_STRICT",["type"])}for(var c=Object.keys(e),f=c.length;f--;){var h=c[f];0!==h.indexOf("__")&&(void 0!==s[h]?s[h].call(this,t,e):n||this.options.noExtraKeywords===!0&&t.addError("KEYWORD_UNEXPECTED",[h]))}var d=t.isValid();return d&&(e.__$validated=!0),d}},{"./FormatValidators":3,"./JsonValidation":4,"./Report":6,"./Utils":10}],10:[function(t,e,n){"use strict";n.isAbsoluteUri=function(t){return/^https?:\/\//.test(t)},n.isRelativeUri=function(t){return/.+#/.test(t)},n.whatIs=function(t){var e=typeof t;return"object"===e?null===t?"null":Array.isArray(t)?"array":"object":"number"===e?Number.isFinite(t)?t%1===0?"integer":"number":Number.isNaN(t)?"not-a-number":"unknown-number":e},n.areEqual=function i(t,e){if(t===e)return!0;var r,o;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(o=t.length,r=0;o>r;r++)if(!i(t[r],e[r]))return!1;return!0}if("object"===n.whatIs(t)&&"object"===n.whatIs(e)){var a=Object.keys(t),s=Object.keys(e);if(!i(a,s))return!1;for(o=a.length,r=0;o>r;r++)if(!i(t[a[r]],e[a[r]]))return!1;return!0}return!1},n.isUniqueArray=function(t,e){var i,r,o=t.length;for(i=0;o>i;i++)for(r=i+1;o>r;r++)if(n.areEqual(t[i],t[r]))return e&&e.push(i,r),!1;return!0},n.difference=function(t,e){for(var n=[],i=t.length;i--;)-1===e.indexOf(t[i])&&n.push(t[i]);return n},n.clone=function(t){if("object"!=typeof t||null===t)return t;var e,n;if(Array.isArray(t))for(e=[],n=t.length;n--;)e[n]=t[n];else{e={};var i=Object.keys(t);for(n=i.length;n--;){var r=i[n];e[r]=t[r]}}return e},n.cloneDeep=function r(t){if("object"!=typeof t||null===t)return t;var e,n;if(Array.isArray(t))for(e=[],n=t.length;n--;)e[n]=r(t[n]);else{e={};var i=Object.keys(t);for(n=i.length;n--;){var o=i[n];e[o]=r(t[o])}}return e},n.ucs2decode=function(t){for(var e,n,i=[],r=0,o=t.length;o>r;)e=t.charCodeAt(r++),e>=55296&&56319>=e&&o>r?(n=t.charCodeAt(r++),56320==(64512&n)?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),r--)):i.push(e);return i}},{}],11:[function(t,e){"use strict";function n(t){if(this.cache={},this.referenceCache=[],"object"==typeof t){for(var e=Object.keys(t),n=e.length;n--;){var i=e[n];if(void 0===c[i])throw new Error("Unexpected option passed to constructor: "+i)}this.options=t}else this.options=l.clone(c);this.options.strictMode===!0&&(this.options.forceAdditional=!0,this.options.forceItems=!0,this.options.forceMaxLength=!0,this.options.forceProperties=!0,this.options.noExtraKeywords=!0,this.options.noTypeless=!0,this.options.noEmptyStrings=!0,this.options.noEmptyArrays=!0)}t("./Polyfills");var i=t("./Report"),r=t("./FormatValidators"),o=t("./JsonValidation"),a=t("./SchemaCache"),s=t("./SchemaCompilation"),u=t("./SchemaValidation"),l=t("./Utils"),c={asyncTimeout:2e3,forceAdditional:!1,assumeAdditional:!1,forceItems:!1,forceMaxLength:!1,forceProperties:!1,ignoreUnresolvableReferences:!1,noExtraKeywords:!1,noTypeless:!1,noEmptyStrings:!1,noEmptyArrays:!1,strictUris:!1,strictMode:!1,reportPathAsArray:!1,breakOnFirstError:!0};n.prototype.compileSchema=function(t){var e=new i(this.options);return"object"==typeof t&&(t=a.getSchemaByReference.call(this,t)),"string"==typeof t&&(t=a.getSchemaByUri.call(this,e,t)),s.compileSchema.call(this,e,t),this.lastReport=e,e.isValid()},n.prototype.validateSchema=function(t){var e=new i(this.options);"object"==typeof t&&(t=a.getSchemaByReference.call(this,t)),"string"==typeof t&&(t=a.getSchemaByUri.call(this,e,t));var n=s.compileSchema.call(this,e,t);return n&&u.validateSchema.call(this,e,t),this.lastReport=e,e.isValid()},n.prototype.validate=function(t,e,n){var r=new i(this.options);"object"==typeof e&&(e=a.getSchemaByReference.call(this,e)),"string"==typeof e&&(e=a.getSchemaByUri.call(this,r,e));var l=s.compileSchema.call(this,r,e);if(!l)return this.lastReport=r,!1;var c=u.validateSchema.call(this,r,e);if(!c)return this.lastReport=r,!1;if(o.validate.call(this,r,e,t),n)return void r.processAsyncTasks(this.options.asyncTimeout,n);if(r.asyncTasks.length>0)throw new Error("This validation has async tasks and cannot be done in sync mode, please provide callback argument.");return this.lastReport=r,r.isValid()},n.prototype.getLastError=function(){if(0===this.lastReport.errors.length)return null;var t=new Error;return t.name="z-schema validation error",t.message=this.lastReport.commonErrorMessage,t.details=this.lastReport.errors,t},n.prototype.getLastErrors=function(){return this.lastReport.errors.length>0?this.lastReport.errors:void 0},n.prototype.getMissingReferences=function(){for(var t=[],e=this.lastReport.errors.length;e--;){var n=this.lastReport.errors[e];if("UNRESOLVABLE_REFERENCE"===n.code){var i=n.params[0];-1===t.indexOf(i)&&t.push(i)}}return t},n.prototype.getMissingRemoteReferences=function(){for(var t=this.getMissingReferences(),e=[],n=t.length;n--;){var i=a.getRemotePath(t[n]);i&&-1===e.indexOf(i)&&e.push(i)}return e},n.prototype.setRemoteReference=function(t,e){"string"==typeof e&&(e=JSON.parse(e)),a.cacheSchemaByUri.call(this,t,e)},n.registerFormat=function(t,e){r[t]=e},n.getDefaultOptions=function(){return l.cloneDeep(c)},e.exports=n},{"./FormatValidators":3,"./JsonValidation":4,"./Polyfills":5,"./Report":6,"./SchemaCache":7,"./SchemaCompilation":8,"./SchemaValidation":9,"./Utils":10}]},{},[2,3,4,5,6,7,8,9,10,11])(11)}),function(t){return t.module("ngOrderObjectBy",[]).filter("orderObjectBy",function(){return function(e,n,i){function r(t,e){return t[e]}var o=[];return t.forEach(e,function(t){o.push(t)}),o.sort(function(t,e){var i,o=n.split(".").reduce(r,t),a=n.split(".").reduce(r,e);return i=o===a?0:o>a?1:-1}),i&&o.reverse(),o}})}(angular),angular.module("angular-websql",[]).factory("$webSql",["$q",function(t){return{openDatabase:function(e,n,i,r){try{var o=openDatabase(e,n,i,r);if("undefined"==typeof openDatabase)throw"Browser does not support web sql";return{executeQuery:function(e,n){var i=t.defer();return o.transaction(function(t){t.executeSql(e,n,function(t,e){i.resolve(e)},function(t,e){console.log("There has been an error: "+e.message),i.reject()})}),i.promise},insert:function(t,e,n){var i="boolean"==typeof n&&n?"INSERT OR REPLACE":"INSERT";i+=" INTO `{tableName}` ({fields}) VALUES({values});";var r="",o="",a=[];for(var s in e)r+=Object.keys(e)[Object.keys(e).length-1]==s?"`"+s+"`":"`"+s+"`, ",o+=Object.keys(e)[Object.keys(e).length-1]==s?"?":"?, ",a.push(e[s]);return this.executeQuery(this.replace(i,{"{tableName}":t,"{fields}":r,"{values}":o}),a)},update:function(t,e,n){var i="UPDATE `{tableName}` SET {update} WHERE {where}; ",r="",o=[];for(var a in e)r+=Object.keys(e)[Object.keys(e).length-1]==a?"`"+a+"`= ?":"`"+a+"`= ?,",o.push(e[a]);var s=this.whereClause(n);return this.executeQuery(this.replace(i,{"{tableName}":t,"{update}":r,"{where}":s.w}),o.concat(s.p))},del:function(t,e){var n="DELETE FROM `{tableName}` WHERE {where}; ",i=this.whereClause(e);return this.executeQuery(this.replace(n,{"{tableName}":t,"{where}":i.w}),i.p)},select:function(t,e){var n="SELECT * FROM `{tableName}` WHERE {where}; ",i=this.whereClause(e);return this.executeQuery(this.replace(n,{"{tableName}":t,"{where}":i.w}),i.p)},selectAll:function(t){return this.executeQuery("SELECT * FROM `"+t+"`; ",[])},whereClause:function(t){var e="",n=[];for(var i in t)"undefined"==typeof t[i]||"object"==typeof t[i]||"string"!=typeof t[i]||t[i].match(/NULL/gi)?"undefined"!=typeof t[i]&&"object"!=typeof t[i]&&"number"==typeof t[i]?n.push(t[i]):"undefined"==typeof t[i].value||"object"!=typeof t[i]||"number"!=typeof t[i].value&&t[i].value.match(/NULL/gi)||n.push(t[i].value):n.push(t[i]),e+="object"==typeof t[i]?"undefined"==typeof t[i].union?"string"==typeof t[i].value&&t[i].value.match(/NULL/gi)?"`"+i+"` "+t[i].value:"undefined"!=typeof t[i].operator?"`"+i+"` "+t[i].operator+" ? ":"`"+i+"` = ?":"string"==typeof t[i].value&&t[i].value.match(/NULL/gi)?"`"+i+"` "+t[i].value+" "+t[i].union+" ":"undefined"!=typeof t[i].operator?"`"+i+"` "+t[i].operator+" ? "+t[i].union+" ":"`"+i+"` = ? "+t[i].union+" ":"string"==typeof t[i]&&t[i].match(/NULL/gi)?"`"+i+"` "+t[i]:"`"+i+"` = ?";return{w:e,p:n}},replace:function(t,e){for(var n in e)t=t.replace(new RegExp(n,"ig"),e[n]);return t},createTable:function(t,e){var n="CREATE TABLE IF NOT EXISTS `{tableName}` ({fields}); ",i=[],r="";for(var o in e){var a="{type} {null}";r+="`"+o+"` ","undefined"==typeof e[o]["null"]&&(e[o]["null"]="NULL");for(var s in e[o])a=a.replace(new RegExp("{"+s+"}","ig"),e[o][s]);r+=a,"undefined"!=typeof e[o]["default"]&&(r+=" DEFAULT "+e[o]["default"]),"undefined"!=typeof e[o].primary&&(r+=" PRIMARY KEY"),"undefined"!=typeof e[o].auto_increment&&(r+=" AUTOINCREMENT"),Object.keys(e)[Object.keys(e).length-1]!=o&&(r+=","),"undefined"!=typeof e[o].primary&&e[o].primary&&i.push(o)}var u={tableName:t,fields:r};for(var l in u)n=n.replace(new RegExp("{"+l+"}","ig"),u[l]);return this.executeQuery(n,[])},dropTable:function(t){return this.executeQuery("DROP TABLE IF EXISTS `"+t+"`; ",[])}}}catch(a){console.error(a)}}}}]),/**
 * An Angular module that gives you access to the browsers local storage
 * @version v0.2.2 - 2015-05-29
 * @link https://github.com/grevory/angular-local-storage
 * @author grevory <greg@gregpike.ca>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
function(t,e){"use strict";var n=e.isDefined,i=e.isUndefined,r=e.isNumber,o=e.isObject,a=e.isArray,s=e.extend,u=e.toJson,l=e.module("LocalStorageModule",[]);l.provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(t){return this.prefix=t,this},this.setStorageType=function(t){return this.storageType=t,this},this.setStorageCookie=function(t,e){return this.cookie.expiry=t,this.cookie.path=e,this},this.setStorageCookieDomain=function(t){return this.cookie.domain=t,this},this.setNotify=function(t,e){return this.notify={setItem:t,removeItem:e},this},this.$get=["$rootScope","$window","$document","$parse",function(t,e,l,c){var f,h=this,d=h.prefix,p=h.cookie,g=h.notify,m=h.storageType;l?l[0]&&(l=l[0]):l=document,"."!==d.substr(-1)&&(d=d?d+".":"");var v=function(t){return d+t},y=function(){try{var n=m in e&&null!==e[m],i=v("__"+Math.round(1e7*Math.random()));return n&&(f=e[m],f.setItem(i,""),f.removeItem(i)),n}catch(r){return m="cookie",t.$broadcast("LocalStorageModule.notification.error",r.message),!1}}(),b=function(e,n){if(n=i(n)?null:u(n),!y||"cookie"===h.storageType)return y||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.setItem&&t.$broadcast("LocalStorageModule.notification.setitem",{key:e,newvalue:n,storageType:"cookie"}),E(e,n);try{f&&f.setItem(v(e),n),g.setItem&&t.$broadcast("LocalStorageModule.notification.setitem",{key:e,newvalue:n,storageType:h.storageType})}catch(r){return t.$broadcast("LocalStorageModule.notification.error",r.message),E(e,n)}return!0},w=function(e){if(!y||"cookie"===h.storageType)return y||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),k(e);var n=f?f.getItem(v(e)):null;if(!n||"null"===n)return null;try{return JSON.parse(n)}catch(i){return n}},_=function(){var e,n;for(e=0;e<arguments.length;e++)if(n=arguments[e],y&&"cookie"!==h.storageType)try{f.removeItem(v(n)),g.removeItem&&t.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:h.storageType})}catch(i){t.$broadcast("LocalStorageModule.notification.error",i.message),S(n)}else y||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.removeItem&&t.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:"cookie"}),S(n)},x=function(){if(!y)return t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var e=d.length,n=[];for(var i in f)if(i.substr(0,e)===d)try{n.push(i.substr(e))}catch(r){return t.$broadcast("LocalStorageModule.notification.error",r.Description),[]}return n},$=function(e){var n=d?new RegExp("^"+d):new RegExp,i=e?new RegExp(e):new RegExp;if(!y||"cookie"===h.storageType)return y||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),T();var r=d.length;for(var o in f)if(n.test(o)&&i.test(o.substr(r)))try{_(o.substr(r))}catch(a){return t.$broadcast("LocalStorageModule.notification.error",a.message),T()}return!0},C=function(){try{return e.navigator.cookieEnabled||"cookie"in l&&(l.cookie.length>0||(l.cookie="test").indexOf.call(l.cookie,"test")>-1)}catch(n){return t.$broadcast("LocalStorageModule.notification.error",n.message),!1}}(),E=function(e,n,s){if(i(n))return!1;if((a(n)||o(n))&&(n=u(n)),!C)return t.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var c="",f=new Date,h="";if(null===n?(f.setTime(f.getTime()+-864e5),c="; expires="+f.toGMTString(),n=""):r(s)&&0!==s?(f.setTime(f.getTime()+24*s*60*60*1e3),c="; expires="+f.toGMTString()):0!==p.expiry&&(f.setTime(f.getTime()+24*p.expiry*60*60*1e3),c="; expires="+f.toGMTString()),e){var d="; path="+p.path;p.domain&&(h="; domain="+p.domain),l.cookie=v(e)+"="+encodeURIComponent(n)+c+d+h}}catch(g){return t.$broadcast("LocalStorageModule.notification.error",g.message),!1}return!0},k=function(e){if(!C)return t.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var n=l.cookie&&l.cookie.split(";")||[],i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(v(e)+"=")){var o=decodeURIComponent(r.substring(d.length+e.length+1,r.length));try{return JSON.parse(o)}catch(a){return o}}}return null},S=function(t){E(t,null)},T=function(){for(var t=null,e=d.length,n=l.cookie.split(";"),i=0;i<n.length;i++){for(t=n[i];" "===t.charAt(0);)t=t.substring(1,t.length);var r=t.substring(e,t.indexOf("="));S(r)}},O=function(){return m},M=function(t,e,i,r){r=r||e;var a=w(r);return null===a&&n(i)?a=i:o(a)&&o(i)&&(a=s(i,a)),c(e).assign(t,a),t.$watch(e,function(t){b(r,t)},o(t[e]))},A=function(){for(var t=0,n=e[m],i=0;i<n.length;i++)0===n.key(i).indexOf(d)&&t++;return t};return{isSupported:y,getStorageType:O,set:b,add:b,get:w,keys:x,remove:_,clearAll:$,bind:M,deriveKey:v,length:A,cookie:{isSupported:C,set:E,add:E,get:k,remove:S,clearAll:T}}}]})}(window,window.angular),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.dl=t()}}(function(){return function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e){var n=t("./util"),i={load:t("./import/load"),read:t("./import/read"),type:t("./import/type"),bins:t("./bins/bins"),$bin:t("./bins/histogram").$bin,groupby:t("./aggregate/groupby"),histogram:t("./bins/histogram").histogram,print:t("./print"),template:t("./template"),timeunits:t("./time-units")};n.extend(i,n),n.extend(i,t("./generate")),n.extend(i,t("./stats")),n.extend(i,t("./import/readers")),e.exports=i},{"./aggregate/groupby":6,"./bins/bins":8,"./bins/histogram":9,"./generate":10,"./import/load":16,"./import/read":17,"./import/readers":18,"./import/type":19,"./print":20,"./stats":21,"./template":22,"./time-units":23,"./util":24}],2:[function(){},{}],3:[function(t,e){function n(){if(!a){a=!0;for(var t,e=o.length;e;){t=o,o=[];for(var n=-1;++n<e;)t[n]();e=o.length}a=!1}}function i(){}var r=e.exports={},o=[],a=!1;r.nextTick=function(t){o.push(t),a||setTimeout(n,0)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=i,r.addListener=i,r.once=i,r.off=i,r.removeListener=i,r.removeAllListeners=i,r.emit=i,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],4:[function(t,e){function n(){this._cells={},this._aggr=[],this._stream=!1}function i(t){if(r.isArray(t))return t;if(null==t)return[];var e,n,i=[];for(e in t)n=r.array(t[e]),i.push({name:e,ops:n});return i}var r=t("../util"),o=t("./measures"),a=t("./collector"),s=n.Flags={ADD_CELL:1,MOD_CELL:2},u=n.prototype;u.stream=function(t){return null==t?this._stream:(this._stream=!!t,this._aggr=[],this)},u.key=function(t){return null==t?this._key:(this._key=r.$(t),this)},u.groupby=function(t){return this._dims=r.array(t).map(function(t,e){if(t=r.isString(t)?{name:t,get:r.$(t)}:r.isFunction(t)?{name:r.name(t)||t.name||"_"+e,get:t}:t.name&&r.isFunction(t.get)?t:null,null==t)throw"Invalid groupby argument: "+t;return t}),this.clear()},u.summarize=function(t){t=i(t),this._count=!0;var e,n,a,s,u,l,c,f=this._aggr=[];for(a=0;a<t.length;++a){for(s=0,e=[],n=t[a];s<n.ops.length;++s)u=n.ops[s],"count"!==u&&(this._count=!1),l=n.as&&n.as[s]||u+("*"===n.name?"":"_"+n.name),e.push(o[u](l));c=n.get&&r.$(n.get)||("*"===n.name?r.identity:r.$(n.name)),f.push({name:n.name,measures:o.create(e,this._stream,c,this._assign)})}return this.clear()},u.count=function(){return this.summarize({"*":"count"})},u._assign=function(t,e,n){t[e]=n},u.clear=function(){return this._cells={},this},u._cellkey=function(t){var e,n=this._dims,i=n.length,r=String(n[0].get(t));for(e=1;i>e;++e)r+="|"+n[e].get(t);return r},u._cell=function(t){var e=this._dims.length?this._cellkey(t):"";return this._cells[e]||(this._cells[e]=this._newcell(t))},u._newcell=function(t){var e,n={num:0,tuple:this._newtuple(t),flag:s.ADD_CELL,aggs:{}},i=this._aggr;for(e=0;e<i.length;++e)n.aggs[i[e].name]=new i[e].measures(n,n.tuple);return n.collect&&(n.data=new a(this._key)),n},u._newtuple=function(t){var e,n,i=this._dims,r={};for(e=0,n=i.length;n>e;++e)r[i[e].name]=i[e].get(t);return this._ingest(r)},u._ingest=r.identity,u._add=function(t){var e,n=this._cell(t),i=this._aggr;if(n.num+=1,!this._count)for(n.collect&&n.data.add(t),e=0;e<i.length;++e)n.aggs[i[e].name].add(t);n.flag|=s.MOD_CELL},u._rem=function(t){var e,n=this._cell(t),i=this._aggr;if(n.num-=1,!this._count)for(n.collect&&n.data.rem(t),e=0;e<i.length;++e)n.aggs[i[e].name].rem(t);n.flag|=s.MOD_CELL},u._mod=function(t,e){var n,i=this._cell(e),o=this._cell(t),a=this._aggr;for(i!==o?(i.num-=1,o.num+=1,i.collect&&i.data.rem(e),o.collect&&o.data.add(t)):i.collect&&!r.isObject(t)&&(i.data.rem(e),i.data.add(t)),n=0;n<a.length;++n)i.aggs[a[n].name].rem(e),o.aggs[a[n].name].add(t);i.flag|=s.MOD_CELL,o.flag|=s.MOD_CELL},u.result=function(){var t,e,n,i=[],r=this._aggr;for(n in this._cells){if(t=this._cells[n],t.num>0){for(t.collect&&t.data.values(),e=0;e<r.length;++e)t.aggs[r[e].name].set();i.push(t.tuple)}else delete this._cells[n];t.flag=0}return this._rems=!1,i},u.changes=function(){var t,e,n,i,r={add:[],rem:[],mod:[]},o=this._aggr;for(i in this._cells){for(t=this._cells[i],e=t.flag,t.collect&&t.data.values(),n=0;n<o.length;++n)t.aggs[o[n].name].set();t.num<=0?(r.rem.push(t.tuple),delete this._cells[i]):e&s.ADD_CELL?r.add.push(t.tuple):e&s.MOD_CELL&&r.mod.push(t.tuple),t.flag=0}return this._rems=!1,r},u.execute=function(t){return this.clear().insert(t).result()},u.insert=function(t){this._consolidate();for(var e=0;e<t.length;++e)this._add(t[e]);return this},u.remove=function(t){if(!this._stream)throw"Aggregator not configured for streaming removes. Call stream(true) prior to calling summarize.";for(var e=0;e<t.length;++e)this._rem(t[e]);return this._rems=!0,this},u._consolidate=function(){if(this._rems){for(var t in this._cells)this._cells[t].collect&&this._cells[t].data.values();this._rems=!1}},e.exports=n},{"../util":24,"./collector":5,"./measures":7}],5:[function(t,e){function n(t){this._add=[],this._rem=[],this._key=t||null,this._last=null}var i=t("../util"),r=t("../stats"),o="__dl_rem__",a=n.prototype;a.add=function(t){this._add.push(t)},a.rem=function(t){this._rem.push(t)},a.values=function(){if(this._get=null,0===this._rem.length)return this._add;var t,e,n,a,s=this._add,u=this._rem,l=this._key,c=Array(s.length-u.length);if(i.isObject(u[0]))if(l)for(a=i.toMap(u,l),t=0,e=0,n=s.length;n>t;++t)a.hasOwnProperty(l(s[t]))||(c[e++]=s[t]);else{for(t=0,n=u.length;n>t;++t)u[t][o]=1;for(t=0,e=0,n=s.length;n>t;++t)s[t][o]||(c[e++]=s[t]);for(t=0,n=u.length;n>t;++t)delete u[t][o]}else for(a=r.count.map(u),t=0,e=0,n=s.length;n>t;++t)a[s[t]]>0?a[s[t]]-=1:c[e++]=s[t];return this._rem=[],this._add=c},a.extent=function(t){if(this._get!==t||!this._ext){var e=this.values(),n=r.extent.index(e,t);this._ext=[e[n[0]],e[n[1]]],this._get=t}return this._ext},a.argmin=function(t){return this.extent(t)[0]},a.argmax=function(t){return this.extent(t)[1]},a.min=function(t){var e=this.extent(t)[0];return e?t(e):+1/0},a.max=function(t){var e=this.extent(t)[1];return e?t(e):-1/0},a.quartile=function(t){return this._get===t&&this._q||(this._q=r.quartile(this.values(),t),this._get=t),this._q},a.q1=function(t){return this.quartile(t)[0]},a.q2=function(t){return this.quartile(t)[1]},a.q3=function(t){return this.quartile(t)[2]},e.exports=n},{"../stats":21,"../util":24}],6:[function(t,e){var n=t("../util"),i=t("./aggregator");e.exports=function(){var t=[].reduce.call(arguments,function(t,e){return t.concat(n.array(e))},[]);return(new i).groupby(t).summarize({"*":"values"})}},{"../util":24,"./aggregator":4}],7:[function(t,e){function n(t){return function(e){var n=o.extend({init:"",add:"",rem:"",idx:0},t);return n.out=e||t.name,n}}function i(t,e){function n(t,i){function r(e){t[e]||n(t,t[e]=a[e]())}return i.req&&i.req.forEach(r),e&&i.str&&i.str.forEach(r),t}var i=t.reduce(n,t.reduce(function(t,e){return t[e.name]=e,t},{}));return o.vals(i).sort(function(t,e){return t.idx-e.idx})}function r(e,n,r,a){var s=i(e,n),u="this.cell = cell; this.tuple = t; this.valid = 0; this.missing = 0;",l="if (v==null) this.missing++; if (!this.isValid(v)) return; ++this.valid;",c="if (v==null) this.missing--; if (!this.isValid(v)) return; --this.valid;",f="var t = this.tuple; var cell = this.cell;";return s.forEach(function(t){t.idx<0?(u=t.init+u,l=t.add+l,c=t.rem+c):(u+=t.init,l+=t.add,c+=t.rem)}),e.slice().sort(function(t,e){return t.idx-e.idx}).forEach(function(t){f+="this.assign(t,'"+t.out+"',"+t.set+");"}),f+="return t;",u=Function("cell","t",u),u.prototype.assign=a,u.prototype.add=Function("t","var v = this.get(t);"+l),u.prototype.rem=Function("t","var v = this.get(t);"+c),u.prototype.set=Function(f),u.prototype.get=r,u.prototype.distinct=t("../stats").count.distinct,u.prototype.isValid=o.isValid,u}var o=t("../util"),a={values:n({name:"values",init:"cell.collect = true;",set:"cell.data.values()",idx:-1}),count:n({name:"count",set:"cell.num"}),missing:n({name:"missing",set:"this.missing"}),valid:n({name:"valid",set:"this.valid"}),sum:n({name:"sum",init:"this.sum = 0;",add:"this.sum += v;",rem:"this.sum -= v;",set:"this.sum"}),mean:n({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.mean"}),average:n({name:"average",set:"this.mean",req:["mean"],idx:1}),variance:n({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : 0",req:["mean"],idx:1}),variancep:n({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : 0",req:["variance"],idx:2}),stdev:n({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : 0",req:["variance"],idx:2}),stdevp:n({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : 0",req:["variance"],idx:2}),median:n({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:n({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:n({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),distinct:n({name:"distinct",set:"this.distinct(cell.data.values(), this.get)",req:["values"],idx:3}),argmin:n({name:"argmin",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = null;",set:"this.argmin = this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:n({name:"argmax",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = null;",set:"this.argmax = this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:n({name:"min",init:"this.min = +Infinity;",add:"if (v < this.min) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:n({name:"max",init:"this.max = -Infinity;",add:"if (v > this.max) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4}),modeskew:n({name:"modeskew",set:"this.dev===0 ? 0 : (this.mean - cell.data.q2(this.get)) / Math.sqrt(this.dev/(this.valid-1))",req:["mean","stdev","median"],idx:5})};a.create=r,e.exports=a},{"../stats":21,"../util":24}],8:[function(t,e){function n(t){if(!t)throw Error("Missing binning options.");var e,n,a,s,u,l,c,f=t.maxbins||15,h=t.base||10,d=Math.log(h),p=t.div||[5,2],g=t.min,m=t.max,v=m-g;if(t.step)e=t.step;else if(t.steps)e=t.steps[Math.min(t.steps.length-1,i(t.steps,v/f,0,t.steps.length))];else{n=Math.ceil(Math.log(f)/d),a=t.minstep||0,e=Math.max(a,Math.pow(h,Math.round(Math.log(v)/d)-n));do e*=h;while(Math.ceil(v/e)>f);for(l=0;l<p.length;++l)u=e/p[l],u>=a&&f>=v/u&&(e=u)}return u=Math.log(e),s=u>=0?0:~~(-u/d)+1,c=Math.pow(h,-s-1),g=Math.min(g,Math.floor(g/e+c)*e),m=Math.ceil(m/e)*e,{start:g,stop:m,step:e,unit:{precision:s},value:r,index:o}}function i(t,e,n,i){for(;i>n;){var r=n+i>>>1;u.cmp(t[r],e)<0?n=r+1:i=r}return n}function r(t){return this.step*Math.floor(t/this.step+c)}function o(t){return Math.floor((t-this.start)/this.step+c)}function a(t){return this.unit.date(r.call(this,t))}function s(t){return o.call(this,this.unit.unit(t))}var u=t("../util"),l=t("../time-units"),c=1e-15;n.date=function(t){if(!t)throw Error("Missing date binning options.");var e=t.min,i=t.max,r=t.maxbins||20,o=t.minbins||4,u=+i-+e,c=t.unit?l[t.unit]:l.find(u,o,r),f=n({min:null!=c.min?c.min:c.unit(e),max:null!=c.max?c.max:c.unit(i),maxbins:r,minstep:c.minstep,steps:c.step});return f.unit=c,f.index=s,t.raw||(f.value=a),f},e.exports=n},{"../time-units":23,"../util":24}],9:[function(t,e){function n(t,e,n){n=o(t,e,n);var i=r(n);return i?c.$func("bin",i.unit.unit?function(t){return i.value(i.unit.unit(t))}:function(t){return i.value(t)})(n.accessor):n.accessor||c.identity}function i(t,e,n){n=o(t,e,n);var i=r(n);return i?a(t,n.accessor,i):s(t,n.accessor,n&&n.sort)}function r(t){var e=t.type,n=null;return(null==e||d[e])&&("integer"===e&&null==t.minstep&&(t.minstep=1),n="date"===e?h.date(t):h(t)),n}function o(){var t=arguments,e=0,n=c.isArray(t[e])?t[e++]:null,i=c.isFunction(t[e])||c.isString(t[e])?c.$(t[e++]):null,r=c.extend({},t[e]);if(n&&(r.type=r.type||l(n,i),d[r.type])){var o=u.extent(n,i);r=c.extend({min:o[0],max:o[1]},r)}return i&&(r.accessor=i),r}function a(t,e,n){for(var i,r,o=f.range(n.start,n.stop+n.step/2,n.step).map(function(t){return{value:n.value(t),count:0}}),a=0;a<t.length;++a)if(i=e?e(t[a]):t[a],c.isValid(i)){if(r=n.index(i),0>r||r>=o.length||!isFinite(r))continue;o[r].count+=1}return o.bins=n,o}function s(t,e,n){var i=u.unique(t,e),r=u.count.map(t,e);return i.map(function(t){return{value:t,count:r[t]}}).sort(c.comparator(n?"-count":"+value"))}var u=t("../stats"),l=t("../import/type"),c=t("../util"),f=t("../generate"),h=t("./bins"),d={integer:1,number:1,date:1};e.exports={$bin:n,histogram:i}},{"../generate":10,"../import/type":19,"../stats":21,"../util":24,"./bins":8}],10:[function(t,e){var n=e.exports={};n.repeat=function(t,e){var n,i=Array(e);for(n=0;e>n;++n)i[n]=t;return i},n.zeros=function(t){return n.repeat(0,t)},n.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("Infinite range");var i,r=[],o=-1;if(0>n)for(;(i=t+n*++o)>e;)r.push(i);else for(;(i=t+n*++o)<e;)r.push(i);return r},n.random={},n.random.uniform=function(t,e){void 0===e&&(e=void 0===t?1:t,t=0);var i=e-t,r=function(){return t+i*Math.random()};return r.samples=function(t){return n.zeros(t).map(r)},r},n.random.integer=function(t,e){void 0===e&&(e=t,t=0);var i=e-t,r=function(){return t+Math.floor(i*Math.random())};return r.samples=function(t){return n.zeros(t).map(r)},r},n.random.normal=function(t,e){t=t||0,e=e||1;var i,r=function(){var n,r,o=0,a=0;if(void 0!==i)return o=i,i=void 0,o;do o=2*Math.random()-1,a=2*Math.random()-1,n=o*o+a*a;while(0===n||n>1);return r=Math.sqrt(-2*Math.log(n)/n),i=t+a*r*e,t+o*r*e};return r.samples=function(t){return n.zeros(t).map(r)},r}},{}],11:[function(t,e){(function(n){function i(t,e){if(t){var n=e.header;t=(n?n.join(e.delimiter)+"\n":"")+t}return o.dsv(e.delimiter).parse(t)}var r=t("../../util"),o="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null;i.delimiter=function(t){var e={delimiter:t};return function(t,n){return i(t,n?r.extend(n,e):e)}},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../util":24}],12:[function(t,e){var n=t("./dsv");e.exports={json:t("./json"),topojson:t("./topojson"),treejson:t("./treejson"),dsv:n,csv:n.delimiter(","),tsv:n.delimiter("	")}},{"./dsv":11,"./json":13,"./topojson":14,"./treejson":15}],13:[function(t,e){var n=t("../../util");e.exports=function(t,e){var i=n.isObject(t)&&!n.isBuffer(t)?t:JSON.parse(t);return e&&e.property&&(i=n.accessor(e.property)(i)),i}},{"../../util":24}],14:[function(t,e){(function(n){var i=t("./json"),r=function(t,e){var n=r.topojson;if(null==n)throw Error("TopoJSON library not loaded.");var o,a=i(t,e);if(e&&e.feature){if(o=a.objects[e.feature])return n.feature(a,o).features;throw Error("Invalid TopoJSON object: "+e.feature)}if(e&&e.mesh){if(o=a.objects[e.mesh])return[n.mesh(a,a.objects[e.mesh])];throw Error("Invalid TopoJSON object: "+e.mesh)}throw Error("Missing TopoJSON feature or mesh parameter.")};r.topojson="undefined"!=typeof window?window.topojson:"undefined"!=typeof n?n.topojson:null,e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./json":13}],15:[function(t,e){function n(t,e){function n(t){i.push(t);var r=t[e];if(r)for(var o=0;o<r.length;++o)n(r[o],t)}e=e||"children";var i=[];return n(t,null),i.root=t,i}var i=t("./json");e.exports=function(t,e){return t=i(t,e),n(t,e&&e.children)}},{"./json":13}],16:[function(t,e){function n(e){var n=e.url;if(!n&&e.file)return c+e.file;if(e.baseURL&&!l.test(n)&&(u.startsWith(n,"/")||"/"===e.baseURL[e.baseURL.length-1]||(n="/"+n),n=e.baseURL+n),u.isNode&&u.startsWith(n,"//")&&(n=(e.defaultProtocol||"http")+":"+n),e.domainWhiteList){var i,r;if(u.isNode){var o=t("url").parse(n);i=o.hostname,r=null}else{var a=document.createElement("a");a.href=n,""===a.host&&(a.href=a.href),i=a.hostname.toLowerCase(),r=window.location.hostname}if(r!==i){var s=e.domainWhiteList.some(function(t){var e=i.length-t.length;return t===i||e>1&&"."===i[e-1]&&i.lastIndexOf(t)===e});if(!s)throw"URL is not whitelisted: "+n}}return n}function i(t,e){var n,r=e||function(t){throw t};try{n=i.sanitizeUrl(t)}catch(l){return void r(l)}return n?u.isNode?u.startsWith(n,c)?a(n.slice(c.length),e):n.indexOf("://")<0?a(n,e):s(n,e):o(n,e):void r("Invalid URL: "+n)}function r(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function o(t,e){function n(){var t=o.status;!t&&r(o)||t>=200&&300>t||304===t?e(null,o.responseText):e(o,null)}var i=!!e,o=new XMLHttpRequest;return!this.XDomainRequest||"withCredentials"in o||!/^(http(s)?:)?\/\//.test(t)||(o=new XDomainRequest),i&&("onload"in o?o.onload=o.onerror=n:o.onreadystatechange=function(){o.readyState>3&&n()}),o.open("GET",t,i),o.send(),!i&&r(o)?o.responseText:void 0}function a(e,n){var i=t("fs");return n?void t("fs").readFile(e,n):i.readFileSync(e,"utf8")}function s(e,n){return n?void t("request")(e,function(t,e,i){t||200!==e.statusCode?(t=t||"Load failed with response code "+e.statusCode+".",n(t,null)):n(null,i)}):t("sync-request")("GET",e).getBody()}var u=t("../util"),l=/^([A-Za-z]+:)?\/\//,c="file://";i.sanitizeUrl=n,e.exports=i},{"../util":24,fs:2,request:2,"sync-request":2,url:2}],17:[function(t,e){function n(t,e){var n=e&&e.type||"json";return t=a[n](t,e),e&&e.parse&&i(t,e.parse),t}function i(t,e){var n,i,a,s,u,l,c=t.length;for(e="auto"===e?o.inferAll(t):r.duplicate(e),n=r.keys(e),i=n.map(function(t){return o.parsers[e[t]]}),s=0,l=n.length;c>s;++s)for(a=t[s],u=0;l>u;++u)a[n[u]]=i[u](a[n[u]]);o.annotation(t,e)}var r=t("../util"),o=t("./type"),a=t("./formats");n.formats=a,e.exports=n},{"../util":24,"./formats":12,"./type":19}],18:[function(t,e){var n=t("../util"),i=t("./load"),r=t("./read");e.exports=n.keys(r.formats).reduce(function(t,e){return t[e]=function(t,o,a){n.isString(t)&&(t={url:t}),2===arguments.length&&n.isFunction(o)&&(a=o,o=void 0),o=n.extend({parse:"auto"},o),o.type=e;var s=i(t,a?function(t,e){if(t)return void a(t,null);try{e=r(e,o)}catch(n){a(n,null)}a(null,e)}:void 0);return s?r(s,o):void 0},t},{})},{"../util":24,"./load":16,"./read":17}],19:[function(t,e){function n(t,e){return e?void(t[u]=e):t&&t[u]||null}function i(t,e){e=s.$(e);var n,i,r;if(t[u]&&(n=e(t[u]),s.isString(n)))return n;for(i=0,r=t.length;!s.isValid(n)&&r>i;++i)n=e?e(t[i]):t[i];return s.isDate(n)?"date":s.isNumber(n)?"number":s.isBoolean(n)?"boolean":s.isString(n)?"string":null}function r(t,e){return t.length?(e=e||s.keys(t[0]),e.reduce(function(e,n){return e[n]=i(t,n),e},{})):void 0}function o(t,e){e=s.$(e);var n,i,r,o=["boolean","integer","number","date"];for(n=0;n<t.length;++n){for(r=e?e(t[n]):t[n],i=0;i<o.length;++i)s.isValid(r)&&!c[o[i]](r)&&(o.splice(i,1),i-=1);if(0===o.length)return"string"}return o[0]}function a(t,e){return e=e||s.keys(t[0]),e.reduce(function(e,n){return e[n]=o(t,n),e},{})}var s=t("../util"),u="__types__",l={"boolean":s.boolean,integer:s.number,number:s.number,date:s.date,string:function(t){return""===t?null:t}},c={"boolean":function(t){return"true"===t||"false"===t||s.isBoolean(t)},integer:function(t){return c.number(t)&&(t=+t)===~~t},number:function(t){return!isNaN(+t)&&!s.isDate(t)},date:function(t){return!isNaN(Date.parse(t))}};i.annotation=n,i.all=r,i.infer=o,i.inferAll=a,i.parsers=l,e.exports=i},{"../util":24}],20:[function(t,e){function n(t){return["valid:    "+t.valid,"missing:  "+t.missing,"distinct: "+t.distinct,"min:      "+t.min,"max:      "+t.max,"median:   "+t.median,"mean:     "+t.mean,"stdev:    "+t.stdev,"modeskew: "+t.modeskew].join("\n")}function i(t){var e=["valid:    "+t.valid,"missing:  "+t.missing,"distinct: "+t.distinct,"top values: "],n=t.unique,i=r.keys(n).sort(function(t,e){return n[e]-n[t]}).slice(0,6).map(function(t){return" '"+t+"' ("+n[t]+")"});return e.concat(i).join("\n")}var r=t("./util"),o=t("./import/type"),a=t("./stats"),s=t("./template"),u={date:'|time:"%m/%d/%Y %H:%M:%S"',number:'|number:".4f"',integer:'|number:"d"'},l={number:"left",integer:"left"};e.exports.table=function(t,e){e=r.extend({separator:" ",minwidth:8,maxwidth:15},e);var n=e.fields||r.keys(t[0]),i=o.all(t);if(e.start||e.limit){var c=e.start||0,f=e.limit?c+e.limit:t.length;t=t.slice(c,f)}var h=n.map(function(n){var r=u[i[n]]||"",o=s("{{"+n+r+"}}"),l=a.max(t,function(t){return o(t).length});return l=Math.max(Math.min(n.length,e.minwidth),l),e.maxwidth>0?Math.min(l,e.maxwidth):l}),d=n.map(function(t,e){return r.truncate(r.pad(t,h[e],"center"),h[e])}).join(e.separator),p=s(n.map(function(t,e){return"{{"+t+(u[i[t]]||"")+("|pad:"+h[e]+","+(l[i[t]]||"right"))+("|truncate:"+h[e])+"}}"}).join(e.separator));return d+"\n"+t.map(p).join("\n")},e.exports.summary=function(t){t=t?t.__summary__?t:a.summary(t):this;var e,r,o=[];for(e=0,r=t.length;r>e;++e)o.push("-- "+t[e].field+" --"),o.push("string"===t[e].type||t[e].distinct<10?i(t[e]):n(t[e])),o.push("");return o.join("\n")}},{"./import/type":19,"./stats":21,"./template":22,"./util":24}],21:[function(t,e){var n=t("./util"),i=t("./import/type"),r=t("./generate"),o={};o.unique=function(t,e,i){e=n.$(e),i=i||[];var r,o,a,s={};for(o=0,a=t.length;a>o;++o)r=e?e(t[o]):t[o],r in s||(s[r]=1,i.push(r));return i},o.count=function(t){return t&&t.length||0},o.count.valid=function(t,e){e=n.$(e);var i,r,o,a=0;for(r=0,o=t.length;o>r;++r)i=e?e(t[r]):t[r],n.isValid(i)&&(a+=1);return a},o.count.missing=function(t,e){e=n.$(e);var i,r,o,a=0;for(r=0,o=t.length;o>r;++r)i=e?e(t[r]):t[r],null==i&&(a+=1);return a},o.count.distinct=function(t,e){e=n.$(e);var i,r,o,a={},s=0;for(r=0,o=t.length;o>r;++r)i=e?e(t[r]):t[r],i in a||(a[i]=1,s+=1);return s},o.count.map=function(t,e){e=n.$(e);var i,r,o,a={};for(r=0,o=t.length;o>r;++r)i=e?e(t[r]):t[r],a[i]=i in a?a[i]+1:1;return a},o.median=function(t,e){return e&&(t=t.map(n.$(e))),t=t.filter(n.isValid).sort(n.cmp),o.quantile(t,.5)},o.quartile=function(t,e){e&&(t=t.map(n.$(e))),t=t.filter(n.isValid).sort(n.cmp);var i=o.quantile;return[i(t,.25),i(t,.5),i(t,.75)]},o.quantile=function(t,e,i){void 0===i&&(i=e,e=n.identity),e=n.$(e);var r=(t.length-1)*i+1,o=Math.floor(r),a=+e(t[o-1]),s=r-o;return s?a+s*(e(t[o])-a):a},o.sum=function(t,e){e=n.$(e);for(var i,r=0,o=0,a=t.length;a>o;++o)i=e?e(t[o]):t[o],n.isValid(i)&&(r+=i);return r},o.mean=function(t,e){e=n.$(e);var i,r,o,a,s,u=0;for(r=0,a=0,o=t.length;o>r;++r)s=e?e(t[r]):t[r],n.isValid(s)&&(i=s-u,u+=i/++a);return u},o.variance=function(t,e){if(e=n.$(e),!n.isArray(t)||t.length<2)return 0;var i,r,o,a,s=0,u=0;for(r=0,o=0;r<t.length;++r)a=e?e(t[r]):t[r],n.isValid(a)&&(i=a-s,s+=i/++o,u+=i*(a-s));return u/=o-1},o.stdev=function(t,e){return Math.sqrt(o.variance(t,e))},o.modeskew=function(t,e){var n=o.mean(t,e),i=o.median(t,e),r=o.stdev(t,e);return 0===r?0:(n-i)/r},o.min=function(t,e){return o.extent(t,e)[0]},o.max=function(t,e){return o.extent(t,e)[1]},o.extent=function(t,e){e=n.$(e);var i,r,o,a,s=t.length;for(a=0;s>a;++a)if(o=e?e(t[a]):t[a],n.isValid(o)){i=r=o;break}for(;s>a;++a)o=e?e(t[a]):t[a],n.isValid(o)&&(i>o&&(i=o),o>r&&(r=o));return[i,r]},o.extent.index=function(t,e){e=n.$(e);var i,r,o,a,s=-1,u=-1,l=t.length;for(a=0;l>a;++a)if(o=e?e(t[a]):t[a],n.isValid(o)){i=r=o,s=u=a;break}for(;l>a;++a)o=e?e(t[a]):t[a],n.isValid(o)&&(i>o&&(i=o,s=a),o>r&&(r=o,u=a));return[s,u]},o.dot=function(t,e,i){var r,o,a=0;if(i)for(e=n.$(e),i=n.$(i),r=0;r<t.length;++r)o=e(t[r])*i(t[r]),o===o&&(a+=o);else{if(t.length!==e.length)throw Error("Array lengths must match.");for(r=0;r<t.length;++r)o=t[r]*e[r],o===o&&(a+=o)}return a},o.rank=function(t,e){e=n.$(e)||n.identity;var i,r,o,a=t.map(function(t,n){return{idx:n,val:e(t)}}).sort(n.comparator("val")),s=t.length,u=Array(s),l=-1,c={};for(i=0;s>i;++i){if(r=a[i].val,0>l&&c===r)l=i-1;else if(l>-1&&c!==r){for(o=1+(i-1+l)/2;i>l;++l)u[a[l].idx]=o;l=-1}u[a[i].idx]=i+1,c=r}if(l>-1)for(o=1+(s-1+l)/2;s>l;++l)u[a[l].idx]=o;return u},o.cor=function(t,e,i){var r=i;i=r?t.map(n.$(i)):e,e=r?t.map(n.$(e)):t;var a=o.dot(e,i),s=o.mean(e),u=o.mean(i),l=o.stdev(e),c=o.stdev(i),f=t.length;return(a-f*s*u)/((f-1)*l*c)},o.cor.rank=function(t,e,i){var r,a,s,u=i?o.rank(t,n.$(e)):o.rank(t),l=i?o.rank(t,n.$(i)):o.rank(e),c=t.length;for(r=0,a=0;c>r;++r)s=u[r]-l[r],a+=s*s;return 1-6*a/(c*(c*c-1))},o.cor.dist=function(t,e,i){var r,a,s,u,l=i?t.map(n.$(e)):t,c=i?t.map(n.$(i)):e,f=o.dist.mat(l),h=o.dist.mat(c),d=f.length;for(r=0,a=0,s=0,u=0;d>r;++r)a+=f[r]*f[r],s+=h[r]*h[r],u+=f[r]*h[r];return Math.sqrt(u/Math.sqrt(a*s))},o.dist=function(t,e,i,r){var o,a,s=n.isFunction(i)||n.isString(i),u=t,l=s?t:e,c=s?r:i,f=2===c||null==c,h=t.length,d=0;for(s&&(e=n.$(e),i=n.$(i)),a=0;h>a;++a)o=s?e(u[a])-i(l[a]):u[a]-l[a],d+=f?o*o:Math.pow(Math.abs(o),c);return f?Math.sqrt(d):Math.pow(d,1/c)},o.dist.mat=function(t){var e,n,i,o=t.length,a=o*o,s=Array(a),u=r.zeros(o),l=0;for(n=0;o>n;++n)for(s[n*o+n]=0,i=n+1;o>i;++i)s[n*o+i]=e=Math.abs(t[n]-t[i]),s[i*o+n]=e,u[n]+=e,u[i]+=e;for(n=0;o>n;++n)l+=u[n],u[n]/=o;for(l/=a,n=0;o>n;++n)for(i=n;o>i;++i)s[n*o+i]+=l-u[n]-u[i],s[i*o+n]=s[n*o+i];return s},o.entropy=function(t,e){e=n.$(e);var i,r,o=0,a=0,s=t.length;for(i=0;s>i;++i)o+=e?e(t[i]):t[i];if(0===o)return 0;for(i=0;s>i;++i)r=(e?e(t[i]):t[i])/o,r&&(a+=r*Math.log(r));return-a/Math.LN2},o.mutual=function(t,e,i,r){var o,a,s,u=r?t.map(n.$(e)):t,l=r?t.map(n.$(i)):e,c=r?t.map(n.$(r)):i,f={},h={},d=c.length,p=0,g=0,m=0;for(s=0;d>s;++s)f[u[s]]=0,h[l[s]]=0;for(s=0;d>s;++s)f[u[s]]+=c[s],h[l[s]]+=c[s],p+=c[s];for(a=1/(p*Math.LN2),s=0;d>s;++s)0!==c[s]&&(o=p*c[s]/(f[u[s]]*h[l[s]]),g+=c[s]*a*Math.log(o),m+=c[s]*a*Math.log(c[s]/p));return[g,1+g/m]},o.mutual.info=function(t,e,n,i){return o.mutual(t,e,n,i)[0]},o.mutual.dist=function(t,e,n,i){return o.mutual(t,e,n,i)[1]},o.profile=function(t,e){var r,a,s,u,l,c=0,f=0,h=0,d=0,p=null,g=null,m=0,v=[],y={};for(s=0;s<t.length;++s)u=e?e(t[s]):t[s],y[u]=u in y?y[u]+1:(d+=1,1),null==u?++h:n.isValid(u)&&(l="string"==typeof u?u.length:u,(null===p||p>l)&&(p=l),(null===g||l>g)&&(g=l),r=l-c,c+=r/++f,m+=r*(l-c),v.push(l));
return m/=f-1,a=Math.sqrt(m),v.sort(n.cmp),{type:i(t,e),unique:y,count:t.length,valid:f,missing:h,distinct:d,min:p,max:g,mean:c,stdev:a,median:u=o.quantile(v,.5),q1:o.quantile(v,.25),q3:o.quantile(v,.75),modeskew:0===a?0:(c-u)/a}},o.summary=function(t,e){e=e||n.keys(t[0]);var i=e.map(function(e){var i=o.profile(t,n.$(e));return i.field=e,i});return i.__summary__=!0,i},e.exports=o},{"./generate":10,"./import/type":19,"./util":24}],22:[function(t,e){(function(n){function i(t){var e=r(t,"d");return e="var __t; return "+e+";",new Function("d",e).bind(c)}function r(t,e,n){e=e||"obj";var i=0,r="'",s=f;return t.replace(s,function(s,u,l){return r+=t.slice(i,l).replace(d,a),i=l+s.length,u&&(r+="'\n+((__t=("+o(u,e,n)+"))==null?'':__t)+\n'"),s}),r+"'"}function o(t,e,n){function r(t){return t=t||"",f?(f=!1,h="String("+h+")"+t):h+=t,h}function o(){return"(typeof "+h+'==="number"?new Date('+h+"):"+h+")"}var a=t.split("|"),c=a.shift().trim(),f=!0;n&&(n[c]=1);for(var h=i.property(e,c),d=0;d<a.length;++d){var p,g,m,v=a[d],y=null;switch((p=v.indexOf(":"))>0&&(v=v.slice(0,p),y=a[d].slice(p+1).split(",").map(function(t){return t.trim()})),v=v.trim()){case"length":r(".length");break;case"lower":r(".toLowerCase()");break;case"upper":r(".toUpperCase()");break;case"lower-locale":r(".toLocaleLowerCase()");break;case"upper-locale":r(".toLocaleUpperCase()");break;case"trim":r(".trim()");break;case"left":g=u.number(y[0]),r(".slice(0,"+g+")");break;case"right":g=u.number(y[0]),r(".slice(-"+g+")");break;case"mid":g=u.number(y[0]),m=g+u.number(y[1]),r(".slice(+"+g+","+m+")");break;case"slice":g=u.number(y[0]),r(".slice("+g+(y.length>1?","+u.number(y[1]):"")+")");break;case"truncate":g=u.number(y[0]),m=y[1],m="left"!==m&&"middle"!==m&&"center"!==m?"right":m,h="this.truncate("+r()+","+g+",'"+m+"')";break;case"pad":g=u.number(y[0]),m=y[1],m="left"!==m&&"middle"!==m&&"center"!==m?"right":m,h="this.pad("+r()+","+g+",'"+m+"')";break;case"number":g=s(y[0],l.format),f=!1,h="this.formats["+g+"]("+h+")";break;case"time":g=s(y[0],l.time.format),f=!1,h="this.formats["+g+"]("+o()+")";break;default:throw Error("Unrecognized template filter: "+v)}}return h}function a(t){return"\\"+h[t]}function s(t,e){if(!("'"===t[0]&&"'"===t[t.length-1]||'"'===t[0]&&'"'===t[t.length-1]))throw Error("Format pattern must be quoted: "+t);if(t=t.slice(1,-1),!c.format_map[t]){var n=e(t),i=c.formats.length;c.formats.push(n),c.format_map[t]=i}return c.format_map[t]}var u=t("./util"),l="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,c={formats:[],format_map:{},truncate:u.truncate,pad:u.pad};i.source=r,i.context=c,e.exports=i,i.clearFormatCache=function(){c.formats=[],c.format_map={}},i.property=function(t,e){var n=u.field(e).map(u.str).join("][");return t+"["+n+"]"};var f=/\{\{(.+?)\}\}|$/g,h={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},d=/\\|'|\r|\n|\u2028|\u2029/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./util":24}],23:[function(t,e){function n(t){return"number"==typeof t}var i=[[31536e6,5],[7776e6,4],[2592e6,4],[12096e5,3],[6048e5,3],[1728e5,3],[864e5,3],[432e5,2],[216e5,2],[108e5,2],[36e5,2],[18e5,1],[9e5,1],[3e5,1],[6e4,1],[3e4,0],[15e3,0],[5e3,0],[1e3,0]],r=[{type:"second",minstep:1,format:"%Y %b %-d %H:%M:%S.%L",date:function(t){return new Date(1e3*t)},unit:function(t){return+t/1e3}},{type:"minute",minstep:1,format:"%Y %b %-d %H:%M",date:function(t){return new Date(6e4*t)},unit:function(t){return~~(+t/6e4)}},{type:"hour",minstep:1,format:"%Y %b %-d %H:00",date:function(t){return new Date(36e5*t)},unit:function(t){return~~(+t/36e5)}},{type:"day",minstep:1,step:[1,7],format:"%Y %b %-d",date:function(t){return new Date(864e5*t)},unit:function(t){return~~(+t/864e5)}},{type:"month",minstep:1,step:[1,3,6],format:"%b %Y",date:function(t){return new Date(Date.UTC(~~(t/12),t%12,1))},unit:function(t){return n(t)&&(t=new Date(t)),12*t.getUTCFullYear()+t.getUTCMonth()}},{type:"year",minstep:1,format:"%Y",date:function(t){return new Date(Date.UTC(t,0,1))},unit:function(t){return(n(t)?new Date(t):t).getUTCFullYear()}}],o={type:"minuteOfHour",min:0,max:59,minstep:1,format:"%M",date:function(t){return new Date(Date.UTC(1970,0,1,0,t))},unit:function(t){return(n(t)?new Date(t):t).getUTCMinutes()}},a={type:"hourOfDay",min:0,max:23,minstep:1,format:"%H",date:function(t){return new Date(Date.UTC(1970,0,1,t))},unit:function(t){return(n(t)?new Date(t):t).getUTCHours()}},s={type:"dayOfWeek",min:0,max:6,step:[1],format:"%a",date:function(t){return new Date(Date.UTC(1970,0,4+t))},unit:function(t){return(n(t)?new Date(t):t).getUTCDay()}},u={type:"dayOfMonth",min:1,max:31,step:[1],format:"%-d",date:function(t){return new Date(Date.UTC(1970,0,t))},unit:function(t){return(n(t)?new Date(t):t).getUTCDate()}},l={type:"monthOfYear",min:0,max:11,step:[1],format:"%b",date:function(t){return new Date(Date.UTC(1970,t%12,1))},unit:function(t){return(n(t)?new Date(t):t).getUTCMonth()}},c={second:r[0],minute:r[1],hour:r[2],day:r[3],month:r[4],year:r[5],minuteOfHour:o,hourOfDay:a,dayOfWeek:s,dayOfMonth:u,monthOfYear:l,timesteps:r};c.find=function(t,e,n){var o,a,s,u=i[0];for(o=1,a=i.length;a>o;++o)if(u=i[o],t>u[0]){if(s=t/u[0],s>n)return r[i[o-1][1]];if(s>=e)return r[u[1]]}return r[i[i.length-1][1]]},e.exports=c},{}],24:[function(t,e){(function(n){function i(t){return t.replace(f,"$1\\'")}function r(t,e){var n,i="";for(n=0;t>n;++n)i+=e;return i}function o(t,e,n){var i=0,r=t.split(h);return t=n?(r=r.reverse()).filter(function(t){return i+=t.length,e>=i}).reverse():r.filter(function(t){return i+=t.length,e>=i}),t.length?t.join("").trim():r[0].slice(0,e)}var a=t("buffer"),s=t("./time-units"),u=e.exports={};u.isNode="undefined"!=typeof n&&"undefined"!=typeof n.stderr;var l="__name__";u.namedfunc=function(t,e){return e[l]=t,e},u.name=function(t){return null==t?null:t[l]},u.identity=function(t){return t},u.true=u.namedfunc("true",function(){return!0}),u.false=u.namedfunc("false",function(){return!1}),u.duplicate=function(t){return JSON.parse(JSON.stringify(t))},u.equal=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},u.extend=function(t){for(var e,n,i=1,r=arguments.length;r>i;++i){e=arguments[i];for(n in e)t[n]=e[n]}return t},u.length=function(t){return null!=t&&null!=t.length?t.length:null},u.keys=function(t){var e,n=[];for(e in t)n.push(e);return n},u.vals=function(t){var e,n=[];for(e in t)n.push(t[e]);return n},u.toMap=function(t,e){return(e=u.$(e))?t.reduce(function(t,n){return t[e(n)]=1,t},{}):t.reduce(function(t,e){return t[e]=1,t},{})},u.keystr=function(t){var e=t.length;if(!e)return"";for(var n=String(t[0]),i=1;e>i;++i)n+="|"+String(t[i]);return n};var c=Object.prototype.toString;u.isObject=function(t){return t===Object(t)},u.isFunction=function(t){return"[object Function]"===c.call(t)},u.isString=function(t){return"string"==typeof value||"[object String]"===c.call(t)},u.isArray=Array.isArray||function(t){return"[object Array]"===c.call(t)},u.isNumber=function(t){return"number"==typeof t||"[object Number]"===c.call(t)},u.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==c.call(t)},u.isDate=function(t){return"[object Date]"===c.call(t)},u.isValid=function(t){return null!=t&&t===t},u.isBuffer=a.Buffer&&a.Buffer.isBuffer||u.false,u.number=function(t){return null==t||""===t?null:+t},u.boolean=function(t){return null==t||""===t?null:"false"===t?!1:!!t},u.date=function(t){return null==t||""===t?null:Date.parse(t)},u.array=function(t){return null!=t?u.isArray(t)?t:[t]:[]},u.str=function(t){return u.isArray(t)?"["+t.map(u.str)+"]":u.isObject(t)?JSON.stringify(t):u.isString(t)?"'"+i(t)+"'":t};var f=/(^|[^\\])'/g;u.field=function(t){return String(t).split("\\.").map(function(t){return t.split(".")}).reduce(function(t,e){return t.length&&(t[t.length-1]+="."+e.shift()),t.push.apply(t,e),t},[])},u.accessor=function(t){var e;return null==t||u.isFunction(t)?t:u.namedfunc(t,(e=u.field(t)).length>1?function(t){return e.reduce(function(t,e){return t[e]},t)}:function(e){return e[t]})},u.$=u.accessor,u.mutator=function(t){var e;return u.isString(t)&&(e=u.field(t)).length>1?function(t,n){for(var i=0;i<e.length-1;++i)t=t[e[i]];t[e[i]]=n}:function(e,n){e[t]=n}},u.$func=function(t,e){return function(n){n=u.$(n)||u.identity;var i=t+(u.name(n)?"_"+u.name(n):"");return u.namedfunc(i,function(t){return e(n(t))})}},u.$valid=u.$func("valid",u.isValid),u.$length=u.$func("length",u.length),u.$year=u.$func("year",s.year.unit),u.$month=u.$func("month",s.monthOfYear.unit),u.$date=u.$func("date",s.dayOfMonth.unit),u.$day=u.$func("day",s.dayOfWeek.unit),u.$hour=u.$func("hour",s.hourOfDay.unit),u.$minute=u.$func("minute",s.minuteOfHour.unit),u.$in=function(t,e){t=u.$(t);var n=u.isArray(e)?u.toMap(e):e;return function(e){return!!n[t(e)]}},u.comparator=function(t){var e=[];return void 0===t&&(t=[]),t=u.array(t).map(function(t){var n=1;return"-"===t[0]?(n=-1,t=t.slice(1)):"+"===t[0]&&(n=1,t=t.slice(1)),e.push(n),u.accessor(t)}),function(n,i){var r,o,a,s,u;for(r=0,o=t.length;o>r;++r){if(a=t[r],s=a(n),u=a(i),u>s)return-1*e[r];if(s>u)return e[r]}return 0}},u.cmp=function(t,e){return e>t?-1:t>e?1:t>=e?0:null===t?-1:null===e?1:0/0},u.numcmp=function(t,e){return t-e},u.stablesort=function(t,e,n){var i=t.reduce(function(t,e,i){return t[n(e)]=i,t},{});return t.sort(function(t,r){var o=e(t),a=e(r);return a>o?-1:o>a?1:i[n(t)]-i[n(r)]}),t},u.startsWith=String.prototype.startsWith?function(t,e){return t.startsWith(e)}:function(t,e){return 0===t.lastIndexOf(e,0)},u.pad=function(t,e,n,i){i=i||" ";var o=e-t.length;if(0>=o)return t;switch(n){case"left":return r(o,i)+t;case"middle":case"center":return r(Math.floor(o/2),i)+t+r(Math.ceil(o/2),i);default:return t+r(o,i)}},u.truncate=function(t,e,n,i,r){var a=t.length;if(e>=a)return t;r=void 0!==r?String(r):"…";var s=Math.max(0,e-r.length);switch(n){case"left":return r+(i?o(t,s,1):t.slice(a-s));case"middle":case"center":var u=Math.ceil(s/2),l=Math.floor(s/2);return(i?o(t,u):t.slice(0,u))+r+(i?o(t,l,1):t.slice(a-l));default:return(i?o(t,s):t.slice(0,s))+r}};var h=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/}).call(this,t("_process"))},{"./time-units":23,_process:3,buffer:2}]},{},[1])(1)}),/**
 * @license AngularJS v1.3.16
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function i(t){var e;if(e=t.match(l)){var n=new Date(0),i=0,o=0;return e[9]&&(i=r(e[9]+e[10]),o=r(e[9]+e[11])),n.setUTCFullYear(r(e[1]),r(e[2])-1,r(e[3])),n.setUTCHours(r(e[4]||0)-i,r(e[5]||0)-o,r(e[6]||0),r(e[7]||0)),n}return t}function r(t){return parseInt(t,10)}function o(t,e,n){var i="";for(0>t&&(i="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),i+t}function a(t,i,r,o){function a(t,n,i,r){return e.isFunction(t)?t:function(){return e.isNumber(t)?[t,n,i,r]:[200,t,n,i]}}function l(t,a,s,l,c,m,v){function y(t){return e.isString(t)||e.isFunction(t)||t instanceof RegExp?t:e.toJson(t)}function b(e){function r(){var n=e.response(t,a,s,c);w.$$respHeaders=n[2],l(g(n[0]),g(n[1]),w.getAllResponseHeaders(),g(n[3]||""))}function u(){for(var t=0,e=d.length;e>t;t++)if(d[t]===r){d.splice(t,1),l(-1,n,"");break}}return!o&&m&&(m.then?m.then(u):i(u,m)),r}var w=new u,_=h[0],x=!1;if(_&&_.match(t,a)){if(!_.matchData(s))throw new Error("Expected "+_+" with different data\nEXPECTED: "+y(_.data)+"\nGOT:      "+s);if(!_.matchHeaders(c))throw new Error("Expected "+_+" with different headers\nEXPECTED: "+y(_.headers)+"\nGOT:      "+y(c));if(h.shift(),_.response)return void d.push(b(_));x=!0}for(var $,C=-1;$=f[++C];)if($.match(t,a,s,c||{})){if($.response)(o?o.defer:p)(b($));else{if(!$.passThrough)throw new Error("No response defined !");r(t,a,s,l,c,m,v)}return}throw new Error(x?"No response defined !":"Unexpected request: "+t+" "+a+"\n"+(_?"Expected "+_:"No more request expected"))}function c(t){e.forEach(["GET","DELETE","JSONP","HEAD"],function(e){l[t+e]=function(i,r){return l[t](e,i,n,r)}}),e.forEach(["PUT","POST","PATCH"],function(e){l[t+e]=function(n,i,r){return l[t](e,n,i,r)}})}var f=[],h=[],d=[],p=e.bind(d,d.push),g=e.copy;return l.when=function(t,e,i,r){var u=new s(t,e,i,r),l={respond:function(t,e,i,r){return u.passThrough=n,u.response=a(t,e,i,r),l}};return o&&(l.passThrough=function(){return u.response=n,u.passThrough=!0,l}),f.push(u),l},c("when"),l.expect=function(t,e,n,i){var r=new s(t,e,n,i),o={respond:function(t,e,n,i){return r.response=a(t,e,n,i),o}};return h.push(r),o},c("expect"),l.flush=function(n,i){if(i!==!1&&t.$digest(),!d.length)throw new Error("No pending request to flush !");if(e.isDefined(n)&&null!==n)for(;n--;){if(!d.length)throw new Error("No more pending request to flush !");d.shift()()}else for(;d.length;)d.shift()();l.verifyNoOutstandingExpectation(i)},l.verifyNoOutstandingExpectation=function(e){if(e!==!1&&t.$digest(),h.length)throw new Error("Unsatisfied requests: "+h.join(", "))},l.verifyNoOutstandingRequest=function(){if(d.length)throw new Error("Unflushed requests: "+d.length)},l.resetExpectations=function(){h.length=0,d.length=0},l}function s(t,n,i,r){this.data=i,this.headers=r,this.match=function(n,i,r,o){return t!=n?!1:this.matchUrl(i)?e.isDefined(r)&&!this.matchData(r)?!1:e.isDefined(o)&&!this.matchHeaders(o)?!1:!0:!1},this.matchUrl=function(t){return n?e.isFunction(n.test)?n.test(t):e.isFunction(n)?n(t):n==t:!0},this.matchHeaders=function(t){return e.isUndefined(r)?!0:e.isFunction(r)?r(t):e.equals(r,t)},this.matchData=function(t){return e.isUndefined(i)?!0:i&&e.isFunction(i.test)?i.test(t):i&&e.isFunction(i)?i(t):i&&!e.isString(i)?e.equals(e.fromJson(e.toJson(i)),e.fromJson(t)):i==t},this.toString=function(){return t+" "+n}}function u(){u.$$lastInstance=this,this.open=function(t,e,n){this.$$method=t,this.$$url=e,this.$$async=n,this.$$reqHeaders={},this.$$respHeaders={}},this.send=function(t){this.$$data=t},this.setRequestHeader=function(t,e){this.$$reqHeaders[t]=e},this.getResponseHeader=function(t){var i=this.$$respHeaders[t];return i?i:(t=e.lowercase(t),(i=this.$$respHeaders[t])?i:(i=n,e.forEach(this.$$respHeaders,function(n,r){i||e.lowercase(r)!=t||(i=n)}),i))},this.getAllResponseHeaders=function(){var t=[];return e.forEach(this.$$respHeaders,function(e,n){t.push(n+": "+e)}),t.join("\n")},this.abort=e.noop}e.mock={},e.mock.$BrowserProvider=function(){this.$get=function(){return new e.mock.$Browser}},e.mock.$Browser=function(){var t=this;this.isMock=!0,t.$$url="http://server/",t.$$lastUrl=t.$$url,t.pollFns=[],t.$$completeOutstandingRequest=e.noop,t.$$incOutstandingRequestCount=e.noop,t.onUrlChange=function(e){return t.pollFns.push(function(){(t.$$lastUrl!==t.$$url||t.$$state!==t.$$lastState)&&(t.$$lastUrl=t.$$url,t.$$lastState=t.$$state,e(t.$$url,t.$$state))}),e},t.$$checkUrlChange=e.noop,t.cookieHash={},t.lastCookieHash={},t.deferredFns=[],t.deferredNextId=0,t.defer=function(e,n){return n=n||0,t.deferredFns.push({time:t.defer.now+n,fn:e,id:t.deferredNextId}),t.deferredFns.sort(function(t,e){return t.time-e.time}),t.deferredNextId++},t.defer.now=0,t.defer.cancel=function(i){var r;return e.forEach(t.deferredFns,function(t,e){t.id===i&&(r=e)}),r!==n?(t.deferredFns.splice(r,1),!0):!1},t.defer.flush=function(n){if(e.isDefined(n))t.defer.now+=n;else{if(!t.deferredFns.length)throw new Error("No deferred tasks to be flushed");t.defer.now=t.deferredFns[t.deferredFns.length-1].time}for(;t.deferredFns.length&&t.deferredFns[0].time<=t.defer.now;)t.deferredFns.shift().fn()},t.$$baseHref="/",t.baseHref=function(){return this.$$baseHref}},e.mock.$Browser.prototype={poll:function(){e.forEach(this.pollFns,function(t){t()})},addPollFn:function(t){return this.pollFns.push(t),t},url:function(t,n,i){return e.isUndefined(i)&&(i=null),t?(this.$$url=t,this.$$state=e.copy(i),this):this.$$url},state:function(){return this.$$state},cookies:function(t,n){return t?void(e.isUndefined(n)?delete this.cookieHash[t]:e.isString(n)&&n.length<=4096&&(this.cookieHash[t]=n)):(e.equals(this.cookieHash,this.lastCookieHash)||(this.lastCookieHash=e.copy(this.cookieHash),this.cookieHash=e.copy(this.cookieHash)),this.cookieHash)},notifyWhenNoOutstandingRequests:function(t){t()}},e.mock.$ExceptionHandlerProvider=function(){var t;this.mode=function(e){switch(e){case"log":case"rethrow":var n=[];t=function(t){if(n.push(1==arguments.length?t:[].slice.call(arguments,0)),"rethrow"===e)throw t},t.errors=n;break;default:throw new Error("Unknown mode '"+e+"', only 'log'/'rethrow' modes are allowed!")}},this.$get=function(){return t},this.mode("rethrow")},e.mock.$LogProvider=function(){function t(t,e,n){return t.concat(Array.prototype.slice.call(e,n))}var n=!0;this.debugEnabled=function(t){return e.isDefined(t)?(n=t,this):n},this.$get=function(){var i={log:function(){i.log.logs.push(t([],arguments,0))},warn:function(){i.warn.logs.push(t([],arguments,0))},info:function(){i.info.logs.push(t([],arguments,0))},error:function(){i.error.logs.push(t([],arguments,0))},debug:function(){n&&i.debug.logs.push(t([],arguments,0))}};return i.reset=function(){i.log.logs=[],i.info.logs=[],i.warn.logs=[],i.error.logs=[],i.debug.logs=[]},i.assertEmpty=function(){var t=[];if(e.forEach(["error","warn","info","log","debug"],function(n){e.forEach(i[n].logs,function(i){e.forEach(i,function(e){t.push("MOCK $log ("+n+"): "+String(e)+"\n"+(e.stack||""))})})}),t.length)throw t.unshift("Expected $log to be empty! Either a message was logged unexpectedly, or an expected log message was not checked and removed:"),t.push(""),new Error(t.join("\n---------\n"))},i.reset(),i}},e.mock.$IntervalProvider=function(){this.$get=["$browser","$rootScope","$q","$$q",function(t,i,r,o){var a=[],s=0,u=0,l=function(l,c,f,h){function d(){if(m.notify(p++),f>0&&p>=f){var r;m.resolve(p),e.forEach(a,function(t,e){t.id===v.$$intervalId&&(r=e)}),r!==n&&a.splice(r,1)}g?t.defer.flush():i.$apply()}var p=0,g=e.isDefined(h)&&!h,m=(g?o:r).defer(),v=m.promise;return f=e.isDefined(f)?f:0,v.then(null,null,l),v.$$intervalId=s,a.push({nextTime:u+c,delay:c,fn:d,id:s,deferred:m}),a.sort(function(t,e){return t.nextTime-e.nextTime}),s++,v};return l.cancel=function(t){if(!t)return!1;var i;return e.forEach(a,function(e,n){e.id===t.$$intervalId&&(i=n)}),i!==n?(a[i].deferred.reject("canceled"),a.splice(i,1),!0):!1},l.flush=function(t){for(u+=t;a.length&&a[0].nextTime<=u;){var e=a[0];e.fn(),e.nextTime+=e.delay,a.sort(function(t,e){return t.nextTime-e.nextTime})}return t},l}]};var l=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?:\:?(\d\d)(?:\:?(\d\d)(?:\.(\d{3}))?)?)?(Z|([+-])(\d\d):?(\d\d)))?$/;if(e.mock.TzDate=function(t,n){var r=new Date(0);if(e.isString(n)){var a=n;if(r.origDate=i(n),n=r.origDate.getTime(),isNaN(n))throw{name:"Illegal Argument",message:"Arg '"+a+"' passed into TzDate constructor is not a valid date string"}}else r.origDate=new Date(n);var s=new Date(n).getTimezoneOffset();r.offsetDiff=60*s*1e3-1e3*t*60*60,r.date=new Date(n+r.offsetDiff),r.getTime=function(){return r.date.getTime()-r.offsetDiff},r.toLocaleDateString=function(){return r.date.toLocaleDateString()},r.getFullYear=function(){return r.date.getFullYear()},r.getMonth=function(){return r.date.getMonth()},r.getDate=function(){return r.date.getDate()},r.getHours=function(){return r.date.getHours()},r.getMinutes=function(){return r.date.getMinutes()},r.getSeconds=function(){return r.date.getSeconds()},r.getMilliseconds=function(){return r.date.getMilliseconds()},r.getTimezoneOffset=function(){return 60*t},r.getUTCFullYear=function(){return r.origDate.getUTCFullYear()},r.getUTCMonth=function(){return r.origDate.getUTCMonth()},r.getUTCDate=function(){return r.origDate.getUTCDate()},r.getUTCHours=function(){return r.origDate.getUTCHours()},r.getUTCMinutes=function(){return r.origDate.getUTCMinutes()},r.getUTCSeconds=function(){return r.origDate.getUTCSeconds()},r.getUTCMilliseconds=function(){return r.origDate.getUTCMilliseconds()},r.getDay=function(){return r.date.getDay()},r.toISOString&&(r.toISOString=function(){return o(r.origDate.getUTCFullYear(),4)+"-"+o(r.origDate.getUTCMonth()+1,2)+"-"+o(r.origDate.getUTCDate(),2)+"T"+o(r.origDate.getUTCHours(),2)+":"+o(r.origDate.getUTCMinutes(),2)+":"+o(r.origDate.getUTCSeconds(),2)+"."+o(r.origDate.getUTCMilliseconds(),3)+"Z"});var u=["getUTCDay","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toGMTString","toJSON","toLocaleFormat","toLocaleString","toLocaleTimeString","toSource","toString","toTimeString","toUTCString","valueOf"];return e.forEach(u,function(t){r[t]=function(){throw new Error("Method '"+t+"' is not implemented in the TzDate mock")}}),r},e.mock.TzDate.prototype=Date.prototype,e.mock.animate=e.module("ngAnimateMock",["ng"]).config(["$provide",function(t){var n=[];t.value("$$animateReflow",function(t){var e=n.length;return n.push(t),function(){n.splice(e,1)}}),t.decorator("$animate",["$delegate","$$asyncCallback","$timeout","$browser",function(t,i,r){var o={queue:[],cancel:t.cancel,enabled:t.enabled,triggerCallbackEvents:function(){i.flush()},triggerCallbackPromise:function(){r.flush(0)},triggerCallbacks:function(){this.triggerCallbackEvents(),this.triggerCallbackPromise()},triggerReflow:function(){e.forEach(n,function(t){t()}),n=[]}};return e.forEach(["animate","enter","leave","move","addClass","removeClass","setClass"],function(e){o[e]=function(){return o.queue.push({event:e,element:arguments[0],options:arguments[arguments.length-1],args:arguments}),t[e].apply(t,arguments)}}),o}])}]),e.mock.dump=function(t){function n(t){var r;return e.isElement(t)?(t=e.element(t),r=e.element("<div></div>"),e.forEach(t,function(t){r.append(e.element(t).clone())}),r=r.html()):e.isArray(t)?(r=[],e.forEach(t,function(t){r.push(n(t))}),r="[ "+r.join(", ")+" ]"):r=e.isObject(t)?e.isFunction(t.$eval)&&e.isFunction(t.$apply)?i(t):t instanceof Error?t.stack||""+t.name+": "+t.message:e.toJson(t,!0):String(t),r}function i(t,n){n=n||"  ";var r=[n+"Scope("+t.$id+"): {"];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&!o.match(/^(\$|this)/)&&r.push("  "+o+": "+e.toJson(t[o]));for(var a=t.$$childHead;a;)r.push(i(a,n+"  ")),a=a.$$nextSibling;return r.push("}"),r.join("\n"+n)}return n(t)},e.mock.$HttpBackendProvider=function(){this.$get=["$rootScope","$timeout",a]},e.mock.$TimeoutDecorator=["$delegate","$browser",function(t,n){function i(t){var n=[];return e.forEach(t,function(t){n.push("{id: "+t.id+", time: "+t.time+"}")}),n.join(", ")}return t.flush=function(t){n.defer.flush(t)},t.verifyNoPendingTasks=function(){if(n.deferredFns.length)throw new Error("Deferred tasks to flush ("+n.deferredFns.length+"): "+i(n.deferredFns))},t}],e.mock.$RAFDecorator=["$delegate",function(t){var e=[],n=function(t){var n=e.length;return e.push(t),function(){e.splice(n,1)}};return n.supported=t.supported,n.flush=function(){if(0===e.length)throw new Error("No rAF callbacks present");for(var t=e.length,n=0;t>n;n++)e[n]();e=[]},n}],e.mock.$AsyncCallbackDecorator=["$delegate",function(){var t=[],n=function(e){t.push(e)};return n.flush=function(){e.forEach(t,function(t){t()}),t=[]},n}],e.mock.$RootElementProvider=function(){this.$get=function(){return e.element("<div ng-app></div>")}},e.mock.$ControllerDecorator=["$delegate",function(t){return function(n,i,r,o){if(r&&"object"==typeof r){var a=t(n,i,!0,o);return e.extend(a.instance,r),a()}return t(n,i,r,o)}}],e.module("ngMock",["ng"]).provider({$browser:e.mock.$BrowserProvider,$exceptionHandler:e.mock.$ExceptionHandlerProvider,$log:e.mock.$LogProvider,$interval:e.mock.$IntervalProvider,$httpBackend:e.mock.$HttpBackendProvider,$rootElement:e.mock.$RootElementProvider}).config(["$provide",function(t){t.decorator("$timeout",e.mock.$TimeoutDecorator),t.decorator("$$rAF",e.mock.$RAFDecorator),t.decorator("$$asyncCallback",e.mock.$AsyncCallbackDecorator),t.decorator("$rootScope",e.mock.$RootScopeDecorator),t.decorator("$controller",e.mock.$ControllerDecorator)}]),e.module("ngMockE2E",["ng"]).config(["$provide",function(t){t.decorator("$httpBackend",e.mock.e2e.$httpBackendDecorator)}]),e.mock.e2e={},e.mock.e2e.$httpBackendDecorator=["$rootScope","$timeout","$delegate","$browser",a],e.mock.$RootScopeDecorator=["$delegate",function(t){function e(){for(var t,e=0,n=[this.$$childHead];n.length;)for(t=n.shift();t;)e+=1,n.push(t.$$childHead),t=t.$$nextSibling;return e}function n(){for(var t,e=this.$$watchers?this.$$watchers.length:0,n=[this.$$childHead];n.length;)for(t=n.shift();t;)e+=t.$$watchers?t.$$watchers.length:0,n.push(t.$$childHead),t=t.$$nextSibling;return e}var i=Object.getPrototypeOf(t);return i.$countChildScopes=e,i.$countWatchers=n,t}],t.jasmine||t.mocha){var c=null,f=[],h=function(){return!!c};e.mock.$$annotate=e.injector.$$annotate,e.injector.$$annotate=function(t){return"function"!=typeof t||t.$inject||f.push(t),e.mock.$$annotate.apply(this,arguments)},(t.beforeEach||t.setup)(function(){f=[],c=this}),(t.afterEach||t.teardown)(function(){var t=c.$injector;f.forEach(function(t){delete t.$inject}),e.forEach(c.$modules,function(t){t&&t.$$hashKey&&(t.$$hashKey=n)}),c.$injector=null,c.$modules=null,c=null,t&&(t.get("$rootElement").off(),t.get("$browser").pollFns.length=0),e.forEach(e.element.fragments,function(t,n){delete e.element.fragments[n]}),u.$$lastInstance=null,e.forEach(e.callbacks,function(t,n){delete e.callbacks[n]}),e.callbacks.counter=0}),t.module=e.mock.module=function(){function t(){if(c.$injector)throw new Error("Injector already created, can not register a module!");var t=c.$modules||(c.$modules=[]);e.forEach(n,function(n){t.push(e.isObject(n)&&!e.isArray(n)?function(t){e.forEach(n,function(e,n){t.value(n,e)})}:n)})}var n=Array.prototype.slice.call(arguments,0);return h()?t():t};var d=function(t,e){this.message=t.message,this.name=t.name,t.line&&(this.line=t.line),t.sourceId&&(this.sourceId=t.sourceId),t.stack&&e&&(this.stack=t.stack+"\n"+e.stack),t.stackArray&&(this.stackArray=t.stackArray)};d.prototype.toString=Error.prototype.toString,t.inject=e.mock.inject=function(){function t(){var t=c.$modules||[],r=!!c.$injectorStrict;t.unshift("ngMock"),t.unshift("ng");var o=c.$injector;o||(r&&e.forEach(t,function(t){"function"==typeof t&&e.injector.$$annotate(t)}),o=c.$injector=e.injector(t,r),c.$injectorStrict=r);for(var a=0,s=n.length;s>a;a++){c.$injectorStrict&&o.annotate(n[a]);try{o.invoke(n[a]||e.noop,this)}catch(u){if(u.stack&&i)throw new d(u,i);throw u}finally{i=null}}}var n=Array.prototype.slice.call(arguments,0),i=new Error("Declaration Location");return h()?t.call(c):t},e.mock.inject.strictDi=function(t){function e(){if(t!==c.$injectorStrict){if(c.$injector)throw new Error("Injector already created, can not modify strict annotations");c.$injectorStrict=t}}return t=arguments.length?!!t:!0,h()?e():e}}}(window,window.angular),/**
 * @license AngularJS v1.4.1
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function i(t){return null!=t&&""!==t&&"hasOwnProperty"!==t&&s.test("."+t)}function r(t,e){if(!i(e))throw a("badmember",'Dotted member path "@{0}" is invalid.',e);for(var r=e.split("."),o=0,s=r.length;s>o&&t!==n;o++){var u=r[o];t=null!==t?t[u]:n}return t}function o(t,n){n=n||{},e.forEach(n,function(t,e){delete n[e]});for(var i in t)!t.hasOwnProperty(i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(n[i]=t[i]);return n}var a=e.$$minErr("$resource"),s=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;e.module("ngResource",["ng"]).provider("$resource",function(){var t=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$q",function(i,s){function u(t){return l(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function l(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function c(e,n){this.template=e,this.defaults=p({},t.defaults,n),this.urlParams={}}function f(u,l,v,y){function b(t,e){var n={};return e=p({},l,e),d(e,function(e,i){m(e)&&(e=e()),n[i]=e&&e.charAt&&"@"==e.charAt(0)?r(t,e.substr(1)):e}),n}function w(t){return t.resource}function _(t){o(t||{},this)}var x=new c(u,y);return v=p({},t.defaults.actions,v),_.prototype.toJSON=function(){var t=p({},this);return delete t.$promise,delete t.$resolved,t},d(v,function(t,r){var u=/^(POST|PUT|PATCH)$/i.test(t.method);_[r]=function(l,c,f,v){var y,$,C,E={};switch(arguments.length){case 4:C=v,$=f;case 3:case 2:if(!m(c)){E=l,y=c,$=f;break}if(m(l)){$=l,C=c;break}$=c,C=f;case 1:m(l)?$=l:u?y=l:E=l;break;case 0:break;default:throw a("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var k=this instanceof _,S=k?y:t.isArray?[]:new _(y),T={},O=t.interceptor&&t.interceptor.response||w,M=t.interceptor&&t.interceptor.responseError||n;d(t,function(t,e){"params"!=e&&"isArray"!=e&&"interceptor"!=e&&(T[e]=g(t))}),u&&(T.data=y),x.setUrlParams(T,p({},b(y,t.params||{}),E),t.url);var A=i(T).then(function(n){var i=n.data,s=S.$promise;if(i){if(e.isArray(i)!==!!t.isArray)throw a("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",r,t.isArray?"array":"object",e.isArray(i)?"array":"object",T.method,T.url);t.isArray?(S.length=0,d(i,function(t){S.push("object"==typeof t?new _(t):t)})):(o(i,S),S.$promise=s)}return S.$resolved=!0,n.resource=S,n},function(t){return S.$resolved=!0,(C||h)(t),s.reject(t)});return A=A.then(function(t){var e=O(t);return($||h)(e,t.headers),e},M),k?A:(S.$promise=A,S.$resolved=!1,S)},_.prototype["$"+r]=function(t,e,n){m(t)&&(n=e,e=t,t={});var i=_[r].call(this,t,this,e,n);return i.$promise||i}}),_.bind=function(t){return f(u,p({},l,t),v)},_}var h=e.noop,d=e.forEach,p=e.extend,g=e.copy,m=e.isFunction;return c.prototype={setUrlParams:function(t,n,i){var r,o,s=this,l=i||s.template,c=s.urlParams={};d(l.split(/\W/),function(t){if("hasOwnProperty"===t)throw a("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(t)&&t&&new RegExp("(^|[^\\\\]):"+t+"(\\W|$)").test(l)&&(c[t]=!0)}),l=l.replace(/\\:/g,":"),n=n||{},d(s.urlParams,function(t,i){r=n.hasOwnProperty(i)?n[i]:s.defaults[i],e.isDefined(r)&&null!==r?(o=u(r),l=l.replace(new RegExp(":"+i+"(\\W|$)","g"),function(t,e){return o+e})):l=l.replace(new RegExp("(/?):"+i+"(\\W|$)","g"),function(t,e,n){return"/"==n.charAt(0)?n:e+n})}),s.defaults.stripTrailingSlashes&&(l=l.replace(/\/+$/,"")||"/"),l=l.replace(/\/\.(?=\w+($|\?))/,"."),t.url=l.replace(/\/\\\./,"/."),d(n,function(e,n){s.urlParams[n]||(t.params=t.params||{},t.params[n]=e)})}},f}]})}(window,window.angular),/*! tether 0.7.1 */
function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e(require,exports,module):t.Tether=e()}(this,function(){return function(){var t,e,n,i,r,o,a,s,u,l,c,f,h,d,p,g,m,v,y,b={}.hasOwnProperty,w=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},_=[].slice;null==this.Tether&&(this.Tether={modules:[]}),f=function(t){var e,n,i,r,o;if(n=getComputedStyle(t).position,"fixed"===n)return t;for(i=void 0,e=t;e=e.parentNode;){try{r=getComputedStyle(e)}catch(a){}if(null==r)return e;if(/(auto|scroll)/.test(r.overflow+r.overflowY+r.overflowX)&&("absolute"!==n||"relative"===(o=r.position)||"absolute"===o||"fixed"===o))return e}return document.body},m=function(){var t;return t=0,function(){return t++}}(),y={},l=function(t){var e,i,o,a,s;if(o=t._tetherZeroElement,null==o&&(o=t.createElement("div"),o.setAttribute("data-tether-id",m()),r(o.style,{top:0,left:0,position:"absolute"}),t.body.appendChild(o),t._tetherZeroElement=o),e=o.getAttribute("data-tether-id"),null==y[e]){y[e]={},s=o.getBoundingClientRect();for(i in s)a=s[i],y[e][i]=a;n(function(){return y[e]=void 0})}return y[e]},d=null,a=function(t){var e,n,i,r,o,a,s;t===document?(n=document,t=document.documentElement):n=t.ownerDocument,i=n.documentElement,e={},s=t.getBoundingClientRect();for(r in s)a=s[r],e[r]=a;return o=l(n),e.top-=o.top,e.left-=o.left,null==e.width&&(e.width=document.body.scrollWidth-e.left-e.right),null==e.height&&(e.height=document.body.scrollHeight-e.top-e.bottom),e.top=e.top-i.clientTop,e.left=e.left-i.clientLeft,e.right=n.body.clientWidth-e.width-e.left,e.bottom=n.body.clientHeight-e.height-e.top,e},u=function(t){return t.offsetParent||document.documentElement},c=function(){var t,e,n,i,o;return t=document.createElement("div"),t.style.width="100%",t.style.height="200px",e=document.createElement("div"),r(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e),i=t.offsetWidth,e.style.overflow="scroll",o=t.offsetWidth,i===o&&(o=e.clientWidth),document.body.removeChild(e),n=i-o,{width:n,height:n}},r=function(t){var e,n,i,r,o,a,s;for(null==t&&(t={}),e=[],Array.prototype.push.apply(e,arguments),s=e.slice(1),o=0,a=s.length;a>o;o++)if(i=s[o])for(n in i)b.call(i,n)&&(r=i[n],t[n]=r);return t},p=function(t,e){var n,i,r,o,a,u;if(null!=t.classList){for(a=e.split(" "),u=[],r=0,o=a.length;o>r;r++)i=a[r],i.trim()&&u.push(t.classList.remove(i));return u}return n=s(t).replace(new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi")," "),g(t,n)},e=function(t,e){var n,i,r,o,a;if(null!=t.classList){for(o=e.split(" "),a=[],i=0,r=o.length;r>i;i++)n=o[i],n.trim()&&a.push(t.classList.add(n));return a}return p(t,e),n=s(t)+(" "+e),g(t,n)},h=function(t,e){return null!=t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(s(t))},s=function(t){return t.className instanceof SVGAnimatedString?t.className.baseVal:t.className},g=function(t,e){return t.setAttribute("class",e)},v=function(t,n,i){var r,o,a,s,u,l;for(o=0,s=i.length;s>o;o++)r=i[o],w.call(n,r)<0&&h(t,r)&&p(t,r);for(l=[],a=0,u=n.length;u>a;a++)r=n[a],l.push(h(t,r)?void 0:e(t,r));return l},i=[],n=function(t){return i.push(t)},o=function(){var t,e;for(e=[];t=i.pop();)e.push(t());return e},t=function(){function t(){}return t.prototype.on=function(t,e,n,i){var r;return null==i&&(i=!1),null==this.bindings&&(this.bindings={}),null==(r=this.bindings)[t]&&(r[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:i})},t.prototype.once=function(t,e,n){return this.on(t,e,n,!0)},t.prototype.off=function(t,e){var n,i,r;if(null!=(null!=(i=this.bindings)?i[t]:void 0)){if(null==e)return delete this.bindings[t];for(n=0,r=[];n<this.bindings[t].length;)r.push(this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):n++);return r}},t.prototype.trigger=function(){var t,e,n,i,r,o,a,s,u;if(n=arguments[0],t=2<=arguments.length?_.call(arguments,1):[],null!=(a=this.bindings)?a[n]:void 0){for(r=0,u=[];r<this.bindings[n].length;)s=this.bindings[n][r],i=s.handler,e=s.ctx,o=s.once,i.apply(null!=e?e:this,t),u.push(o?this.bindings[n].splice(r,1):r++);return u}},t}(),this.Tether.Utils={getScrollParent:f,getBounds:a,getOffsetParent:u,extend:r,addClass:e,removeClass:p,hasClass:h,updateClasses:v,defer:n,flush:o,uniqueId:m,Evented:t,getScrollBarSize:c}}.call(this),function(){var t,e,n,i,r,o,a,s,u,l,c,f,h,d,p,g,m,v,y,b,w,_,x,$,C,E,k,S,T,O=[].slice,M=function(t,e){return function(){return t.apply(e,arguments)}};if(null==this.Tether)throw new Error("You must include the utils.js file before tether.js");i=this.Tether,T=i.Utils,g=T.getScrollParent,m=T.getSize,d=T.getOuterSize,f=T.getBounds,h=T.getOffsetParent,l=T.extend,r=T.addClass,x=T.removeClass,E=T.updateClasses,u=T.defer,c=T.flush,p=T.getScrollBarSize,k=function(t,e,n){return null==n&&(n=1),t+n>=e&&e>=t-n},C=function(){var t,e,n,i,r;for(t=document.createElement("div"),r=["transform","webkitTransform","OTransform","MozTransform","msTransform"],n=0,i=r.length;i>n;n++)if(e=r[n],void 0!==t.style[e])return e}(),$=[],_=function(){var t,e,n;for(e=0,n=$.length;n>e;e++)t=$[e],t.position(!1);return c()},v=function(){var t;return null!=(t="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?t:+new Date},function(){var t,e,n,i,r,o,a,s,u;for(e=null,n=null,i=null,r=function(){if(null!=n&&n>16)return n=Math.min(n-16,250),void(i=setTimeout(r,250));if(!(null!=e&&v()-e<10))return null!=i&&(clearTimeout(i),i=null),e=v(),_(),n=v()-e},s=["resize","scroll","touchmove"],u=[],o=0,a=s.length;a>o;o++)t=s[o],u.push(window.addEventListener(t,r));return u}(),t={center:"center",left:"right",right:"left"},e={middle:"middle",top:"bottom",bottom:"top"},n={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},s=function(n,i){var r,o;return r=n.left,o=n.top,"auto"===r&&(r=t[i.left]),"auto"===o&&(o=e[i.top]),{left:r,top:o}},a=function(t){var e,i;return{left:null!=(e=n[t.left])?e:t.left,top:null!=(i=n[t.top])?i:t.top}},o=function(){var t,e,n,i,r,o,a;for(e=1<=arguments.length?O.call(arguments,0):[],n={top:0,left:0},r=0,o=e.length;o>r;r++)a=e[r],i=a.top,t=a.left,"string"==typeof i&&(i=parseFloat(i,10)),"string"==typeof t&&(t=parseFloat(t,10)),n.top+=i,n.left+=t;return n},y=function(t,e){return"string"==typeof t.left&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top,10)/100*e.height),t},b=w=function(t){var e,n,i;return i=t.split(" "),n=i[0],e=i[1],{top:n,left:e}},S=function(){function t(t){this.position=M(this.position,this);var e,n,r,o,a;for($.push(this),this.history=[],this.setOptions(t,!1),o=i.modules,n=0,r=o.length;r>n;n++)e=o[n],null!=(a=e.initialize)&&a.call(this);this.position()}return t.modules=[],t.prototype.getClass=function(t){var e,n;return(null!=(e=this.options.classes)?e[t]:void 0)?this.options.classes[t]:(null!=(n=this.options.classes)?n[t]:void 0)!==!1?this.options.classPrefix?""+this.options.classPrefix+"-"+t:t:""},t.prototype.setOptions=function(t,e){var n,i,o,a,s,u;for(this.options=t,null==e&&(e=!0),n={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},this.options=l(n,this.options),s=this.options,this.element=s.element,this.target=s.target,this.targetModifier=s.targetModifier,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),u=["element","target"],o=0,a=u.length;a>o;o++){if(i=u[o],null==this[i])throw new Error("Tether Error: Both element and target must be defined");null!=this[i].jquery?this[i]=this[i][0]:"string"==typeof this[i]&&(this[i]=document.querySelector(this[i]))}if(r(this.element,this.getClass("element")),this.options.addTargetClasses!==!1&&r(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");return this.targetAttachment=b(this.options.targetAttachment),this.attachment=b(this.options.attachment),this.offset=w(this.options.offset),this.targetOffset=w(this.options.targetOffset),null!=this.scrollParent&&this.disable(),this.scrollParent="scroll-handle"===this.targetModifier?this.target:g(this.target),this.options.enabled!==!1?this.enable(e):void 0},t.prototype.getTargetBounds=function(){var t,e,n,i,r,o,a,s,u;if(null==this.targetModifier)return f(this.target);switch(this.targetModifier){case"visible":return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:(t=f(this.target),r={height:t.height,width:t.width,top:t.top,left:t.left},r.height=Math.min(r.height,t.height-(pageYOffset-t.top)),r.height=Math.min(r.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),r.height=Math.min(innerHeight,r.height),r.height-=2,r.width=Math.min(r.width,t.width-(pageXOffset-t.left)),r.width=Math.min(r.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),r.width=Math.min(innerWidth,r.width),r.width-=2,r.top<pageYOffset&&(r.top=pageYOffset),r.left<pageXOffset&&(r.left=pageXOffset),r);case"scroll-handle":return u=this.target,u===document.body?(u=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=f(u),s=getComputedStyle(u),n=u.scrollWidth>u.clientWidth||"scroll"===[s.overflow,s.overflowX]||this.target!==document.body,o=0,n&&(o=15),i=t.height-parseFloat(s.borderTopWidth)-parseFloat(s.borderBottomWidth)-o,r={width:15,height:.975*i*(i/u.scrollHeight),left:t.left+t.width-parseFloat(s.borderLeftWidth)-15},e=0,408>i&&this.target===document.body&&(e=-11e-5*Math.pow(i,2)-.00727*i+22.58),this.target!==document.body&&(r.height=Math.max(r.height,24)),a=this.target.scrollTop/(u.scrollHeight-i),r.top=a*(i-r.height-e)+t.top+parseFloat(s.borderTopWidth),this.target===document.body&&(r.height=Math.max(r.height,24)),r}},t.prototype.clearCache=function(){return this._cache={}},t.prototype.cache=function(t,e){return null==this._cache&&(this._cache={}),null==this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]},t.prototype.enable=function(t){return null==t&&(t=!0),this.options.addTargetClasses!==!1&&r(this.target,this.getClass("enabled")),r(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParent!==document&&this.scrollParent.addEventListener("scroll",this.position),t?this.position():void 0},t.prototype.disable=function(){return x(this.target,this.getClass("enabled")),x(this.element,this.getClass("enabled")),this.enabled=!1,null!=this.scrollParent?this.scrollParent.removeEventListener("scroll",this.position):void 0},t.prototype.destroy=function(){var t,e,n,i,r;for(this.disable(),r=[],t=n=0,i=$.length;i>n;t=++n){if(e=$[t],e===this){$.splice(t,1);break}r.push(void 0)}return r},t.prototype.updateAttachClasses=function(t,e){var n,i,r,o,a,s,l,c,f,h=this;for(null==t&&(t=this.attachment),null==e&&(e=this.targetAttachment),o=["left","top","bottom","right","middle","center"],(null!=(f=this._addAttachClasses)?f.length:void 0)&&this._addAttachClasses.splice(0,this._addAttachClasses.length),n=null!=this._addAttachClasses?this._addAttachClasses:this._addAttachClasses=[],t.top&&n.push(""+this.getClass("element-attached")+"-"+t.top),t.left&&n.push(""+this.getClass("element-attached")+"-"+t.left),e.top&&n.push(""+this.getClass("target-attached")+"-"+e.top),e.left&&n.push(""+this.getClass("target-attached")+"-"+e.left),i=[],a=0,l=o.length;l>a;a++)r=o[a],i.push(""+this.getClass("element-attached")+"-"+r);for(s=0,c=o.length;c>s;s++)r=o[s],i.push(""+this.getClass("target-attached")+"-"+r);return u(function(){return null!=h._addAttachClasses?(E(h.element,h._addAttachClasses,i),h.options.addTargetClasses!==!1&&E(h.target,h._addAttachClasses,i),h._addAttachClasses=void 0):void 0})},t.prototype.position=function(t){var e,n,r,u,l,d,g,m,v,b,w,_,x,$,C,E,k,S,T,O,M,A,D,I,N,P,R,L,j,F,H,z,q,U,W,B=this;if(null==t&&(t=!0),this.enabled){for(this.clearCache(),O=s(this.targetAttachment,this.attachment),this.updateAttachClasses(this.attachment,O),e=this.cache("element-bounds",function(){return f(B.element)}),N=e.width,r=e.height,0===N&&0===r&&null!=this.lastSize?(F=this.lastSize,N=F.width,r=F.height):this.lastSize={width:N,height:r},D=A=this.cache("target-bounds",function(){return B.getTargetBounds()}),v=y(a(this.attachment),{width:N,height:r}),M=y(a(O),D),l=y(this.offset,{width:N,height:r}),d=y(this.targetOffset,D),v=o(v,l),M=o(M,d),u=A.left+M.left-v.left,I=A.top+M.top-v.top,H=i.modules,P=0,L=H.length;L>P;P++){if(g=H[P],C=g.position.call(this,{left:u,top:I,targetAttachment:O,targetPos:A,attachment:this.attachment,elementPos:e,offset:v,targetOffset:M,manualOffset:l,manualTargetOffset:d,scrollbarSize:S}),C===!1)return!1;null!=C&&"object"==typeof C&&(I=C.top,u=C.left)}if(m={page:{top:I,left:u},viewport:{top:I-pageYOffset,bottom:pageYOffset-I-r+innerHeight,left:u-pageXOffset,right:pageXOffset-u-N+innerWidth}},document.body.scrollWidth>window.innerWidth&&(S=this.cache("scrollbar-size",p),m.viewport.bottom-=S.height),document.body.scrollHeight>window.innerHeight&&(S=this.cache("scrollbar-size",p),m.viewport.right-=S.width),(""!==(z=document.body.style.position)&&"static"!==z||""!==(q=document.body.parentElement.style.position)&&"static"!==q)&&(m.page.bottom=document.body.scrollHeight-I-r,m.page.right=document.body.scrollWidth-u-N),(null!=(U=this.options.optimizations)?U.moveElement:void 0)!==!1&&null==this.targetModifier){for(w=this.cache("target-offsetparent",function(){return h(B.target)}),$=this.cache("target-offsetparent-bounds",function(){return f(w)}),x=getComputedStyle(w),n=getComputedStyle(this.element),_=$,b={},W=["Top","Left","Bottom","Right"],R=0,j=W.length;j>R;R++)T=W[R],b[T.toLowerCase()]=parseFloat(x["border"+T+"Width"]);$.right=document.body.scrollWidth-$.left-_.width+b.right,$.bottom=document.body.scrollHeight-$.top-_.height+b.bottom,m.page.top>=$.top+b.top&&m.page.bottom>=$.bottom&&m.page.left>=$.left+b.left&&m.page.right>=$.right&&(k=w.scrollTop,E=w.scrollLeft,m.offset={top:m.page.top-$.top+k-b.top,left:m.page.left-$.left+E-b.left})}return this.move(m),this.history.unshift(m),this.history.length>3&&this.history.pop(),t&&c(),!0}},t.prototype.move=function(t){var e,n,i,r,o,a,s,c,f,d,p,g,m,v,y,b,w,_=this;if(null!=this.element.parentNode){c={};for(d in t){c[d]={};for(r in t[d]){for(i=!1,b=this.history,v=0,y=b.length;y>v;v++)if(s=b[v],!k(null!=(w=s[d])?w[r]:void 0,t[d][r])){i=!0;break}i||(c[d][r]=!0)}}e={top:"",left:"",right:"",bottom:""},f=function(t,n){var i,r,o;return(null!=(o=_.options.optimizations)?o.gpu:void 0)===!1?(t.top?e.top=""+n.top+"px":e.bottom=""+n.bottom+"px",t.left?e.left=""+n.left+"px":e.right=""+n.right+"px"):(t.top?(e.top=0,r=n.top):(e.bottom=0,r=-n.bottom),t.left?(e.left=0,i=n.left):(e.right=0,i=-n.right),e[C]="translateX("+Math.round(i)+"px) translateY("+Math.round(r)+"px)","msTransform"!==C?e[C]+=" translateZ(0)":void 0)},o=!1,(c.page.top||c.page.bottom)&&(c.page.left||c.page.right)?(e.position="absolute",f(c.page,t.page)):(c.viewport.top||c.viewport.bottom)&&(c.viewport.left||c.viewport.right)?(e.position="fixed",f(c.viewport,t.viewport)):null!=c.offset&&c.offset.top&&c.offset.left?(e.position="absolute",a=this.cache("target-offsetparent",function(){return h(_.target)}),h(this.element)!==a&&u(function(){return _.element.parentNode.removeChild(_.element),a.appendChild(_.element)}),f(c.offset,t.offset),o=!0):(e.position="absolute",f({top:!0,left:!0},t.page)),o||"BODY"===this.element.parentNode.tagName||(this.element.parentNode.removeChild(this.element),document.body.appendChild(this.element)),m={},g=!1;for(r in e)p=e[r],n=this.element.style[r],""===n||""===p||"top"!==r&&"left"!==r&&"bottom"!==r&&"right"!==r||(n=parseFloat(n),p=parseFloat(p)),n!==p&&(g=!0,m[r]=e[r]);return g?u(function(){return l(_.element.style,m)}):void 0}},t}(),i.position=_,this.Tether=l(S,i)}.call(this),function(){var t,e,n,i,r,o,a,s,u,l,c=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};l=this.Tether.Utils,a=l.getOuterSize,o=l.getBounds,s=l.getSize,i=l.extend,u=l.updateClasses,n=l.defer,e={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle"},t=["left","top","right","bottom"],r=function(e,n){var i,r,a,s,u,l,c;if("scrollParent"===n?n=e.scrollParent:"window"===n&&(n=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),n===document&&(n=n.documentElement),null!=n.nodeType)for(r=s=o(n),u=getComputedStyle(n),n=[r.left,r.top,s.width+r.left,s.height+r.top],i=l=0,c=t.length;c>l;i=++l)a=t[i],a=a[0].toUpperCase()+a.substr(1),"Top"===a||"Left"===a?n[i]+=parseFloat(u["border"+a+"Width"]):n[i]-=parseFloat(u["border"+a+"Width"]);return n},this.Tether.modules.push({position:function(e){var a,s,l,f,h,d,p,g,m,v,y,b,w,_,x,$,C,E,k,S,T,O,M,A,D,I,N,P,R,L,j,F,H,z,q,U,W,B,V,Y,X,K,G,Z,J,Q,te,ee=this;if(I=e.top,y=e.left,T=e.targetAttachment,!this.options.constraints)return!0;for(E=function(e){var n,i,r,o;for(ee.removeClass(e),o=[],i=0,r=t.length;r>i;i++)n=t[i],o.push(ee.removeClass(""+e+"-"+n));return o},Y=this.cache("element-bounds",function(){return o(ee.element)}),v=Y.height,N=Y.width,0===N&&0===v&&null!=this.lastSize&&(X=this.lastSize,N=X.width,v=X.height),M=this.cache("target-bounds",function(){return ee.getTargetBounds()}),O=M.height,A=M.width,S={},m={},s=[this.getClass("pinned"),this.getClass("out-of-bounds")],K=this.options.constraints,P=0,F=K.length;F>P;P++)g=K[P],g.outOfBoundsClass&&s.push(g.outOfBoundsClass),g.pinnedClass&&s.push(g.pinnedClass);for(R=0,H=s.length;H>R;R++)for(p=s[R],G=["left","top","right","bottom"],L=0,z=G.length;z>L;L++)k=G[L],s.push(""+p+"-"+k);for(a=[],S=i({},T),m=i({},this.attachment),Z=this.options.constraints,j=0,q=Z.length;q>j;j++){if(g=Z[j],D=g.to,l=g.attachment,x=g.pin,null==l&&(l=""),c.call(l," ")>=0?(J=l.split(" "),d=J[0],h=J[1]):h=d=l,f=r(this,D),("target"===d||"both"===d)&&(I<f[1]&&"top"===S.top&&(I+=O,S.top="bottom"),I+v>f[3]&&"bottom"===S.top&&(I-=O,S.top="top")),"together"===d&&(I<f[1]&&"top"===S.top&&("bottom"===m.top?(I+=O,S.top="bottom",I+=v,m.top="top"):"top"===m.top&&(I+=O,S.top="bottom",I-=v,m.top="bottom")),I+v>f[3]&&"bottom"===S.top&&("top"===m.top?(I-=O,S.top="top",I-=v,m.top="bottom"):"bottom"===m.top&&(I-=O,S.top="top",I+=v,m.top="top")),"middle"===S.top&&(I+v>f[3]&&"top"===m.top?(I-=v,m.top="bottom"):I<f[1]&&"bottom"===m.top&&(I+=v,m.top="top"))),("target"===h||"both"===h)&&(y<f[0]&&"left"===S.left&&(y+=A,S.left="right"),y+N>f[2]&&"right"===S.left&&(y-=A,S.left="left")),"together"===h&&(y<f[0]&&"left"===S.left?"right"===m.left?(y+=A,S.left="right",y+=N,m.left="left"):"left"===m.left&&(y+=A,S.left="right",y-=N,m.left="right"):y+N>f[2]&&"right"===S.left?"left"===m.left?(y-=A,S.left="left",y-=N,m.left="right"):"right"===m.left&&(y-=A,S.left="left",y+=N,m.left="left"):"center"===S.left&&(y+N>f[2]&&"left"===m.left?(y-=N,m.left="right"):y<f[0]&&"right"===m.left&&(y+=N,m.left="left"))),("element"===d||"both"===d)&&(I<f[1]&&"bottom"===m.top&&(I+=v,m.top="top"),I+v>f[3]&&"top"===m.top&&(I-=v,m.top="bottom")),("element"===h||"both"===h)&&(y<f[0]&&"right"===m.left&&(y+=N,m.left="left"),y+N>f[2]&&"left"===m.left&&(y-=N,m.left="right")),"string"==typeof x?x=function(){var t,e,n,i;for(n=x.split(","),i=[],e=0,t=n.length;t>e;e++)_=n[e],i.push(_.trim());return i}():x===!0&&(x=["top","left","right","bottom"]),x||(x=[]),$=[],b=[],I<f[1]&&(c.call(x,"top")>=0?(I=f[1],$.push("top")):b.push("top")),I+v>f[3]&&(c.call(x,"bottom")>=0?(I=f[3]-v,$.push("bottom")):b.push("bottom")),y<f[0]&&(c.call(x,"left")>=0?(y=f[0],$.push("left")):b.push("left")),y+N>f[2]&&(c.call(x,"right")>=0?(y=f[2]-N,$.push("right")):b.push("right")),$.length)for(C=null!=(Q=this.options.pinnedClass)?Q:this.getClass("pinned"),a.push(C),B=0,U=$.length;U>B;B++)k=$[B],a.push(""+C+"-"+k);if(b.length)for(w=null!=(te=this.options.outOfBoundsClass)?te:this.getClass("out-of-bounds"),a.push(w),V=0,W=b.length;W>V;V++)k=b[V],a.push(""+w+"-"+k);(c.call($,"left")>=0||c.call($,"right")>=0)&&(m.left=S.left=!1),(c.call($,"top")>=0||c.call($,"bottom")>=0)&&(m.top=S.top=!1),(S.top!==T.top||S.left!==T.left||m.top!==this.attachment.top||m.left!==this.attachment.left)&&this.updateAttachClasses(m,S)}return n(function(){return ee.options.addTargetClasses!==!1&&u(ee.target,a,s),u(ee.element,a,s)}),{top:I,left:y}}})}.call(this),function(){var t,e,n,i;i=this.Tether.Utils,e=i.getBounds,n=i.updateClasses,t=i.defer,this.Tether.modules.push({position:function(i){var r,o,a,s,u,l,c,f,h,d,p,g,m,v,y,b,w,_,x,$,C,E,k,S,T,O=this;if(p=i.top,l=i.left,C=this.cache("element-bounds",function(){return e(O.element)}),u=C.height,g=C.width,d=this.getTargetBounds(),s=p+u,c=l+g,r=[],p<=d.bottom&&s>=d.top)for(E=["left","right"],m=0,w=E.length;w>m;m++)f=E[m],((k=d[f])===l||k===c)&&r.push(f);if(l<=d.right&&c>=d.left)for(S=["top","bottom"],v=0,_=S.length;_>v;v++)f=S[v],((T=d[f])===p||T===s)&&r.push(f);for(a=[],o=[],h=["left","top","right","bottom"],a.push(this.getClass("abutted")),y=0,x=h.length;x>y;y++)f=h[y],a.push(""+this.getClass("abutted")+"-"+f);for(r.length&&o.push(this.getClass("abutted")),b=0,$=r.length;$>b;b++)f=r[b],o.push(""+this.getClass("abutted")+"-"+f);return t(function(){return O.options.addTargetClasses!==!1&&n(O.target,o,a),n(O.element,o,a)}),!0}})}.call(this),function(){this.Tether.modules.push({position:function(t){var e,n,i,r,o,a,s;return a=t.top,e=t.left,this.options.shift?(n=function(t){return"function"==typeof t?t.call(this,{top:a,left:e}):t},i=n(this.options.shift),"string"==typeof i?(i=i.split(" "),i[1]||(i[1]=i[0]),o=i[0],r=i[1],o=parseFloat(o,10),r=parseFloat(r,10)):(s=[i.top,i.left],o=s[0],r=s[1]),a+=o,e+=r,{top:a,left:e}):void 0}})}.call(this),this.Tether}),/*! tether-drop 1.0.8 */
function(t,e){"function"==typeof define&&define.amd?define(["tether"],e):"object"==typeof exports?module.exports=e(require("tether")):t.Drop=e(t.Tether)}(this,function(t){"use strict";function e(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(u){r=!0,o=u}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}function r(t){var n=t.split(" "),i=e(n,2),r=i[0],o=i[1];if(["left","right"].indexOf(r)>=0){var a=[o,r];r=a[0],o=a[1]}return[r,o].join(" ")}function o(t,e){for(var n=void 0,i=[];-1!==(n=t.indexOf(e));)i.push(t.splice(n,1));return i}function a(){var e=void 0===arguments[0]?{}:arguments[0],c=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return new(l.apply(b,[null].concat(e)))};f(c,{createContext:a,drops:[],defaults:{}});var v={classPrefix:"drop",defaults:{position:"bottom left",openOn:"click",constrainToScrollParent:!0,constrainToWindow:!0,classes:"",remove:!1,tetherOptions:{}}};f(c,v,e),f(c.defaults,v.defaults,e.defaults),"undefined"==typeof x[c.classPrefix]&&(x[c.classPrefix]=[]),c.updateBodyClasses=function(){for(var t=!1,e=x[c.classPrefix],n=e.length,i=0;n>i;++i)if(e[i].isOpened()){t=!0;break}t?h(document.body,""+c.classPrefix+"-open"):d(document.body,""+c.classPrefix+"-open")};var b=function(e){function a(t){if(n(this,a),u(Object.getPrototypeOf(a.prototype),"constructor",this).call(this),this.options=f({},c.defaults,t),this.target=this.options.target,"undefined"==typeof this.target)throw new Error("Drop Error: You must provide a target.");this.options.classes&&this.options.addTargetClasses!==!1&&h(this.target,this.options.classes),c.drops.push(this),x[c.classPrefix].push(this),this._boundEvents=[],this.setupElements(),this.setupEvents(),this.setupTether()}return i(a,e),s(a,[{key:"_on",value:function(t,e,n){this._boundEvents.push({element:t,event:e,handler:n}),t.addEventListener(e,n)}},{key:"setupElements",value:function(){var t=this;if(this.drop=document.createElement("div"),h(this.drop,c.classPrefix),this.options.classes&&h(this.drop,this.options.classes),this.content=document.createElement("div"),h(this.content,""+c.classPrefix+"-content"),"function"==typeof this.options.content){var e=function(){var e=t.options.content.call(t,t);if("string"==typeof e)t.content.innerHTML=e;else{if("object"!=typeof e)throw new Error("Drop Error: Content function should return a string or HTMLElement.");t.content.innerHTML="",t.content.appendChild(e)}};e(),this.on("open",e.bind(this))}else"object"==typeof this.options.content?this.content.appendChild(this.options.content):this.content.innerHTML=this.options.content;this.drop.appendChild(this.content)}},{key:"setupTether",value:function(){var e=this.options.position.split(" ");e[0]=_[e[0]],e=e.join(" ");var n=[];n.push(this.options.constrainToScrollParent?{to:"scrollParent",pin:"top, bottom",attachment:"together none"}:{to:"scrollParent"}),n.push(this.options.constrainToWindow!==!1?{to:"window",attachment:"together"}:{to:"window"});var i={element:this.drop,target:this.target,attachment:r(e),targetAttachment:r(this.options.position),classPrefix:c.classPrefix,offset:"0 0",targetOffset:"0 0",enabled:!1,constraints:n,addTargetClasses:this.options.addTargetClasses};this.options.tetherOptions!==!1&&(this.tether=new t(f({},i,this.options.tetherOptions)))}},{key:"setupEvents",value:function(){var t=this;if(this.options.openOn){if("always"===this.options.openOn)return void setTimeout(this.open.bind(this));var e=this.options.openOn.split(" ");if(e.indexOf("click")>=0)for(var n=function(e){t.toggle(),e.preventDefault()},i=function(e){t.isOpened()&&(e.target===t.drop||t.drop.contains(e.target)||e.target===t.target||t.target.contains(e.target)||t.close())},r=0;r<m.length;++r){var o=m[r];this._on(this.target,o,n),this._on(document,o,i)}e.indexOf("hover")>=0&&!function(){var e=!1,n=function(){e=!0,t.open()},i=null,r=function(){e=!1,"undefined"!=typeof i&&clearTimeout(i),i=setTimeout(function(){e||t.close(),i=null},50)};t._on(t.target,"mouseover",n),t._on(t.drop,"mouseover",n),t._on(t.target,"mouseout",r),t._on(t.drop,"mouseout",r)}()}}},{key:"isOpened",value:function(){return this.drop?p(this.drop,""+c.classPrefix+"-open"):void 0}},{key:"toggle",value:function(){this.isOpened()?this.close():this.open()}},{key:"open",value:function(){var t=this;this.isOpened()||(this.drop.parentNode||document.body.appendChild(this.drop),"undefined"!=typeof this.tether&&this.tether.enable(),h(this.drop,""+c.classPrefix+"-open"),h(this.drop,""+c.classPrefix+"-open-transitionend"),setTimeout(function(){t.drop&&h(t.drop,""+c.classPrefix+"-after-open")}),"undefined"!=typeof this.tether&&this.tether.position(),this.trigger("open"),c.updateBodyClasses())}},{key:"close",value:function(){var t=this;if(this.isOpened()){d(this.drop,""+c.classPrefix+"-open"),d(this.drop,""+c.classPrefix+"-after-open");var e=function n(){p(t.drop,""+c.classPrefix+"-open")||d(t.drop,""+c.classPrefix+"-open-transitionend"),t.drop.removeEventListener(y,n)};this.drop.addEventListener(y,e),this.trigger("close"),"undefined"!=typeof this.tether&&this.tether.disable(),c.updateBodyClasses(),this.options.remove&&this.remove()}}},{key:"remove",value:function(){this.close(),this.drop.parentNode&&this.drop.parentNode.removeChild(this.drop)}},{key:"position",value:function(){this.isOpened()&&"undefined"!=typeof this.tether&&this.tether.position()}},{key:"destroy",value:function(){this.remove(),"undefined"!=typeof this.tether&&this.tether.destroy();for(var t=0;t<this._boundEvents.length;++t){var e=this._boundEvents[t],n=e.element,i=e.event,r=e.handler;n.removeEventListener(i,r)}this._boundEvents=[],this.tether=null,this.drop=null,this.content=null,this.target=null,o(x[c.classPrefix],this),o(c.drops,this)}}]),a}(g);return c}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;s=l=u=void 0,i=!1;var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return void 0;t=l,e=o,n=a,i=!0}},l=Function.prototype.bind,c=t.Utils,f=c.extend,h=c.addClass,d=c.removeClass,p=c.hasClass,g=c.Evented,m=["click"];"ontouchstart"in document.documentElement&&m.push("touchstart");var v={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},y="";for(var b in v)if({}.hasOwnProperty.call(v,b)){var w=document.createElement("p");"undefined"!==w.style[b]&&(y=v[b])}var _={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"},x={},$=a();return document.addEventListener("DOMContentLoaded",function(){$.updateBodyClasses()}),$}),function(){var t,e,n,i,r,o,a,s,u,l,c,f,h,d,p;n=Math.floor,l=Math.min,e=function(t,e){return e>t?-1:t>e?1:0},u=function(t,i,r,o,a){var s;if(null==r&&(r=0),null==a&&(a=e),0>r)throw new Error("lo must be non-negative");for(null==o&&(o=t.length);o>r;)s=n((r+o)/2),a(i,t[s])<0?o=s:r=s+1;return[].splice.apply(t,[r,r-r].concat(i)),i},o=function(t,n,i){return null==i&&(i=e),t.push(n),d(t,0,t.length-1,i)},r=function(t,n){var i,r;return null==n&&(n=e),i=t.pop(),t.length?(r=t[0],t[0]=i,p(t,0,n)):r=i,r},s=function(t,n,i){var r;return null==i&&(i=e),r=t[0],t[0]=n,p(t,0,i),r},a=function(t,n,i){var r;return null==i&&(i=e),t.length&&i(t[0],n)<0&&(r=[t[0],n],n=r[0],t[0]=r[1],p(t,0,i)),n},i=function(t,i){var r,o,a,s,u,l;for(null==i&&(i=e),s=function(){l=[];for(var e=0,i=n(t.length/2);i>=0?i>e:e>i;i>=0?e++:e--)l.push(e);return l}.apply(this).reverse(),u=[],o=0,a=s.length;a>o;o++)r=s[o],u.push(p(t,r,i));return u},h=function(t,n,i){var r;return null==i&&(i=e),r=t.indexOf(n),-1!==r?(d(t,0,r,i),p(t,r,i)):void 0},c=function(t,n,r){var o,s,u,l,c;if(null==r&&(r=e),s=t.slice(0,n),!s.length)return s;for(i(s,r),c=t.slice(n),u=0,l=c.length;l>u;u++)o=c[u],a(s,o,r);return s.sort(r).reverse()},f=function(t,n,o){var a,s,c,f,h,d,p,g,m,v;if(null==o&&(o=e),10*n<=t.length){if(f=t.slice(0,n).sort(o),!f.length)return f;for(c=f[f.length-1],g=t.slice(n),h=0,p=g.length;p>h;h++)a=g[h],o(a,c)<0&&(u(f,a,0,null,o),f.pop(),c=f[f.length-1]);return f}for(i(t,o),v=[],s=d=0,m=l(n,t.length);m>=0?m>d:d>m;s=m>=0?++d:--d)v.push(r(t,o));return v},d=function(t,n,i,r){var o,a,s;for(null==r&&(r=e),o=t[i];i>n&&(s=i-1>>1,a=t[s],r(o,a)<0);)t[i]=a,i=s;return t[i]=o},p=function(t,n,i){var r,o,a,s,u;for(null==i&&(i=e),o=t.length,u=n,a=t[n],r=2*n+1;o>r;)s=r+1,o>s&&!(i(t[r],t[s])<0)&&(r=s),t[n]=t[r],n=r,r=2*n+1;return t[n]=a,d(t,u,n,i)},t=function(){function t(t){this.cmp=null!=t?t:e,this.nodes=[]}return t.push=o,t.pop=r,t.replace=s,t.pushpop=a,t.heapify=i,t.updateItem=h,t.nlargest=c,t.nsmallest=f,t.prototype.push=function(t){return o(this.nodes,t,this.cmp)},t.prototype.pop=function(){return r(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return s(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return a(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return i(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return h(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return e=new t,e.nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),function(t,e){return"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Heap=e()}(this,function(){return t})}.call(this),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.vl=t()}}(function(){var t;return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e){"use strict";t("./globals");var n=t("./util"),i=t("./consts"),r={};n.extend(r,i,n),r.Encoding=t("./Encoding"),r.compiler=t("./compiler/compiler"),r.compile=r.compiler.compile,r.data=t("./data"),r.enc=t("./enc"),r.field=t("./field"),r.schema=t("./schema/schema"),r.toShorthand=r.Encoding.shorthand,e.exports=r},{"./Encoding":13,"./compiler/compiler":17,"./consts":31,"./data":32,"./enc":33,"./field":34,"./globals":35,"./schema/schema":36,"./util":38}],2:[function(){},{}],3:[function(t,e){function n(){if(!a){a=!0;for(var t,e=o.length;e;){t=o,o=[];for(var n=-1;++n<e;)t[n]();e=o.length}a=!1}}function i(){}var r=e.exports={},o=[],a=!1;r.nextTick=function(t){o.push(t),a||setTimeout(n,0)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=i,r.addListener=i,r.once=i,r.off=i,r.removeListener=i,r.removeAllListeners=i,r.emit=i,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],4:[function(e,n){// JavaScript specs as packaged in the D3 library (d3js.org). Please see license at http://colorbrewer.org/export/LICENSE.txt
!function(){var e={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}};"function"==typeof t&&t.amd?t(e):"object"==typeof n&&n.exports?n.exports=e:this.colorbrewer=e}()},{}],5:[function(t,e){e.exports=t("./colorbrewer.js")},{"./colorbrewer.js":4}],6:[function(e,n,i){"undefined"==typeof Map&&(Map=function(){},Map.prototype={set:function(t,e){return this["$"+t]=e,this},get:function(t){return this["$"+t]},has:function(t){return"$"+t in this}}),function(e,r){"object"==typeof i&&"undefined"!=typeof n?r(i):"function"==typeof t&&t.amd?t(["exports"],r):r(e.color={})}(this,function(t){"use strict";function e(){}function n(t,e,n){this.r=Math.max(0,Math.min(255,Math.round(t))),this.g=Math.max(0,Math.min(255,Math.round(e))),this.b=Math.max(0,Math.min(255,Math.round(n)))}function i(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),isNaN(n)&&(n=0),"#"+(16>t?"0"+t.toString(16):t.toString(16))+(16>e?"0"+e.toString(16):e.toString(16))+(16>n?"0"+n.toString(16):n.toString(16))}function r(t){return y(t>>16&255,t>>8&255,255&t)}function o(t,e,n){this.h=+t,this.s=Math.max(0,Math.min(1,+e)),this.l=Math.max(0,Math.min(1,+n))}function a(t,e,n){return 255*(60>t?e+(n-e)*t/60:180>t?n:240>t?e+(n-e)*(240-t)/60:e)}function s(t,e,n){this.l=+t,this.a=+e,this.b=+n}function u(t){return 255*(.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function l(t){return t>I?t*t*t:N*(t-D)}function c(t){return t>P?Math.pow(t,1/3):t/N+D}function f(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function h(t,e,n){this.h=+t,this.c=+e,this.l=+n}function d(t,e,n){this.h=+t,this.s=+e,this.l=+n}e.prototype={toString:function(){return this.rgb()+""}};var p=(new Map).set("aliceblue",15792383).set("antiquewhite",16444375).set("aqua",65535).set("aquamarine",8388564).set("azure",15794175).set("beige",16119260).set("bisque",16770244).set("black",0).set("blanchedalmond",16772045).set("blue",255).set("blueviolet",9055202).set("brown",10824234).set("burlywood",14596231).set("cadetblue",6266528).set("chartreuse",8388352).set("chocolate",13789470).set("coral",16744272).set("cornflowerblue",6591981).set("cornsilk",16775388).set("crimson",14423100).set("cyan",65535).set("darkblue",139).set("darkcyan",35723).set("darkgoldenrod",12092939).set("darkgray",11119017).set("darkgreen",25600).set("darkgrey",11119017).set("darkkhaki",12433259).set("darkmagenta",9109643).set("darkolivegreen",5597999).set("darkorange",16747520).set("darkorchid",10040012).set("darkred",9109504).set("darksalmon",15308410).set("darkseagreen",9419919).set("darkslateblue",4734347).set("darkslategray",3100495).set("darkslategrey",3100495).set("darkturquoise",52945).set("darkviolet",9699539).set("deeppink",16716947).set("deepskyblue",49151).set("dimgray",6908265).set("dimgrey",6908265).set("dodgerblue",2003199).set("firebrick",11674146).set("floralwhite",16775920).set("forestgreen",2263842).set("fuchsia",16711935).set("gainsboro",14474460).set("ghostwhite",16316671).set("gold",16766720).set("goldenrod",14329120).set("gray",8421504).set("green",32768).set("greenyellow",11403055).set("grey",8421504).set("honeydew",15794160).set("hotpink",16738740).set("indianred",13458524).set("indigo",4915330).set("ivory",16777200).set("khaki",15787660).set("lavender",15132410).set("lavenderblush",16773365).set("lawngreen",8190976).set("lemonchiffon",16775885).set("lightblue",11393254).set("lightcoral",15761536).set("lightcyan",14745599).set("lightgoldenrodyellow",16448210).set("lightgray",13882323).set("lightgreen",9498256).set("lightgrey",13882323).set("lightpink",16758465).set("lightsalmon",16752762).set("lightseagreen",2142890).set("lightskyblue",8900346).set("lightslategray",7833753).set("lightslategrey",7833753).set("lightsteelblue",11584734).set("lightyellow",16777184).set("lime",65280).set("limegreen",3329330).set("linen",16445670).set("magenta",16711935).set("maroon",8388608).set("mediumaquamarine",6737322).set("mediumblue",205).set("mediumorchid",12211667).set("mediumpurple",9662683).set("mediumseagreen",3978097).set("mediumslateblue",8087790).set("mediumspringgreen",64154).set("mediumturquoise",4772300).set("mediumvioletred",13047173).set("midnightblue",1644912).set("mintcream",16121850).set("mistyrose",16770273).set("moccasin",16770229).set("navajowhite",16768685).set("navy",128).set("oldlace",16643558).set("olive",8421376).set("olivedrab",7048739).set("orange",16753920).set("orangered",16729344).set("orchid",14315734).set("palegoldenrod",15657130).set("palegreen",10025880).set("paleturquoise",11529966).set("palevioletred",14381203).set("papayawhip",16773077).set("peachpuff",16767673).set("peru",13468991).set("pink",16761035).set("plum",14524637).set("powderblue",11591910).set("purple",8388736).set("rebeccapurple",6697881).set("red",16711680).set("rosybrown",12357519).set("royalblue",4286945).set("saddlebrown",9127187).set("salmon",16416882).set("sandybrown",16032864).set("seagreen",3050327).set("seashell",16774638).set("sienna",10506797).set("silver",12632256).set("skyblue",8900331).set("slateblue",6970061).set("slategray",7372944).set("slategrey",7372944).set("snow",16775930).set("springgreen",65407).set("steelblue",4620980).set("tan",13808780).set("teal",32896).set("thistle",14204888).set("tomato",16737095).set("turquoise",4251856).set("violet",15631086).set("wheat",16113331).set("white",16777215).set("whitesmoke",16119285).set("yellow",16776960).set("yellowgreen",10145074),g=n.prototype=new e,m=.7;g.darker=function(t){return t=null==t?m:Math.pow(m,t),new n(this.r*t,this.g*t,this.b*t)};var v=1/m;g.brighter=function(t){return t=null==t?v:Math.pow(v,t),new n(this.r*t,this.g*t,this.b*t)},g.rgb=function(){return this},g.toString=function(){return i(this.r,this.g,this.b)};var y=function(t,i,r){return 1===arguments.length&&(t instanceof e||(t=k(t)),t?(t=t.rgb(),r=t.b,i=t.g,t=t.r):t=i=r=0/0),new n(t,i,r)},b=o.prototype=new e;b.brighter=function(t){return t=null==t?v:Math.pow(v,t),new o(this.h,this.s,this.l*t)},b.darker=function(t){return t=null==t?m:Math.pow(m,t),new o(this.h,this.s,this.l*t)},b.rgb=function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,r=.5>=i?i*(1+e):i+e-i*e,o=2*i-r;return new n(a(t>=240?t-240:t+120,o,r),a(t,o,r),a(120>t?t+240:t-120,o,r))};var w=function(t,n,i){if(1===arguments.length)if(t instanceof o)i=t.l,n=t.s,t=t.h;else if(t instanceof e||(t=k(t)),t){if(t instanceof o)return t;t=t.rgb();var r=t.r/255,a=t.g/255,s=t.b/255,u=Math.min(r,a,s),l=Math.max(r,a,s),c=l-u;i=(l+u)/2,c?(n=.5>i?c/(l+u):c/(2-l-u),t=r===l?(a-s)/c+6*(s>a):a===l?(s-r)/c+2:(r-a)/c+4,t*=60):(t=0/0,n=i>0&&1>i?0:t)}else t=n=i=0/0;return new o(t,n,i)},_=/^#([0-9a-f]{3})$/,x=/^#([0-9a-f]{6})$/,$=/^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/,C=/^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,E=/^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,k=function(t){var e;return t=(t+"").trim().toLowerCase(),(e=_.exec(t))?(e=parseInt(e[1],16),y(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e)):(e=x.exec(t))?r(parseInt(e[1],16)):(e=$.exec(t))?y(e[1],e[2],e[3]):(e=C.exec(t))?y(2.55*e[1],2.55*e[2],2.55*e[3]):(e=E.exec(t))?w(e[1],.01*e[2],.01*e[3]):p.has(t)?r(p.get(t)):null};k.prototype=e.prototype,y.prototype=n.prototype,w.prototype=o.prototype;var S=s.prototype=new e,T=18;S.brighter=function(t){return new s(this.l+T*(null==t?1:t),this.a,this.b)},S.darker=function(t){return new s(this.l-T*(null==t?1:t),this.a,this.b)};var O=.95047,M=1,A=1.08883,D=4/29,I=6/29,N=3*I*I,P=I*I*I;S.rgb=function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,i=isNaN(this.b)?t:t-this.b/200;return t=M*l(t),e=O*l(e),i=A*l(i),new n(u(3.2404542*e-1.5371385*t-.4985314*i),u(-.969266*e+1.8760108*t+.041556*i),u(.0556434*e-.2040259*t+1.0572252*i))};var R=Math.PI/180,L=h.prototype=new e;L.brighter=function(t){return new h(this.h,this.c,this.l+T*(null==t?1:t))},L.darker=function(t){return new h(this.h,this.c,this.l-T*(null==t?1:t))},L.rgb=function(){return j(this).rgb()};var j=function(t,e,i){if(1===arguments.length)if(t instanceof s)i=t.b,e=t.a,t=t.l;else if(t instanceof h){var r=t.h*R;i=Math.sin(r)*t.c,e=Math.cos(r)*t.c,t=t.l}else{t instanceof n||(t=y(t));var o=f(t.r),a=f(t.g),i=f(t.b),u=c((.4124564*o+.3575761*a+.1804375*i)/O),l=c((.2126729*o+.7151522*a+.072175*i)/M),d=c((.0193339*o+.119192*a+.9503041*i)/A);i=200*(l-d),e=500*(u-l),t=116*l-16}return new s(t,e,i)};j.prototype=s.prototype;var F=180/Math.PI,H=function(t,e,n){return 1===arguments.length&&(t instanceof h?(n=t.l,e=t.c,t=t.h):(t instanceof s||(t=j(t)),n=t.l,e=Math.sqrt(t.a*t.a+t.b*t.b),t=Math.atan2(t.b,t.a)*F,0>t&&(t+=360))),new h(t,e,n)};H.prototype=h.prototype;var z=d.prototype=new e;z.brighter=function(t){return t=null==t?v:Math.pow(v,t),new d(this.h,this.s,this.l*t)},z.darker=function(t){return t=null==t?m:Math.pow(m,t),new d(this.h,this.s,this.l*t)};var q=1,U=-.14861,W=1.78277,B=-.29227,V=-.90649,Y=1.97294,X=Y*V,K=Y*W,G=W*B-V*U,Z=function(t,e,i){if(1===arguments.length)if(t instanceof d)i=t.l,e=t.s,t=t.h;else{t instanceof n||(t=y(t));var r=t.r/255,o=t.g/255,a=t.b/255;i=(G*a+X*r-K*o)/(G+X-K);var s=a-i,u=(Y*(o-i)-B*s)/V,l=Math.pow(i,q);e=Math.sqrt(u*u+s*s)/(Y*l*(1-l)),t=e?Math.atan2(u,s)*F-120:0/0,0>t&&(t+=360)}return new d(t,e,i)};z.rgb=function(){var t=isNaN(this.h)?0:(this.h+120)*R,e=Math.pow(this.l,q),i=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),o=Math.sin(t);return new n(255*(e+i*(U*r+W*o)),255*(e+i*(B*r+V*o)),255*(e+i*Y*r))},Z.prototype=d.prototype;var J=function(t,e){t=Z(t),e=Z(e);var n=isNaN(t.h)?e.h:t.h,i=isNaN(t.s)?e.s:t.s,r=t.l,o=isNaN(e.h)?0:e.h-n,a=isNaN(e.s)?0:e.s-i,s=e.l-r;return function(e){return t.h=n+o*e,t.s=i+a*e,t.l=r+s*e,t+""}},Q=function(t,e){var n=(t-e)%360;return n+(n>180?-360:-180>n?360:0)},te=function(t,e){t=Z(t),e=Z(e);var n=isNaN(t.h)?e.h:t.h,i=isNaN(t.s)?e.s:t.s,r=t.l,o=isNaN(e.h)?0:Q(e.h,n),a=isNaN(e.s)?0:e.s-i,s=e.l-r;return function(e){return t.h=n+o*e,t.s=i+a*e,t.l=r+s*e,t+""}},ee=function(t,e){t=H(t),e=H(e);var n=isNaN(t.h)?e.h:t.h,i=isNaN(t.c)?e.c:t.c,r=t.l,o=isNaN(e.h)?0:e.h-n,a=isNaN(e.c)?0:e.c-i,s=e.l-r;return function(e){return t.h=n+o*e,t.c=i+a*e,t.l=r+s*e,t+""}},ne=function(t,e){t=H(t),e=H(e);var n=isNaN(t.h)?e.h:t.h,i=isNaN(t.c)?e.c:t.c,r=t.l,o=isNaN(e.h)?0:Q(e.h,n),a=isNaN(e.c)?0:e.c-i,s=e.l-r;return function(e){return t.h=n+o*e,t.c=i+a*e,t.l=r+s*e,t+""}},ie=function(t,e){t=j(t),e=j(e);var n=t.l,i=t.a,r=t.b,o=e.l-n,a=e.a-i,s=e.b-r;return function(e){return t.l=n+o*e,t.a=i+a*e,t.b=r+s*e,t+""}},re=function(t,e){t=w(t),e=w(e);var n=isNaN(t.h)?e.h:t.h,i=isNaN(t.s)?e.s:t.s,r=t.l,o=isNaN(e.h)?0:e.h-n,a=isNaN(e.s)?0:e.s-i,s=e.l-r;return function(e){return t.h=n+o*e,t.s=i+a*e,t.l=r+s*e,t+""}},oe=function(t,e){t=w(t),e=w(e);var n=isNaN(t.h)?e.h:t.h,i=isNaN(t.s)?e.s:t.s,r=t.l,o=isNaN(e.h)?0:Q(e.h,n),a=isNaN(e.s)?0:e.s-i,s=e.l-r;return function(e){return t.h=n+o*e,t.s=i+a*e,t.l=r+s*e,t+""}},ae=function(t,e){t=y(t),e=y(e);var n=t.r,r=t.g,o=t.b,a=e.r-n,s=e.g-r,u=e.b-o;return function(t){return i(Math.round(n+a*t),Math.round(r+s*t),Math.round(o+u*t))}};t.color=k,t.rgb=y,t.hsl=w,t.lab=j,t.hcl=H,t.cubehelix=Z,t.interpolateRgb=ae,t.interpolateHsl=oe,t.interpolateHslLong=re,t.interpolateLab=ie,t.interpolateHcl=ne,t.interpolateHclLong=ee,t.interpolateCubehelix=te,t.interpolateCubehelixLong=J})},{}],7:[function(t,e){function n(t){t=t||{};var e,n,a,s,u,l,c,f=t.maxbins||15,h=t.base||10,d=Math.log(h),p=t.div||[5,2],g=t.min,m=t.max,v=m-g;if(t.step)e=t.step;else if(t.steps)e=t.steps[Math.min(t.steps.length-1,i(t.steps,v/f,0,t.steps.length))];else{n=Math.ceil(Math.log(f)/d),a=t.minstep||0,e=Math.max(a,Math.pow(h,Math.round(Math.log(v)/d)-n));do e*=h;while(Math.ceil(v/e)>f);for(l=0;l<p.length;++l)u=e/p[l],u>=a&&f>=v/u&&(e=u)}return u=Math.log(e),s=u>=0?0:~~(-u/d)+1,c=Math.pow(h,-s-1),g=Math.min(g,Math.floor(g/e+c)*e),m=Math.ceil(m/e)*e,{start:g,stop:m,step:e,unit:{precision:s},value:r,index:o}}function i(t,e,n,i){for(;i>n;){var r=n+i>>>1;u.cmp(t[r],e)<0?n=r+1:i=r}return n}function r(t){return this.step*Math.floor(t/this.step+c)}function o(t){return Math.floor((t-this.start)/this.step+c)}function a(t){return this.unit.date(r.call(this,t))}function s(t){return o.call(this,this.unit.unit(t))}var u=t("../util"),l=t("../time-units"),c=1e-15;n.date=function(t){t=t||{};var e=t.min,i=t.max,r=t.maxbins||20,o=t.minbins||4,u=+i-+e,c=t.unit?l[t.unit]:l.find(u,o,r),f=n({min:null!=c.min?c.min:c.unit(e),max:null!=c.max?c.max:c.unit(i),maxbins:r,minstep:c.minstep,steps:c.step});return f.unit=c,f.index=s,t.raw||(f.value=a),f},e.exports=n},{"../time-units":11,"../util":12}],8:[function(t,e){var n=e.exports={};n.repeat=function(t,e){var n,i=Array(e);for(n=0;e>n;++n)i[n]=t;return i},n.zeros=function(t){return n.repeat(0,t)},n.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("Infinite range");var i,r=[],o=-1;if(0>n)for(;(i=t+n*++o)>e;)r.push(i);else for(;(i=t+n*++o)<e;)r.push(i);return r},n.random={},n.random.uniform=function(t,e){void 0===e&&(e=t,t=0);var i=e-t,r=function(){return t+i*Math.random()};return r.samples=function(t){return n.zeros(t).map(r)},r},n.random.integer=function(t,e){void 0===e&&(e=t,t=0);var i=e-t,r=function(){return t+Math.floor(i*Math.random())};return r.samples=function(t){return n.zeros(t).map(r)},r},n.random.normal=function(t,e){t=t||0,e=e||1;var i,r=function(){var n,r,o=0,a=0;if(void 0!==i)return o=i,i=void 0,o;do o=2*Math.random()-1,a=2*Math.random()-1,n=o*o+a*a;while(0===n||n>1);return r=Math.sqrt(-2*Math.log(n)/n),i=t+a*r*e,t+o*r*e};return r.samples=function(t){return n.zeros(t).map(r)},r}},{}],9:[function(t,e){function n(t,e){return e?void(t[u]=e):t&&t[u]||null}function i(t,e){e=s.$(e);var n,i,r;if(t[u]&&(n=e(t[u]),s.isString(n)))return n;for(i=0,r=t.length;!s.isValid(n)&&r>i;++i)n=e?e(t[i]):t[i];return s.isDate(n)?"date":s.isNumber(n)?"number":s.isBoolean(n)?"boolean":s.isString(n)?"string":null
}function r(t,e){return t.length?(e=e||s.keys(t[0]),e.reduce(function(e,n){return e[n]=i(t,n),e},{})):void 0}function o(t,e){e=s.$(e);var n,i,r,o=["boolean","integer","number","date"];for(n=0;n<t.length;++n){for(r=e?e(t[n]):t[n],i=0;i<o.length;++i)s.isValid(r)&&!c[o[i]](r)&&(o.splice(i,1),i-=1);if(0===o.length)return"string"}return o[0]}function a(t,e){return e=e||s.keys(t[0]),e.reduce(function(e,n){var i=o(t,n);return l[i]&&(e[n]=i),e},{})}var s=t("../util"),u="__types__",l={"boolean":s.boolean,integer:s.number,number:s.number,date:s.date,string:function(t){return""===t?null:t}},c={"boolean":function(t){return"true"===t||"false"===t||s.isBoolean(t)},integer:function(t){return c.number(t)&&(t=+t)===~~t},number:function(t){return!isNaN(+t)&&!s.isDate(t)},date:function(t){return!isNaN(Date.parse(t))}};i.annotation=n,i.all=r,i.infer=o,i.inferAll=a,i.parsers=l,e.exports=i},{"../util":12}],10:[function(t,e){var n=t("./util"),i=t("./import/type"),r=t("./generate"),o={};o.unique=function(t,e,i){e=n.$(e),i=i||[];var r,o,a,s={};for(o=0,a=t.length;a>o;++o)r=e?e(t[o]):t[o],r in s||(s[r]=1,i.push(r));return i},o.count=function(t){return t&&t.length||0},o.count.valid=function(t,e){e=n.$(e);var i,r,o,a=0;for(r=0,o=t.length;o>r;++r)i=e?e(t[r]):t[r],n.isValid(i)&&(a+=1);return a},o.count.missing=function(t,e){e=n.$(e);var i,r,o,a=0;for(r=0,o=t.length;o>r;++r)i=e?e(t[r]):t[r],null==i&&(a+=1);return a},o.count.distinct=function(t,e){e=n.$(e);var i,r,o,a={},s=0;for(r=0,o=t.length;o>r;++r)i=e?e(t[r]):t[r],i in a||(a[i]=1,s+=1);return s},o.count.map=function(t,e){e=n.$(e);var i,r,o,a={};for(r=0,o=t.length;o>r;++r)i=e?e(t[r]):t[r],a[i]=i in a?a[i]+1:1;return a},o.median=function(t,e){return e&&(t=t.map(n.$(e))),t=t.filter(n.isValid).sort(n.cmp),o.quantile(t,.5)},o.quartile=function(t,e){e&&(t=t.map(n.$(e))),t=t.filter(n.isValid).sort(n.cmp);var i=o.quantile;return[i(t,.25),i(t,.5),i(t,.75)]},o.quantile=function(t,e,i){void 0===i&&(i=e,e=n.identity),e=n.$(e);var r=(t.length-1)*i+1,o=Math.floor(r),a=+e(t[o-1]),s=r-o;return s?a+s*(e(t[o])-a):a},o.sum=function(t,e){e=n.$(e);for(var i,r=0,o=0,a=t.length;a>o;++o)i=e?e(t[o]):t[o],n.isValid(i)&&(r+=i);return r},o.mean=function(t,e){e=n.$(e);var i,r,o,a,s,u=0;for(r=0,a=0,o=t.length;o>r;++r)s=e?e(t[r]):t[r],n.isValid(s)&&(i=s-u,u+=i/++a);return u},o.variance=function(t,e){if(e=n.$(e),!n.isArray(t)||0===t.length)return 0;var i,r,o,a,s=0,u=0;for(r=0,o=0;r<t.length;++r)a=e?e(t[r]):t[r],n.isValid(a)&&(i=a-s,s+=i/++o,u+=i*(a-s));return u/=o-1},o.stdev=function(t,e){return Math.sqrt(o.variance(t,e))},o.modeskew=function(t,e){var n=o.mean(t,e),i=o.median(t,e),r=o.stdev(t,e);return 0===r?0:(n-i)/r},o.min=function(t,e){return o.extent(t,e)[0]},o.max=function(t,e){return o.extent(t,e)[1]},o.extent=function(t,e){e=n.$(e);var i,r,o,a,s=t.length;for(a=0;s>a;++a)if(o=e?e(t[a]):t[a],n.isValid(o)){i=r=o;break}for(;s>a;++a)o=e?e(t[a]):t[a],n.isValid(o)&&(i>o&&(i=o),o>r&&(r=o));return[i,r]},o.extent.index=function(t,e){e=n.$(e);var i,r,o,a,s=-1,u=-1,l=t.length;for(a=0;l>a;++a)if(o=e?e(t[a]):t[a],n.isValid(o)){i=r=o,s=u=a;break}for(;l>a;++a)o=e?e(t[a]):t[a],n.isValid(o)&&(i>o&&(i=o,s=a),o>r&&(r=o,u=a));return[s,u]},o.dot=function(t,e,i){var r,o,a=0;if(i)for(e=n.$(e),i=n.$(i),r=0;r<t.length;++r)o=e(t[r])*i(t[r]),Number.isNaN(o)||(a+=o);else{if(t.length!==e.length)throw Error("Array lengths must match.");for(r=0;r<t.length;++r)o=t[r]*e[r],Number.isNaN(o)||(a+=o)}return a},o.rank=function(t,e){e=n.$(e)||n.identity;var i,r,o,a=t.map(function(t,n){return{idx:n,val:e(t)}}).sort(n.comparator("val")),s=t.length,u=Array(s),l=-1,c={};for(i=0;s>i;++i){if(r=a[i].val,0>l&&c===r)l=i-1;else if(l>-1&&c!==r){for(o=1+(i-1+l)/2;i>l;++l)u[a[l].idx]=o;l=-1}u[a[i].idx]=i+1,c=r}if(l>-1)for(o=1+(s-1+l)/2;s>l;++l)u[a[l].idx]=o;return u},o.cor=function(t,e,i){var r=i;i=r?t.map(n.$(i)):e,e=r?t.map(n.$(e)):t;var a=o.dot(e,i),s=o.mean(e),u=o.mean(i),l=o.stdev(e),c=o.stdev(i),f=t.length;return(a-f*s*u)/((f-1)*l*c)},o.cor.rank=function(t,e,i){var r,a,s,u=i?o.rank(t,n.$(e)):o.rank(t),l=i?o.rank(t,n.$(i)):o.rank(e),c=t.length;for(r=0,a=0;c>r;++r)s=u[r]-l[r],a+=s*s;return 1-6*a/(c*(c*c-1))},o.cor.dist=function(t,e,i){var r,a,s,u,l=i?t.map(n.$(e)):t,c=i?t.map(n.$(i)):e,f=o.dist.mat(l),h=o.dist.mat(c),d=f.length;for(r=0,a=0,s=0,u=0;d>r;++r)a+=f[r]*f[r],s+=h[r]*h[r],u+=f[r]*h[r];return Math.sqrt(u/Math.sqrt(a*s))},o.dist=function(t,e,i,r){var o,a,s=n.isFunction(i)||n.isString(i),u=t,l=s?t:e,c=s?r:i,f=2===c||null==c,h=t.length,d=0;for(s&&(e=n.$(e),i=n.$(i)),a=0;h>a;++a)o=s?e(u[a])-i(l[a]):u[a]-l[a],d+=f?o*o:Math.pow(Math.abs(o),c);return f?Math.sqrt(d):Math.pow(d,1/c)},o.dist.mat=function(t){var e,n,i,o=t.length,a=o*o,s=Array(a),u=r.zeros(o),l=0;for(n=0;o>n;++n)for(s[n*o+n]=0,i=n+1;o>i;++i)s[n*o+i]=e=Math.abs(t[n]-t[i]),s[i*o+n]=e,u[n]+=e,u[i]+=e;for(n=0;o>n;++n)l+=u[n],u[n]/=o;for(l/=a,n=0;o>n;++n)for(i=n;o>i;++i)s[n*o+i]+=l-u[n]-u[i],s[i*o+n]=s[n*o+i];return s},o.entropy=function(t,e){e=n.$(e);var i,r,o=0,a=0,s=t.length;for(i=0;s>i;++i)o+=e?e(t[i]):t[i];if(0===o)return 0;for(i=0;s>i;++i)r=(e?e(t[i]):t[i])/o,r&&(a+=r*Math.log(r));return-a/Math.LN2},o.mutual=function(t,e,i,r){var o,a,s,u=r?t.map(n.$(e)):t,l=r?t.map(n.$(i)):e,c=r?t.map(n.$(r)):i,f={},h={},d=c.length,p=0,g=0,m=0;for(s=0;d>s;++s)f[u[s]]=0,h[l[s]]=0;for(s=0;d>s;++s)f[u[s]]+=c[s],h[l[s]]+=c[s],p+=c[s];for(a=1/(p*Math.LN2),s=0;d>s;++s)0!==c[s]&&(o=p*c[s]/(f[u[s]]*h[l[s]]),g+=c[s]*a*Math.log(o),m+=c[s]*a*Math.log(c[s]/p));return[g,1+g/m]},o.mutual.info=function(t,e,n,i){return o.mutual(t,e,n,i)[0]},o.mutual.dist=function(t,e,n,i){return o.mutual(t,e,n,i)[1]},o.profile=function(t,e){var r,a,s,u,l,c=0,f=0,h=0,d=0,p=null,g=null,m=0,v=[],y={};for(s=0;s<t.length;++s)u=e?e(t[s]):t[s],y[u]=u in y?y[u]+1:(d+=1,1),null==u?++h:n.isValid(u)&&(l="string"==typeof u?u.length:u,(null===p||p>l)&&(p=l),(null===g||l>g)&&(g=l),r=l-c,c+=r/++f,m+=r*(l-c),v.push(l));return m/=f-1,a=Math.sqrt(m),v.sort(n.cmp),{type:i(t,e),unique:y,count:t.length,valid:f,missing:h,distinct:d,min:p,max:g,mean:c,stdev:a,median:u=o.quantile(v,.5),q1:o.quantile(v,.25),q3:o.quantile(v,.75),modeskew:0===a?0:(c-u)/a}},o.summary=function(t,e){e=e||n.keys(t[0]);var i=e.map(function(e){var i=o.profile(t,n.$(e));return i.field=e,i});return i.__summary__=!0,i},e.exports=o},{"./generate":8,"./import/type":9,"./util":12}],11:[function(t,e){function n(t){return"number"==typeof t}var i=[[31536e6,5],[7776e6,4],[2592e6,4],[12096e5,3],[6048e5,3],[1728e5,3],[864e5,3],[432e5,2],[216e5,2],[108e5,2],[36e5,2],[18e5,1],[9e5,1],[3e5,1],[6e4,1],[3e4,0],[15e3,0],[5e3,0],[1e3,0]],r=[{type:"second",minstep:1,format:"%Y %b %-d %H:%M:%S.%L",date:function(t){return new Date(1e3*t)},unit:function(t){return+t/1e3}},{type:"minute",minstep:1,format:"%Y %b %-d %H:%M",date:function(t){return new Date(6e4*t)},unit:function(t){return~~(+t/6e4)}},{type:"hour",minstep:1,format:"%Y %b %-d %H:00",date:function(t){return new Date(36e5*t)},unit:function(t){return~~(+t/36e5)}},{type:"day",minstep:1,step:[1,7],format:"%Y %b %-d",date:function(t){return new Date(864e5*t)},unit:function(t){return~~(+t/864e5)}},{type:"month",minstep:1,step:[1,3,6],format:"%b %Y",date:function(t){return new Date(Date.UTC(~~(t/12),t%12,1))},unit:function(t){return n(t)&&(t=new Date(t)),12*t.getUTCFullYear()+t.getUTCMonth()}},{type:"year",minstep:1,format:"%Y",date:function(t){return new Date(Date.UTC(t,0,1))},unit:function(t){return(n(t)?new Date(t):t).getUTCFullYear()}}],o={type:"minuteOfHour",min:0,max:59,minstep:1,format:"%M",date:function(t){return new Date(Date.UTC(1970,0,1,0,t))},unit:function(t){return(n(t)?new Date(t):t).getUTCMinutes()}},a={type:"hourOfDay",min:0,max:23,minstep:1,format:"%H",date:function(t){return new Date(Date.UTC(1970,0,1,t))},unit:function(t){return(n(t)?new Date(t):t).getUTCHours()}},s={type:"dayOfWeek",min:0,max:6,step:[1],format:"%a",date:function(t){return new Date(Date.UTC(1970,0,4+t))},unit:function(t){return(n(t)?new Date(t):t).getUTCDay()}},u={type:"dayOfMonth",min:1,max:31,step:[1],format:"%-d",date:function(t){return new Date(Date.UTC(1970,0,t))},unit:function(t){return(n(t)?new Date(t):t).getUTCDate()}},l={type:"monthOfYear",min:0,max:11,step:[1],format:"%b",date:function(t){return new Date(Date.UTC(1970,t%12,1))},unit:function(t){return(n(t)?new Date(t):t).getUTCMonth()}},c={second:r[0],minute:r[1],hour:r[2],day:r[3],month:r[4],year:r[5],minuteOfHour:o,hourOfDay:a,dayOfWeek:s,dayOfMonth:u,monthOfYear:l,timesteps:r};c.find=function(t,e,n){var o,a,s,u=i[0];for(o=1,a=i.length;a>o;++o)if(u=i[o],t>u[0]){if(s=t/u[0],s>n)return r[i[o-1][1]];if(s>=e)return r[u[1]]}return r[i[i.length-1][1]]},e.exports=c},{}],12:[function(t,e){(function(n){function i(t){return t.replace(f,"$1\\'")}function r(t,e){var n,i="";for(n=0;t>n;++n)i+=e;return i}function o(t,e,n){var i=0,r=t.split(h);return t=n?(r=r.reverse()).filter(function(t){return i+=t.length,e>=i}).reverse():r.filter(function(t){return i+=t.length,e>=i}),t.length?t.join("").trim():r[0].slice(0,e)}var a=t("buffer").Buffer,s=t("./time-units"),u=e.exports={};u.isNode="undefined"!=typeof n&&"undefined"!=typeof n.stderr;var l="__name__";u.namedfunc=function(t,e){return e[l]=t,e},u.name=function(t){return null==t?null:t[l]},u.identity=function(t){return t},u.true=u.namedfunc("true",function(){return!0}),u.false=u.namedfunc("false",function(){return!1}),u.duplicate=function(t){return JSON.parse(JSON.stringify(t))},u.equal=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},u.extend=function(t){for(var e,n,i=1,r=arguments.length;r>i;++i){e=arguments[i];for(n in e)t[n]=e[n]}return t},u.length=function(t){return null!=t&&null!=t.length?t.length:null},u.keys=function(t){var e,n=[];for(e in t)n.push(e);return n},u.vals=function(t){var e,n=[];for(e in t)n.push(t[e]);return n},u.toMap=function(t,e){return(e=u.$(e))?t.reduce(function(t,n){return t[e(n)]=1,t},{}):t.reduce(function(t,e){return t[e]=1,t},{})},u.keystr=function(t){var e=t.length;if(!e)return"";for(var n=String(t[0]),i=1;e>i;++i)n+="|"+String(t[i]);return n};var c=Object.prototype.toString;u.isObject=function(t){return t===Object(t)},u.isFunction=function(t){return"[object Function]"===c.call(t)},u.isString=function(t){return"string"==typeof value||"[object String]"===c.call(t)},u.isArray=Array.isArray||function(t){return"[object Array]"===c.call(t)},u.isNumber=function(t){return"number"==typeof t||"[object Number]"===c.call(t)},u.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==c.call(t)},u.isDate=function(t){return"[object Date]"===c.call(t)},u.isValid=function(t){return null!=t&&!Number.isNaN(t)},u.isBuffer=a&&a.isBuffer||u.false,u.number=function(t){return null==t||""===t?null:+t},u.boolean=function(t){return null==t||""===t?null:"false"===t?!1:!!t},u.date=function(t){return null==t||""===t?null:Date.parse(t)},u.array=function(t){return null!=t?u.isArray(t)?t:[t]:[]},u.str=function(t){return u.isArray(t)?"["+t.map(u.str)+"]":u.isObject(t)?JSON.stringify(t):u.isString(t)?"'"+i(t)+"'":t};var f=/(^|[^\\])'/g;u.field=function(t){return String(t).split("\\.").map(function(t){return t.split(".")}).reduce(function(t,e){return t.length&&(t[t.length-1]+="."+e.shift()),t.push.apply(t,e),t},[])},u.accessor=function(t){var e;return null==t||u.isFunction(t)?t:u.namedfunc(t,(e=u.field(t)).length>1?function(t){return e.reduce(function(t,e){return t[e]},t)}:function(e){return e[t]})},u.$=u.accessor,u.mutator=function(t){var e;return u.isString(t)&&(e=u.field(t)).length>1?function(t,n){for(var i=0;i<e.length-1;++i)t=t[e[i]];t[e[i]]=n}:function(e,n){e[t]=n}},u.$func=function(t,e){return function(n){n=u.$(n)||u.identity;var i=t+(u.name(n)?"_"+u.name(n):"");return u.namedfunc(i,function(t){return e(n(t))})}},u.$valid=u.$func("valid",u.isValid),u.$length=u.$func("length",u.length),u.$year=u.$func("year",s.year.unit),u.$month=u.$func("month",s.monthOfYear.unit),u.$date=u.$func("date",s.dayOfMonth.unit),u.$day=u.$func("day",s.dayOfWeek.unit),u.$hour=u.$func("hour",s.hourOfDay.unit),u.$minute=u.$func("minute",s.minuteOfHour.unit),u.$in=function(t,e){t=u.$(t);var n=u.isArray(e)?u.toMap(e):e;return function(e){return!!n[t(e)]}},u.comparator=function(t){var e=[];return void 0===t&&(t=[]),t=u.array(t).map(function(t){var n=1;return"-"===t[0]?(n=-1,t=t.slice(1)):"+"===t[0]&&(n=1,t=t.slice(1)),e.push(n),u.accessor(t)}),function(n,i){var r,o,a,s,u;for(r=0,o=t.length;o>r;++r){if(a=t[r],s=a(n),u=a(i),u>s)return-1*e[r];if(s>u)return e[r]}return 0}},u.cmp=function(t,e){return e>t?-1:t>e?1:t>=e?0:null===t&&null===e?0:null===t?-1:null===e?1:0/0},u.numcmp=function(t,e){return t-e},u.stablesort=function(t,e,n){var i=t.reduce(function(t,e,i){return t[n(e)]=i,t},{});return t.sort(function(t,r){var o=e(t),a=e(r);return a>o?-1:o>a?1:i[n(t)]-i[n(r)]}),t},u.startsWith=String.prototype.startsWith?function(t,e){return t.startsWith(e)}:function(t,e){return 0===t.lastIndexOf(e,0)},u.pad=function(t,e,n,i){i=i||" ";var o=e-t.length;if(0>=o)return t;switch(n){case"left":return r(o,i)+t;case"middle":case"center":return r(Math.floor(o/2),i)+t+r(Math.ceil(o/2),i);default:return t+r(o,i)}},u.truncate=function(t,e,n,i,r){var a=t.length;if(e>=a)return t;r=void 0!==r?String(r):"…";var s=Math.max(0,e-r.length);switch(n){case"left":return r+(i?o(t,s,1):t.slice(a-s));case"middle":case"center":var u=Math.ceil(s/2),l=Math.floor(s/2);return(i?o(t,u):t.slice(0,u))+r+(i?o(t,l,1):t.slice(a-l));default:return(i?o(t,s):t.slice(0,s))+r}};var h=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/}).call(this,t("_process"))},{"./time-units":11,_process:3,buffer:2}],13:[function(t,e){"use strict";t("./globals");var n=t("./consts"),i=t("./util"),r=t("./field"),o=t("./enc"),a=t("./schema/schema");e.exports=function(){function t(t,e){var n=a.instantiate(),i=a.util.merge(n,e||{},t);this._data=i.data,this._marktype=i.marktype,this._enc=i.encoding,this._config=i.config,this._filter=i.filter}var e=t.prototype;return t.fromShorthand=function(e,i,r,a){var s=n.shorthand,u=e.split(s.delim),l=u.shift().split(s.assign)[1].trim(),c=o.fromShorthand(u);return new t({data:i,marktype:l,encoding:c,config:r,filter:[]},a)},t.fromSpec=function(e,n){return new t(e,n)},e.toShorthand=function(){var t=n.shorthand;return"mark"+t.assign+this._marktype+t.delim+o.shorthand(this._enc)},t.shorthand=function(t){var e=n.shorthand;return"mark"+e.assign+t.marktype+e.delim+o.shorthand(t.encoding)},t.specFromShorthand=function(e,n,i,r){return t.fromShorthand(e,n,i).toSpec(r)},e.toSpec=function(t,e){var n,r=i.duplicate(this._enc);n={marktype:this._marktype,encoding:r,filter:this._filter},t||(n.config=i.duplicate(this._config)),e||(n.data=i.duplicate(this._data));var o=a.instantiate();return a.util.subtract(n,o)},e.marktype=function(){return this._marktype},e.is=function(t){return this._marktype===t},e.has=function(t){return void 0!==this._enc[t].name},e.enc=function(t){return this._enc[t]},e.filter=function(){var t=[],e=this.fields(),n=this;return i.forEach(e,function(e,i){"*"!==i&&(n.config("filterNull").Q&&e.containsType[Q]||n.config("filterNull").T&&e.containsType[T]||n.config("filterNull").O&&e.containsType[O]||n.config("filterNull").N&&e.containsType[N])&&t.push({operands:[i],operator:"notNull"})}),t.concat(this._filter)},e.field=function(t,e,n){return this.has(t)?r.fieldRef(this._enc[t],{nofn:n,data:!this._vega2&&!e}):null},e.fieldRef=function(t,e){return e=e||{},e.data=!this._vega2&&e.data!==!1,r.fieldRef(this._enc[t],e)},e.fieldName=function(t){return this._enc[t].name},e.fields=function(){return o.fields(this._enc)},e.fieldTitle=function(t){if(r.isCount(this._enc[t]))return r.count.displayName;var e=this._enc[t].aggregate||this._enc[t].timeUnit||this._enc[t].bin&&"bin";return e?e.toUpperCase()+"("+this._enc[t].name+")":this._enc[t].name},e.scale=function(t){return this._enc[t].scale||{}},e.axis=function(t){return this._enc[t].axis||{}},e.band=function(t){return this._enc[t].band||{}},e.bandSize=function(t,e){return e=e||t===Y&&this.has(ROW)&&this.has(Y)||t===X&&this.has(COL)&&this.has(X),this.band(t).size||this.config(e?"smallBandSize":"largeBandSize")},e.aggregate=function(t){return this._enc[t].aggregate},e.bin=function(t){var e=this._enc[t].bin;return e==={}?!1:e===!0?{maxbins:a.MAXBINS_DEFAULT}:e},e.legend=function(t){return this._enc[t].legend},e.value=function(t){return this._enc[t].value},e.timeUnit=function(t){return this._enc[t].timeUnit},e.sort=function(e,n){var i=this._enc[e].sort,o=this._enc,a=r.isTypes;if((!i||0===i.length)&&t.toggleSort.support({encoding:this._enc},n,!0)&&this.config("toggleSort")===Q){var s=a(o.x,[N,O])?o.y:o.x;a(o[e],[N,O])&&(i=[{name:s.name,aggregate:s.aggregate,type:s.type,reverse:!0}])}return i},e.length=function(){return i.keys(this._enc).length},e.map=function(t){return o.map(this._enc,t)},e.reduce=function(t,e){return o.reduce(this._enc,t,e)},e.forEach=function(t){return o.forEach(this._enc,t)},e.type=function(t){return this.has(t)?this._enc[t].type:null},e.role=function(t){return this.has(t)?r.role(this._enc[t]):null},e.text=function(t){var e=this._enc[TEXT].text;return t?e[t]:e},e.font=function(t){var e=this._enc[TEXT].font;return t?e[t]:e},e.isType=function(t,e){var n=this.enc(t);return n&&r.isType(n,e)},e.isTypes=function(t,e){var n=this.enc(t);return n&&r.isTypes(n,e)},t.isOrdinalScale=function(t,e){return r.isOrdinalScale(t.enc(e))},t.isDimension=function(t,e){return r.isDimension(t.enc(e))},t.isMeasure=function(t,e){return r.isMeasure(t.enc(e))},e.isOrdinalScale=function(e){return this.has(e)&&t.isOrdinalScale(this,e)},e.isDimension=function(e){return this.has(e)&&t.isDimension(this,e)},e.isMeasure=function(e){return this.has(e)&&t.isMeasure(this,e)},e.isAggregate=function(){return o.isAggregate(this._enc)},t.isAggregate=function(t){return o.isAggregate(t.encoding)},t.alwaysNoOcclusion=function(t){return o.isAggregate(t.encoding)},t.isStack=function(t){return("bar"===t.marktype||"area"===t.marktype)&&t.encoding.color},e.isStack=function(){return(this.is("bar")||this.is("area"))&&this.has("color")},e.cardinality=function(t,e){return r.cardinality(this.enc(t),e,this.config("filterNull"))},e.isRaw=function(){return!this.isAggregate()},e.data=function(t){return t?this._data[t]:this._data},e.hasValues=function(){var t=this.data("values");return t&&t.length},e.config=function(t){return this._config[t]},t.transpose=function(t){var e=t.encoding,n=i.duplicate(t.encoding);return n.x=e.y,n.y=e.x,n.row=e.col,n.col=e.row,t.encoding=n,t},t.toggleSort=function(t){return t.config=t.config||{},t.config.toggleSort=t.config.toggleSort===Q?N:Q,t},t.toggleSort.direction=function(e){if(t.toggleSort.support(e)){var n=e.encoding;return n.x.type===N?"x":"y"}},t.toggleSort.mode=function(t){return t.config.toggleSort},t.toggleSort.support=function(e,n){var i=e.encoding,a=r.isTypes;return!o.has(i,ROW)&&!o.has(i,COL)&&o.has(i,X)&&o.has(i,Y)&&t.alwaysNoOcclusion(e,n)?a(i.x,[N,O])&&r.isMeasure(i.y)?"x":a(i.y,[N,O])&&r.isMeasure(i.x)?"y":!1:!1},t.toggleFilterNullO=function(t){return t.config=t.config||{},t.config.filterNull=t.config.filterNull||{T:!0,Q:!0},t.config.filterNull.O=!t.config.filterNull.O,t},t.toggleFilterNullO.support=function(t,e){var n=o.fields(t.encoding);for(var i in n){var r=n[i];if(r.containsType.O&&i in e&&e[i].nulls>0)return!0}return!1},t}()},{"./consts":31,"./enc":33,"./field":34,"./globals":35,"./schema/schema":36,"./util":38}],14:[function(t,e){"use strict";function n(t,e,n){n=n||{};var r={},o={},a={},s={};return e.forEach(function(t,n){t.aggregate?"count"===t.aggregate?o.count={op:"count",field:"*"}:o[t.aggregate+"|"+t.name]={op:t.aggregate,field:e.fieldRef(n,{nofn:!0})}:(r[t.name]=e.field(n),n==ROW||n==COL?s[t.name]=r[t.name]:n!==X&&n!==Y&&(a[t.name]=r[t.name]))}),r=i.vals(r),o=i.vals(o),o.length>0&&(t.transform||(t.transform=[]),t.transform.push({type:"aggregate",groupby:r,fields:o})),{details:i.vals(a),dims:r,facets:i.vals(s),aggregated:o.length>0}}t("../globals");var i=t("../util");e.exports=n},{"../globals":35,"../util":38}],15:[function(t,e){"use strict";function n(t,e,n,i){var s=null,u=n.fieldTitle(e);return e===X?s=i.cellWidth/n.config("characterWidth"):e===Y&&(s=i.cellHeight/n.config("characterWidth")),t.title=s?o.truncate(u,s):u,e===ROW&&a(t,["properties","title"],{angle:{value:0},align:{value:"right"},baseline:{value:"middle"},dy:{value:-i.height/2-20}}),t.titleOffset=r(n,i,e),t}function i(t,e,n){var i;n.isType(e,T)&&(i=n.timeUnit(e))&&u.hasScale(i)&&a(t,["properties","labels","text","scale"],"time-"+i);var r=["properties","labels","text","template"];return n.axis(e).format?t.format=n.axis(e).format:n.isType(e,Q)?a(t,r,"{{data | number:'.3s'}}"):n.isType(e,T)?n.timeUnit(e)?"year"===n.timeUnit(e)&&a(t,r,"{{data | number:'d'}}"):a(t,r,"{{data | time:'%Y-%m-%d'}}"):n.isTypes(e,[N,O])&&n.axis(e).maxLabelLength&&a(t,r,"{{data | truncate:"+n.axis(e).maxLabelLength+"}}"),t}function r(t,e,n){var i=t.axis(n).titleOffset;if(i)return i;switch(n){case ROW:return 0;case COL:return 35}return s(e,[n,"axisTitleOffset"])}t("../globals");var o=t("../util"),a=o.setter,s=o.getter,u=t("./time"),l=e.exports={};l.names=function(t){return o.keys(o.keys(t).reduce(function(e,n){var i=t[n].scale;return(i===X||i===Y)&&(e[t[n].scale]=1),e},{}))},l.defs=function(t,e,n,i,r){return t.reduce(function(t,o){return t.push(l.def(o,e,n,i,r)),t},[])},l.def=function(t,e,o,s,u){var l=t,c=t==COL,f=t==ROW,h=r(e,o,Y)+20,d=o.cellPadding;c&&(l="x"),f&&(l="y");var p={type:l,scale:t};return e.axis(t).grid&&(p.grid=!0,p.layer="back",c?a(p,["properties","grid"],{x:{offset:o.cellWidth*(1+d/2),scale:"col"},y:{value:-o.cellHeight*(d/2)},stroke:{value:e.config("cellGridColor")},opacity:{value:e.config("cellGridOpacity")}}):f?a(p,["properties","grid"],{y:{offset:-o.cellHeight*(d/2),scale:"row"},x:{value:h},x2:{offset:h+.05*o.cellWidth,group:"mark.group.width",mult:1},stroke:{value:e.config("cellGridColor")},opacity:{value:e.config("cellGridOpacity")}}):a(p,["properties","grid"],{stroke:{value:e.config("gridColor")},opacity:{value:e.config("gridOpacity")}})),e.axis(t).title&&(p=n(p,t,e,o,u)),(f||c)&&(a(p,["properties","ticks"],{opacity:{value:0}}),a(p,["properties","majorTicks"],{opacity:{value:0}}),a(p,["properties","axis"],{opacity:{value:0}})),c&&(p.orient="top"),f&&(p.offset=h),t==X&&(e.has(Y)&&e.isOrdinalScale(Y)&&e.cardinality(Y,s)>30&&(p.orient="top"),e.isDimension(X)||e.isType(X,T)?a(p,["properties","labels"],{angle:{value:270},align:{value:"right"},baseline:{value:"middle"}}):p.ticks=5),p=i(p,t,e,o,u)}},{"../globals":35,"../util":38,"./time":30}],16:[function(t,e){"use strict";function n(t,e,n){return n=n||{},t.transform||(t.transform=[]),e.forEach(function(n,i){e.bin(i)&&t.transform.push({type:"bin",field:e.field(i,!1,!0),output:e.field(i),maxbins:e.bin(i).maxbins})}),t}t("../globals"),e.exports=n},{"../globals":35}],17:[function(t,e){"use strict";var n=e.exports=t("datalib/src/stats").summary;t("../globals");var i=e.exports={},r=t("../Encoding"),o=i.axis=t("./axis"),a=i.filter=t("./filter"),s=i.legend=t("./legend"),u=i.marks=t("./marks"),l=i.scale=t("./scale");i.aggregate=t("./aggregate"),i.bin=t("./bin"),i.facet=t("./facet"),i.group=t("./group"),i.layout=t("./layout"),i.sort=t("./sort"),i.stack=t("./stack"),i.style=t("./style"),i.subfacet=t("./subfacet"),i.template=t("./template"),i.time=t("./time"),i.compile=function(t,e,n){return i.compileEncoding(r.fromSpec(t,n),e)},i.shorthand=function(t,e,n,o){return i.compileEncoding(r.fromShorthand(t,n,o),e)},i.compileEncoding=function(t,e){!e&&t.hasValues()&&(e=n(t.data("values")).reduce(function(t,e){return t[e.field]=e,t},{}));var r=i.layout(t,e),c=i.template(t,r,e),f=c.data[0],h=c.data[1];f=a.addFilters(f,t),h=i.bin(h,t),c=i.time(c,t);for(var d=i.aggregate(h,t),p=i.sort(c.data,t,e),g=i.style(t,e),m=c.marks[0],v=u[t.marktype()],y=u.def(v,t,r,g),b=y[0],w=0;w<y.length;w++)m.marks.push(y[w]);var _=u[t.marktype()].line,x=d.details,$=x&&x.length>0,C=$&&i.stack(c.data,t,b,d.facets);if($&&(C||_)&&i.subfacet(m,b,x,C,t),_){var E=t.isMeasure(X)&&t.isDimension(Y)?Y:X;b.from||(b.from={}),b.from.transform=[{type:"sort",by:"-"+t.field(E)}]}return t.has(ROW)||t.has(COL)?(c=i.facet(m,t,r,g,p,c,b,C,e),c.legends=s.defs(t)):(m.scales=l.defs(l.names(b.properties.update),t,r,e,g,p,{stack:C}),m.axes=o.defs(o.names(b.properties.update),t,r,e),m.legends=s.defs(t)),a.filterLessThanZero(h,t),c}},{"../Encoding":13,"../globals":35,"./aggregate":14,"./axis":15,"./bin":16,"./facet":18,"./filter":19,"./group":20,"./layout":21,"./legend":22,"./marks":23,"./scale":24,"./sort":25,"./stack":26,"./style":27,"./subfacet":28,"./template":29,"./time":30,"datalib/src/stats":10}],18:[function(t,e){"use strict";function n(t,e,n,s,u,l,c,f,h){var d,p,g=t.properties.enter,m=[],v=[],y=e.has(ROW),b=e.has(COL);g.fill={value:e.config("cellBackgroundColor")},t.from={data:t.marks[0].from.data};for(var w=0;w<t.marks.length;w++){var _=t.marks[w];_.from.transform?delete _.from.data:delete _.from}y?(e.isDimension(ROW)||i.error("Row encoding should be ordinal."),g.y={scale:ROW,field:"keys."+m.length},g.height={value:n.cellHeight},m.push(e.field(ROW)),b&&(d=i.duplicate(t.from),d.transform=d.transform||[],d.transform.unshift({type:"facet",keys:[e.field(COL)]})),p=o("x-axes",{axes:e.has(X)?r.defs(["x"],e,n,h):void 0,x:b?{scale:COL,field:"keys.0"}:{value:0},width:b&&{value:n.cellWidth},from:d}),l.marks.unshift(p),l.axes=l.axes||[],l.axes.push.apply(l.axes,r.defs(["row"],e,n,h))):e.has(X)&&v.push.apply(v,r.defs(["x"],e,n,h)),b?(e.isDimension(COL)||i.error("Col encoding should be ordinal."),g.x={scale:COL,field:"keys."+m.length},g.width={value:n.cellWidth},m.push(e.field(COL)),y&&(d=i.duplicate(t.from),d.transform=d.transform||[],d.transform.unshift({type:"facet",keys:[e.field(ROW)]})),p=o("y-axes",{axes:e.has(Y)?r.defs(["y"],e,n,h):void 0,y:y&&{scale:ROW,field:"keys.0"},x:y&&{value:0},height:y&&{value:n.cellHeight},from:d}),l.marks.unshift(p),l.axes=l.axes||[],l.axes.push.apply(l.axes,r.defs(["col"],e,n,h))):e.has(Y)&&v.push.apply(v,r.defs(["y"],e,n,h)),l.scales=(l.scales||[]).concat(a.defs(a.names(g).concat(a.names(c.properties.update)),e,n,h,s,u,{stack:f,facet:!0})),v.length>0&&(t.axes=v);var x=t.from.transform||(t.from.transform=[]);return x.unshift({type:"facet",keys:m}),l}t("../globals");var i=t("../util"),r=t("./axis"),o=t("./group").def,a=t("./scale");e.exports=n},{"../globals":35,"../util":38,"./axis":15,"./group":20,"./scale":24}],19:[function(t,e){"use strict";t("../globals");var n=e.exports={},i={">":!0,">=":!0,"=":!0,"!=":!0,"<":!0,"<=":!0};n.addFilters=function(t,e){var n=e.filter();t.transform||(t.transform=[]);for(var r in n){var o=n[r],a="",s=o.operator,u=o.operands,l="d."+(e._vega2?"":"data.");if(i[s]){"="===s&&(s="==");var c=u[0],f=u[1];a=l+c+s+f}else if("notNull"===s)for(var h in u)a+=l+u[h]+"!==null",h<u.length-1&&(a+=" && ");else console.warn("Unsupported operator: ",s);t.transform.push({type:"filter",test:a})}return t},n.filterLessThanZero=function(t,e){e.forEach(function(n,i){"log"===e.scale(i).type&&t.transform.push({type:"filter",test:"d."+e.field(i)+">0"})})}},{"../globals":35}],20:[function(t,e){"use strict";function n(t,e){return e=e||{},{_name:t||void 0,type:"group",from:e.from,properties:{enter:{x:e.x||void 0,y:e.y||void 0,width:e.width||{group:"width"},height:e.height||{group:"height"}}},scales:e.scales||void 0,axes:e.axes||void 0,marks:e.marks||[]}}e.exports={def:n}},{}],21:[function(t,e){"use strict";function n(t,e){var n=i(t,e);return n=o(t,e,n)}function i(t,e){var n,i,r=t.has(ROW),o=t.has(COL),a=t.has(X),s=t.has(Y),u=t.marktype(),l=a&&t.isDimension(X)?t.cardinality(X,e):1,c=s&&t.isDimension(Y)?t.cardinality(Y,e):1,f=l>t.config("largeBandMaxCardinality")||c>t.config("largeBandMaxCardinality"),h=t.config("cellPadding");n=a?t.isOrdinalScale(X)?(l+t.band(X).padding)*t.bandSize(X,f):o||r?t.enc(COL).width:t.config("singleWidth"):u===TEXT?t.config("textCellWidth"):t.bandSize(X),i=s?t.isOrdinalScale(Y)?(c+t.band(Y).padding)*t.bandSize(Y,f):o||r?t.enc(ROW).height:t.config("singleHeight"):t.bandSize(Y);var d=n,p=i;if(o){var g=t.cardinality(COL,e);d=n*((1+h)*(g-1)+1)}if(r){var m=t.cardinality(ROW,e);p=i*((1+h)*(m-1)+1)}return{cellWidth:n,cellHeight:i,cellPadding:h,width:d,height:p,x:{useSmallBand:f},y:{useSmallBand:f}}}function r(t,e,n){return t.bin(n)?5:t.isType(n,Q)?10:t.isType(n,T)?15:t.isTypes(n,[N,O])&&t.axis(n).maxLabelLength?Math.min(e[t.fieldName(n)].max,t.axis(n).maxLabelLength):e[t.fieldName(n)].max}function o(t,e,n){return[X,Y].forEach(function(i){var o;t.isDimension(i)||t.isType(i,T)?o=r(t,e,i):"count"===t.aggregate(i)?o=3:t.isType(i,Q)&&(o=i===X?3:Math.min(r(t,e,i),7)),s(n,[i,"axisTitleOffset"],t.config("characterWidth")*o+20)}),n}t("../globals");var a=t("../util"),s=a.setter;e.exports=n},{"../globals":35,"../util":38}],22:[function(t,e){"use strict";t("../globals");var n=t("./time"),i=e.exports={};i.defs=function(t){var e=[];if(t.has(COLOR)&&t.legend(COLOR)&&e.push(i.def(COLOR,t,{fill:COLOR,orient:"right"})),t.has(SIZE)&&t.legend(SIZE)&&e.push(i.def(SIZE,t,{size:SIZE,orient:1===e.length?"left":"right"})),t.has(SHAPE)&&t.legend(SHAPE)){if(2===e.length)return console.error("Vega-lite currently only supports two legends"),e;e.push(i.def(SHAPE,t,{shape:SHAPE,orient:1===e.length?"left":"right"}))}return e},i.def=function(t,e,i){var r,o=i;if(o.title=e.fieldTitle(t),e.isType(t,T)&&(r=e.timeUnit(t))&&n.hasScale(r)){var a=o.properties=o.properties||{},s=a.labels=a.labels||{},u=s.text=s.text||{};u.scale="time-"+r}return o}},{"../globals":35,"./time":30}],23:[function(t,e){"use strict";function n(t,e){var n={};return t.isMeasure(X)?(n.x={scale:X,field:t.field(X)},(!t.has(Y)||t.isDimension(Y))&&(n.x2={value:0})):t.has(X)?n.xc={scale:X,field:t.field(X)}:n.x={value:0,offset:t.config("singleBarOffset")},n.x2||(n.width=!t.has(X)||t.isOrdinalScale(X)?t.has(SIZE)?{scale:SIZE,field:t.field(SIZE)}:{value:t.bandSize(X,e.x.useSmallBand),offset:-1}:{value:2}),t.isMeasure(Y)?(n.y={scale:Y,field:t.field(Y)},n.y2={group:"height"}):(t.has(Y)?n.yc={scale:Y,field:t.field(Y)}:n.y2={group:"height",offset:-t.config("singleBarOffset")},n.height=t.has(SIZE)?{scale:SIZE,field:t.field(SIZE)}:{value:t.bandSize(Y,e.y.useSmallBand),offset:-1}),n.fill=t.has(COLOR)?{scale:COLOR,field:t.field(COLOR)}:{value:t.value(COLOR)},t.has(ALPHA)?n.opacity={scale:ALPHA,field:t.field(ALPHA)}:void 0!==t.value(ALPHA)&&(n.opacity={value:t.value(ALPHA)}),n}function i(t,e,n){var i={};return t.has(X)?i.x={scale:X,field:t.field(X)}:t.has(X)||(i.x={value:t.bandSize(X,e.x.useSmallBand)/2}),t.has(Y)?i.y={scale:Y,field:t.field(Y)}:t.has(Y)||(i.y={value:t.bandSize(Y,e.y.useSmallBand)/2}),t.has(SIZE)?i.size={scale:SIZE,field:t.field(SIZE)}:t.has(SIZE)||(i.size={value:t.value(SIZE)}),t.has(SHAPE)?i.shape={scale:SHAPE,field:t.field(SHAPE)}:t.has(SHAPE)||(i.shape={value:t.value(SHAPE)}),t.has(COLOR)?i.stroke={scale:COLOR,field:t.field(COLOR)}:t.has(COLOR)||(i.stroke={value:t.value(COLOR)}),t.has(ALPHA)?i.opacity={scale:ALPHA,field:t.field(ALPHA)}:void 0!==t.value(ALPHA)?i.opacity={value:t.value(ALPHA)}:t.has(COLOR)||(i.opacity={value:n.opacity}),i.strokeWidth={value:t.config("strokeWidth")},i}function r(t){var e={};return t.has(X)?e.x={scale:X,field:t.field(X)}:t.has(X)||(e.x={value:0}),t.has(Y)?e.y={scale:Y,field:t.field(Y)}:t.has(Y)||(e.y={group:"height"}),t.has(COLOR)?e.stroke={scale:COLOR,field:t.field(COLOR)}:t.has(COLOR)||(e.stroke={value:t.value(COLOR)}),t.has(ALPHA)?e.opacity={scale:ALPHA,field:t.field(ALPHA)}:void 0!==t.value(ALPHA)&&(e.opacity={value:t.value(ALPHA)}),e.strokeWidth={value:t.config("strokeWidth")},e}function o(t){var e={};return t.isMeasure(X)?(e.x={scale:X,field:t.field(X)},t.isDimension(Y)&&(e.x2={scale:X,value:0},e.orient={value:"horizontal"})):e.x=t.has(X)?{scale:X,field:t.field(X)}:{value:0},t.isMeasure(Y)?(e.y={scale:Y,field:t.field(Y)},e.y2={scale:Y,value:0}):e.y=t.has(Y)?{scale:Y,field:t.field(Y)}:{group:"height"},t.has(COLOR)?e.fill={scale:COLOR,field:t.field(COLOR)}:t.has(COLOR)||(e.fill={value:t.value(COLOR)}),t.has(ALPHA)?e.opacity={scale:ALPHA,field:t.field(ALPHA)}:void 0!==t.value(ALPHA)&&(e.opacity={value:t.value(ALPHA)}),e
}function a(t,e,n){var i={};return t.has(X)?(i.x={scale:X,field:t.field(X)},t.isDimension(X)&&(i.x.offset=-t.bandSize(X,e.x.useSmallBand)/3)):t.has(X)||(i.x={value:0}),t.has(Y)?(i.y={scale:Y,field:t.field(Y)},t.isDimension(Y)&&(i.y.offset=-t.bandSize(Y,e.y.useSmallBand)/3)):t.has(Y)||(i.y={value:0}),i.width=!t.has(X)||t.isDimension(X)?{value:t.bandSize(X,e.y.useSmallBand)/1.5}:{value:1},i.height=!t.has(Y)||t.isDimension(Y)?{value:t.bandSize(Y,e.y.useSmallBand)/1.5}:{value:1},i.fill=t.has(COLOR)?{scale:COLOR,field:t.field(COLOR)}:{value:t.value(COLOR)},t.has(ALPHA)?i.opacity={scale:ALPHA,field:t.field(ALPHA)}:void 0!==t.value(ALPHA)?i.opacity={value:t.value(ALPHA)}:t.has(COLOR)||(i.opacity={value:n.opacity}),i}function s(t){return function(e,n,i){var r={};return e.has(X)?r.x={scale:X,field:e.field(X)}:e.has(X)||(r.x={value:e.bandSize(X,n.x.useSmallBand)/2}),e.has(Y)?r.y={scale:Y,field:e.field(Y)}:e.has(Y)||(r.y={value:e.bandSize(Y,n.y.useSmallBand)/2}),e.has(SIZE)?r.size={scale:SIZE,field:e.field(SIZE)}:e.has(X)||(r.size={value:e.value(SIZE)}),r.shape={value:t},e.has(COLOR)?r.fill={scale:COLOR,field:e.field(COLOR)}:e.has(COLOR)||(r.fill={value:e.value(COLOR)}),e.has(ALPHA)?r.opacity={scale:ALPHA,field:e.field(ALPHA)}:void 0!==e.value(ALPHA)?r.opacity={value:e.value(ALPHA)}:e.has(COLOR)||(r.opacity={value:i.opacity}),r}}function u(t,e,n){var i={};return t.has(X)?i.x={scale:X,field:t.field(X)}:t.has(X)||(i.x=t.has(TEXT)&&t.isType(TEXT,Q)?{value:e.cellWidth-5}:{value:t.bandSize(X,e.x.useSmallBand)/2}),t.has(Y)?i.y={scale:Y,field:t.field(Y)}:t.has(Y)||(i.y={value:t.bandSize(Y,e.y.useSmallBand)/2}),t.has(SIZE)?i.fontSize={scale:SIZE,field:t.field(SIZE)}:t.has(SIZE)||(i.fontSize={value:t.font("size")}),i.fill={value:"black"},i.opacity=t.has(ALPHA)?{scale:ALPHA,field:t.field(ALPHA)}:void 0!==t.value(ALPHA)?{value:t.value(ALPHA)}:{value:n.opacity},t.has(TEXT)?t.isType(TEXT,Q)?(i.text={template:"{{"+t.field(TEXT)+" | number:'.3s'}}"},i.align={value:"right"}):i.text={field:t.field(TEXT)}:i.text={value:"Abc"},i.font={value:t.font("family")},i.fontWeight={value:t.font("weight")},i.fontStyle={value:t.font("style")},i.baseline={value:t.text("baseline")},i}t("../globals");var l=e.exports={};l.def=function(t,e,n,i){var r=[];if(e.marktype()===TEXT&&e.has(COLOR)){var o={x:{value:0},y:{value:0},x2:{value:n.cellWidth},y2:{value:n.cellHeight},fill:{scale:COLOR,field:e.field(COLOR)}};r.push({type:"rect",from:{data:TABLE},properties:{enter:o,update:o}})}var a=t.prop(e,n,i);return r.push({type:t.type,from:{data:TABLE},properties:{enter:a,update:a}}),r},l.bar={type:"rect",stack:!0,prop:n,requiredEncoding:["x","y"],supportedEncoding:{row:1,col:1,x:1,y:1,size:1,color:1,alpha:1}},l.line={type:"line",line:!0,prop:r,requiredEncoding:["x","y"],supportedEncoding:{row:1,col:1,x:1,y:1,color:1,alpha:1,detail:1}},l.area={type:"area",stack:!0,line:!0,requiredEncoding:["x","y"],prop:o,supportedEncoding:{row:1,col:1,x:1,y:1,color:1,alpha:1}},l.tick={type:"rect",prop:a,supportedEncoding:{row:1,col:1,x:1,y:1,color:1,alpha:1,detail:1}},l.circle={type:"symbol",prop:s("circle"),supportedEncoding:{row:1,col:1,x:1,y:1,size:1,color:1,alpha:1,detail:1}},l.square={type:"symbol",prop:s("square"),supportedEncoding:l.circle.supportedEncoding},l.point={type:"symbol",prop:i,supportedEncoding:{row:1,col:1,x:1,y:1,size:1,color:1,alpha:1,shape:1,detail:1}},l.text={type:"text",prop:u,requiredEncoding:["text"],supportedEncoding:{row:1,col:1,size:1,color:1,alpha:1,text:1}}},{"../globals":35}],24:[function(t,e){"use strict";function n(t,e,n,i){var r=e.scale(t.name);switch(t.name){case X:"ordinal"===t.type?t.bandWidth=e.bandSize(X,n.x.useSmallBand):(t.range=n.cellWidth?[0,n.cellWidth]:"width",t.zero=e.isType(t.name,T)&&"year"===e.timeUnit(t.name)?!1:void 0===r.zero?!0:r.zero,t.reverse=r.reverse),t.round=!0,t.nice="time"===t.type?e.timeUnit(t.name):!0;break;case Y:"ordinal"===t.type?t.bandWidth=e.bandSize(Y,n.y.useSmallBand):(t.range=n.cellHeight?[n.cellHeight,0]:"height",t.zero=e.isType(t.name,T)&&"year"===e.timeUnit(t.name)?!1:void 0===r.zero?!0:r.zero,t.reverse=r.reverse),t.round=!0,t.nice="time"===t.type?e.timeUnit(t.name)||e.config("timeScaleNice"):!0;break;case ROW:t.bandWidth=n.cellHeight,t.round=!0,t.nice=!0;break;case COL:t.bandWidth=n.cellWidth,t.round=!0,t.nice=!0;break;case SIZE:if(e.is("bar"))t.range=[3,Math.max(e.bandSize(X),e.bandSize(Y))];else if(e.is(TEXT))t.range=[8,40];else{var o=Math.min(e.bandSize(X),e.bandSize(Y))-1;t.range=[10,.8*o*o]}t.round=!0,t.zero=!1;break;case SHAPE:t.range="shapes";break;case COLOR:t.range=s.color(t,e,i);break;case ALPHA:t.range=[.2,1];break;default:throw new Error("Unknown encoding name: "+t.name)}switch(t.name){case ROW:case COL:t.padding=e.config("cellPadding"),t.outerPadding=0;break;case X:case Y:"ordinal"===t.type&&(t.points=!0,t.padding=e.band(t.name).padding)}}t("../globals");var i=t("../util"),r=t("./time"),o=t("colorbrewer"),a=t("d3-color").interpolateLab,s=e.exports={};s.names=function(t){return i.keys(i.keys(t).reduce(function(e,n){return t[n]&&t[n].scale&&(e[t[n].scale]=1),e},{}))},s.defs=function(t,e,i,r,o,a,u){return u=u||{},t.reduce(function(t,l){var c={name:l,type:s.type(l,e),domain:s.domain(l,e,a,u)};return"ordinal"!==c.type||e.bin(l)||0!==e.sort(l).length||(c.sort=!0),n(c,e,i,r,o,u),t.push(c),t},[])},s.type=function(t,e){switch(e.type(t)){case N:case O:return"ordinal";case T:var n=e.timeUnit(t);return n&&r.scale.type(n,t)||"time";case Q:return e.bin(t)?t===COLOR?"linear":"ordinal":e.scale(t).type}},s.domain=function(t,e,n,i){if(e.isType(t,T)){var o=r.scale.domain(e.timeUnit(t),t);if(o)return o}return t==i.stack?{data:STACKED,field:e.fieldRef(t,{data:!e._vega2,prefn:(i.facet?"max_":"")+"sum_"})}:{data:n.getDataset(t),field:e.field(t)}},s.color=function(t,e,n){var i=e.scale(COLOR).range,r=e.cardinality(COLOR,n),a=e.type(COLOR);if(void 0===i){var u=e.config("ordinalPalette");if("ordinal"===t.type)i=a===N?e.config(10>=r?"c10palette":"c20palette"):2>=r?[o[u][3][0],o[u][3][2]]:u;else{var l=o[u][9];i=[l[0],l[8]],t.zero=!1}}return s.color.palette(i,r,a)},s.color.palette=function(t,e,n){switch(t){case"category10k":return["#2ca02c","#e377c2","#7f7f7f","#17becf","#8c564b","#d62728","#bcbd22","#9467bd","#ff7f0e","#1f77b4"];case"category10":return["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];case"category20":return["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"];case"category20b":return["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"];case"category20c":return["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"]}if(t in o){var r=o[t],a=5;return e in r?r[e]:n===N?r[Math.max.apply(null,i.keys(r))]:s.color.interpolate(r[a][0],r[a][a-1],e)}return t},s.color.interpolate=function(t,e,n){var r=a(t,e);return i.range(n).map(function(t){return r(1*t/(n-1))})}},{"../globals":35,"../util":38,"./time":30,colorbrewer:5,"d3-color":6}],25:[function(t,e){"use strict";function n(t,e,n){var r={},o=0;return e.forEach(function(a,s){var u=e.sort(s,n);if(u.length>0){var l=u.map(function(t){return{op:t.aggregate,field:i.fieldRef(t,{nofn:!0,data:!e._vega2})}}),c=u.map(function(t){var n=t.reverse?"-":"";return n+i.fieldRef(t,{data:!e._vega2})}),f="sorted"+o++,h=[{type:"aggregate",groupby:[e.fieldRef(s)],fields:l},{type:"sort",by:c}];t.push({name:f,source:RAW,transform:h}),r[s]=f}}),{getDataset:function(t){var e=r[t];return e?e:TABLE}}}t("../globals");var i=t("../field");e.exports=n},{"../field":34,"../globals":35}],26:[function(t,e){"use strict";function n(t,e,n,r){if(!i[e.marktype()].stack)return!1;if(!e.has(COLOR))return!1;var o=null,a=null,s=null,u=e.isMeasure(X),l=e.isMeasure(Y);if(u&&!l)o=Y,a=X,s=0;else{if(!l||u)return null;o=X,a=Y,s=1}var c={name:STACKED,source:TABLE,transform:[{type:"aggregate",groupby:[e.field(o)].concat(r),fields:[{op:"sum",field:e.field(a)}]}]};return r&&r.length>0&&c.transform.push({type:"aggregate",groupby:r,fields:[{op:"max",field:e.fieldName(a,{fn:"sum"})}]}),t.push(c),n.from.transform=[{type:"stack",point:e.field(o),height:e.field(a),output:{y1:a,y0:a+"2"}}],n.properties.update[a]=n.properties.enter[a]={scale:a,field:a},n.properties.update[a+"2"]=n.properties.enter[a+"2"]={scale:a,field:a+"2"},a}t("../globals");var i=t("./marks");e.exports=n},{"../globals":35,"./marks":23}],27:[function(t,e){"use strict";function n(t,e){if(!e)return 1;var n=0;if(t.isAggregate())n=1,t.forEach(function(r,o){o===ROW||o===COL||(o===X||o===Y)&&i.isOrdinalScale(r)||(n*=t.cardinality(o,e))});else{n=e.count;var r=1;t.has(ROW)&&(r*=t.cardinality(ROW,e)),t.has(COL)&&(r*=t.cardinality(COL,e)),n/=r}var o=0;return o=20>n?1:200>n?.7:1e3>n||t.is("tick")?.6:.3}t("../globals");var i=t("../field");e.exports=function(t,e){return{opacity:n(t,e)}}},{"../field":34,"../globals":35}],28:[function(t,e){"use strict";function n(t,e,n,r,o){var a=t.marks,s=i("subfacet",{marks:a});t.marks=[s],s.from=e.from,delete e.from;var u=s.from.transform||(s.from.transform=[]);u.unshift({type:"facet",keys:n}),r&&o.has(COLOR)&&u.unshift({type:"sort",by:o.field(COLOR)})}t("../globals");var i=t("./group").def;e.exports=n},{"../globals":35,"./group":20}],29:[function(t,e){"use strict";function n(t,e){var n={name:RAW,format:{}},o={name:TABLE,source:RAW},a=t.data("url"),s=t.data("formatType"),u=t.data("values");return t.hasValues()?n.values=u:(n.url=a,n.format.type=s),t.forEach(function(t){var e;t.type==T?(n.format.parse=n.format.parse||{},n.format.parse[t.name]="date"):t.type==Q&&(n.format.parse=n.format.parse||{},e=r.isCount(t)?"count":t.name,n.format.parse[e]="number")}),{width:e.width,height:e.height,padding:"auto",data:[n,o],marks:[i("cell",{width:e.cellWidth?{value:e.cellWidth}:void 0,height:e.cellHeight?{value:e.cellHeight}:void 0})]}}t("../globals");var i=t("./group").def,r=t("../field");e.exports=n},{"../field":34,"../globals":35,"./group":20}],30:[function(t,e){"use strict";function n(t,e){var i={},r={};e.forEach(function(t,n){t.type===T&&t.timeUnit&&(i[e.field(n)]={field:t,encType:n},r[t.timeUnit]=!0)});var o=t.data[1],a=o.transform=o.transform||[];for(var s in i){var u=i[s];n.transform(a,e,u.encType,u.field)}var l=t.scales=t.scales||[];for(var c in r)n.scale(l,c,e);return t}function i(t,e){return"utc"+t+"(d.data."+e.name+")"}var r=t("../util");e.exports=n,n.cardinality=function(t,e,n,i){var r=t.timeUnit;switch(r){case"seconds":return 60;case"minutes":return 60;case"hours":return 24;case"day":return 7;case"date":return 31;case"month":return 12;case"year":var o=e[t.name],a=e["year_"+t.name];return a?a.distinct-(o.nulls>0&&n[i]?1:0):null}return null},n.formula=function(t){return i(t.timeUnit,t)},n.transform=function(t,e,i,r){t.push({type:"formula",field:e.field(i),expr:n.formula(r)})},n.scale=function(t,e,n){var i=n.config("timeScaleLabelLength");switch(e){case"day":t.push({name:"time-"+e,type:"ordinal",domain:r.range(0,7),range:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(function(t){return t.substr(0,i)})});break;case"month":t.push({name:"time-"+e,type:"ordinal",domain:r.range(0,12),range:["January","February","March","April","May","June","July","August","September","October","November","December"].map(function(t){return t.substr(0,i)})})}},n.isOrdinalFn=function(t){switch(t){case"seconds":case"minutes":case"hours":case"day":case"date":case"month":return!0}return!1},n.scale.type=function(t,e){return e===COLOR?"linear":n.isOrdinalFn(t)||e===COL||e===ROW?"ordinal":"linear"},n.scale.domain=function(t,e){var n=e===COLOR;switch(t){case"seconds":case"minutes":return n?[0,59]:r.range(0,60);case"hours":return n?[0,23]:r.range(0,24);case"day":return n?[0,6]:r.range(0,7);case"date":return n?[1,31]:r.range(1,32);case"month":return n?[0,11]:r.range(0,12)}return null},n.hasScale=function(t){switch(t){case"day":case"month":return!0}return!1}},{"../util":38}],31:[function(t,e){"use strict";t("./globals");var n=e.exports={};n.encodingTypes=[X,Y,ROW,COL,SIZE,SHAPE,COLOR,ALPHA,TEXT,DETAIL],n.shorthand={delim:"|",assign:"=",type:",",func:"_"}},{"./globals":35}],32:[function(t,e){"use strict";t("./globals");var n=t("datalib/src/stats"),i=e.exports={};i.types={"boolean":N,number:Q,integer:Q,date:T,string:N},i.stats=function(t){var e=n.summary(t);return e.reduce(function(t,e){return t[e.field]=e,t},{count:t.length})}},{"./globals":35,"datalib/src/stats":10}],33:[function(t,e){"use strict";var n=t("./consts"),i=n.shorthand,r=t("./field"),o=t("./util"),a=t("./schema/schema"),s=a.encTypes,u=e.exports={};u.countRetinal=function(t){var e=0;return t.color&&e++,t.alpha&&e++,t.size&&e++,t.shape&&e++,e},u.has=function(t,e){var n=t&&t[e];return n&&n.name},u.isAggregate=function(t){for(var e in t)if(u.has(t,e)&&t[e].aggregate)return!0;return!1},u.forEach=function(t,e){var n=0;s.forEach(function(i){u.has(t,i)&&e(t[i],i,n++)})},u.map=function(t,e){var n=[];return s.forEach(function(i){u.has(t,i)&&n.push(e(t[i],i,t))}),n},u.reduce=function(t,e,n){var i=n;return s.forEach(function(n){u.has(t,n)&&(i=e(i,t[n],n,t))}),i},u.fields=function(t){return u.reduce(t,function(t,e){var n=t[e.name]=t[e.name]||[],i=n.containsType=n.containsType||{};return-1===n.indexOf(e)&&(n.push(e),i[e.type]=!0),t},{})},u.shorthand=function(t){return u.map(t,function(t,e){return e+i.assign+r.shorthand(t)}).join(i.delim)},u.fromShorthand=function(t){var e=o.isArray(t)?t:t.split(i.delim);return e.reduce(function(t,e){var n=e.split(i.assign),o=n[0].trim(),a=n[1];return t[o]=r.fromShorthand(a),t},{})}},{"./consts":31,"./field":34,"./schema/schema":36,"./util":38}],34:[function(t,e){"use strict";function n(t){return f(t,[N,O])||!!t.bin||c(t,T)&&!!t.timeUnit}t("./globals");var i=t("./consts"),r=i.shorthand,o=t("./compiler/time"),a=t("./util"),s=t("./schema/schema"),u=e.exports={};u.fieldRef=function(t,e){e=e||{};var n=(e.data?"data.":"")+(e.prefn||""),i=e.nofn||e.fn,r=t.name;return u.isCount(t)?n+"count":!i&&t.bin?n+"bin_"+r:!i&&t.aggregate?n+t.aggregate+"_"+r:!i&&t.timeUnit?n+t.timeUnit+"_"+r:e.fn?n+e.fn+"_"+r:n+r},u.shorthand=function(t){var e=i.shorthand;return(t.aggregate?t.aggregate+e.func:"")+(t.timeUnit?t.timeUnit+e.func:"")+(t.bin?"bin"+e.func:"")+(t.name||"")+e.type+t.type},u.shorthands=function(t,e){return e=e||r.delim,t.map(u.shorthand).join(e)},u.fromShorthand=function(t){var e,n=t.split(r.type),i={name:n[0].trim(),type:n[1].trim()};for(e in s.aggregate.enum){var o=s.aggregate.enum[e];if(0===i.name.indexOf(o+"_")){i.name=i.name.substr(o.length+1),"count"==o&&0===i.name.length&&(i.name="*"),i.aggregate=o;break}}for(e in s.timefns){var a=s.timefns[e];if(i.name&&0===i.name.indexOf(a+"_")){i.name=i.name.substr(i.length+1),i.timeUnit=a;break}}return i.name&&0===i.name.indexOf("bin_")&&(i.name=i.name.substr(4),i.bin=!0),i};var l={N:0,O:1,G:2,T:3,Q:4};u.order={},u.order.type=function(t){return"count"===t.aggregate?4:l[t.type]},u.order.typeThenName=function(t){return u.order.type(t)+"_"+("count"===t.aggregate?"~":t.name.toLowerCase())},u.order.original=function(){return 0},u.order.name=function(t){return t.name},u.order.typeThenCardinality=function(t,e){return e[t.name].distinct};var c=u.isType=function(t,e){return t.type===e},f=u.isTypes=function(t,e){for(var n=0;n<e.length;n++)if(t.type===e[n])return!0;return!1};u.isOrdinalScale=function(t){return f(t,[N,O])||t.bin||c(t,T)&&t.timeUnit&&o.isOrdinalFn(t.timeUnit)},u.isDimension=function(t){return t&&n(t)},u.isMeasure=function(t){return t&&!n(t)},u.role=function(t){return n(t)?"dimension":"measure"},u.count=function(){return{name:"*",aggregate:"count",type:Q,displayName:u.count.displayName}},u.count.displayName="Number of Records",u.isCount=function(t){return"count"===t.aggregate},u.cardinality=function(t,e,n){var i=e[t.name],r=t.type;if(n=n||{},t.bin){var u=a.getbins(i,t.bin.maxbins||s.MAXBINS_DEFAULT);return(u.stop-u.start)/u.step}if(c(t,T)){var l=o.cardinality(t,e,n,r);if(null!==l)return l}return t.aggregate?1:i.distinct-(i.nulls>0&&n[r]?1:0)}},{"./compiler/time":30,"./consts":31,"./globals":35,"./schema/schema":36,"./util":38}],35:[function(){(function(t){"use strict";var e=t||window;e.TABLE="table",e.RAW="raw",e.STACKED="stacked",e.INDEX="index",e.X="x",e.Y="y",e.ROW="row",e.COL="col",e.SIZE="size",e.SHAPE="shape",e.COLOR="color",e.ALPHA="alpha",e.TEXT="text",e.DETAIL="detail",e.N="N",e.O="O",e.Q="Q",e.T="T"}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],36:[function(t,e){"use strict";t("../globals");var n=e.exports={},i=t("../util"),r=i.toMap,o=t("colorbrewer");n.util=t("./schemautil"),n.marktype={type:"string","enum":["point","tick","bar","line","area","circle","square","text"]},n.aggregate={type:"string","enum":["avg","sum","median","min","max","count"],supportedEnums:{Q:["avg","median","sum","min","max","count"],O:["median","min","max"],N:[],T:["avg","median","min","max"],"":["count"]},supportedTypes:r([Q,N,O,T,""])},n.band={type:"object",properties:{size:{type:"integer",minimum:0},padding:{type:"integer",minimum:0,"default":1}}},n.getSupportedRole=function(t){return n.schema.properties.encoding.properties[t].supportedRole},n.timeUnits=["year","month","day","date","hours","minutes","seconds"],n.defaultTimeFn="month",n.timeUnit={type:"string","enum":n.timeUnits,supportedTypes:r([T])},n.scale_type={type:"string","enum":["linear","log","pow","sqrt","quantile"],"default":"linear",supportedTypes:r([Q])},n.field={type:"object",properties:{name:{type:"string"}}};var a=i.duplicate,s=n.util.merge;n.MAXBINS_DEFAULT=15;var u={type:["boolean","object"],"default":!1,properties:{maxbins:{type:"integer","default":n.MAXBINS_DEFAULT,minimum:2}},supportedTypes:r([Q])},l=s(a(n.field),{type:"object",properties:{type:{type:"string","enum":[N,O,Q,T]},aggregate:n.aggregate,timeUnit:n.timeUnit,bin:u,scale:{type:"object",properties:{type:n.scale_type,reverse:{type:"boolean","default":!1,supportedTypes:r([Q,T])},zero:{type:"boolean",description:"Include zero","default":!0,supportedTypes:r([Q,T])},nice:{type:"string","enum":["second","minute","hour","day","week","month","year"],supportedTypes:r([T])}}}}}),c=s(a(n.field),{type:"object",supportedRole:{dimension:!0},properties:{type:{type:"string","enum":[N,O,Q,T]},timeUnit:n.timeUnit,bin:u,aggregate:{type:"string","enum":["count"],supportedTypes:r([N,O])}}}),f={type:"object",supportedMarktypes:{point:!0,tick:!0,bar:!0,line:!0,area:!0,circle:!0,square:!0},properties:{axis:{type:"object",properties:{grid:{type:"boolean","default":!0,description:"A flag indicate if gridlines should be created in addition to ticks."},title:{type:"boolean","default":!0,description:"A title for the axis."},titleOffset:{type:"integer","default":void 0,description:"A title offset value for the axis."},format:{type:"string","default":void 0,description:"The formatting pattern for axis labels."},maxLabelLength:{type:"integer","default":25,minimum:0,description:"Truncate labels that are too long."}}}}},h={type:"object",properties:{sort:{type:"array","default":[],items:{type:"object",supportedTypes:r([N,O]),required:["name","aggregate"],name:{type:"string"},aggregate:{type:"string","enum":["avg","sum","min","max","count"]},reverse:{type:"boolean","default":!1}}}}},d={type:"object",properties:{band:n.band}},p={type:"object",properties:{legend:{type:"boolean","default":!0}}},g={type:"object",supportedMarktypes:{text:!0},properties:{text:{type:"object",properties:{align:{type:"string","default":"left"},baseline:{type:"string","default":"middle"},margin:{type:"integer","default":4,minimum:0}}},font:{type:"object",properties:{weight:{type:"string","enum":["normal","bold"],"default":"normal"},size:{type:"integer","default":10,minimum:0},family:{type:"string","default":"Helvetica Neue"},style:{type:"string","default":"normal","enum":["normal","italic"]}}}}},m={type:"object",supportedMarktypes:{point:!0,bar:!0,circle:!0,square:!0,text:!0},properties:{value:{type:"integer","default":30,minimum:0}}},v={type:"object",supportedMarktypes:{point:!0,tick:!0,bar:!0,line:!0,area:!0,circle:!0,square:!0,text:!0},properties:{value:{type:"string",role:"color","default":"steelblue"},scale:{type:"object",properties:{range:{type:["string","array"]}}}}},y={type:"object",supportedMarktypes:{point:!0,tick:!0,bar:!0,line:!0,area:!0,circle:!0,square:!0,text:!0},properties:{value:{type:"number","default":void 0,minimum:0,maximum:1}}},b={type:"object",supportedMarktypes:{point:!0,circle:!0,square:!0},properties:{value:{type:"string","enum":["circle","square","cross","diamond","triangle-up","triangle-down"],"default":"circle"}}},w={type:"object",supportedMarktypes:{point:!0,tick:!0,line:!0,circle:!0,square:!0}},_={properties:{height:{type:"number",minimum:0,"default":150},grid:{type:"boolean","default":!0,description:"A flag indicate if gridlines should be created in addition to ticks."}}},x={properties:{width:{type:"number",minimum:0,"default":150},axis:{properties:{maxLabelLength:{type:"integer","default":12,minimum:0,description:"Truncate labels that are too long."}}}}},$={type:"object",supportedMarktypes:{point:!0,tick:!0,bar:!0,line:!0,area:!0,circle:!0,square:!0,text:!0},properties:{padding:{type:"number",minimum:0,maximum:1,"default":.1}}},C={required:["name","type"]},E=s(a(l),{supportedRole:{measure:!0,dimension:!0}}),k=s(a(l),{supportedRole:{measure:!0,dimension:"ordinal-only"}}),S=s(a(l),{supportedRole:{measure:!0}}),M=s(a(E),f,d,C,h),A=a(M),D=s(a(c),C,$,h),I=s(a(D),f,_),P=s(a(D),f,x),R=s(a(k),p,m,h),L=s(a(E),p,v,h),j=s(a(k),y,h),F=s(a(c),p,b,h),H=s(a(c),w,h),z=s(a(S),g,h),q={type:"array",items:{type:"object",properties:{operands:{type:"array",items:{type:["string","boolean","integer","number"]}},operator:{type:"string","enum":[">",">=","=","!=","<","<=","notNull"]}}}},U={type:"object",properties:{formatType:{type:"string","enum":["json","csv"],"default":"json"},url:{type:"string","default":void 0},values:{type:"array","default":void 0,description:"Pass array of objects instead of a url to a file.",items:{type:"object",additionalProperties:!0}}}},W={type:"object",properties:{width:{type:"integer","default":void 0},height:{type:"integer","default":void 0},viewport:{type:"array",items:{type:"integer"},"default":void 0},gridColor:{type:"string",role:"color","default":"black"},gridOpacity:{type:"number",minimum:0,maximum:1,"default":.08},filterNull:{type:"object",properties:{O:{type:"boolean","default":!1},Q:{type:"boolean","default":!0},T:{type:"boolean","default":!0}}},toggleSort:{type:"string","default":O},singleHeight:{type:"integer","default":200,minimum:0},singleWidth:{type:"integer","default":200,minimum:0},largeBandSize:{type:"integer","default":21,minimum:0},smallBandSize:{type:"integer","default":12,minimum:0},largeBandMaxCardinality:{type:"integer","default":10},cellPadding:{type:"number","default":.1},cellGridColor:{type:"string",role:"color","default":"black"},cellGridOpacity:{type:"number",minimum:0,maximum:1,"default":.15},cellBackgroundColor:{type:"string",role:"color","default":"transparent"},textCellWidth:{type:"integer","default":90,minimum:0},strokeWidth:{type:"integer","default":2,minimum:0},singleBarOffset:{type:"integer","default":5,minimum:0},c10palette:{type:"string","default":"category10","enum":["category10","category10k","Pastel1","Pastel2","Set1","Set2","Set3"]},c20palette:{type:"string","default":"category20","enum":["category20","category20b","category20c"]},ordinalPalette:{type:"string","default":"BuGn","enum":i.keys(o)},timeScaleLabelLength:{type:"integer","default":3,minimum:0},characterWidth:{type:"integer","default":6}}};n.schema={$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for Vega-lite specification",type:"object",required:["marktype","encoding","data"],properties:{data:U,marktype:n.marktype,encoding:{type:"object",properties:{x:M,y:A,row:I,col:P,size:R,color:L,alpha:j,shape:F,text:z,detail:H}},filter:q,config:W}},n.encTypes=i.keys(n.schema.properties.encoding.properties),n.instantiate=function(){return n.util.instantiate(n.schema)}},{"../globals":35,"../util":38,"./schemautil":37,colorbrewer:5}],37:[function(t,e){"use strict";function n(t,e){if("object"!=typeof e||null===e)return t;for(var i in e)e.hasOwnProperty(i)&&void 0!==e[i]&&("object"!=typeof e[i]||null===e[i]?t[i]=e[i]:"object"!=typeof t[i]||null===t[i]?t[i]=n(e[i].constructor===Array?[]:{},e[i]):n(t[i],e[i]));return t}var i=e.exports={},r=t("../util"),o=function(t){return 0===Object.keys(t).length};i.extend=function(t,e){return i.merge(i.instantiate(e),t)},i.instantiate=function(t){var e;if(void 0===t)return void 0;if("default"in t)return e=t.default,r.isObject(e)?r.duplicate(e):e;if("object"===t.type){var n={};for(var o in t.properties)e=i.instantiate(t.properties[o]),void 0!==e&&(n[o]=e);return n}return"array"===t.type?[]:void 0},i.subtract=function(t,e){var n={};for(var a in t){var s=e[a],u=t[a];if(!e||s!==u)if("object"==typeof u&&!r.isArray(u)&&s){var l=i.subtract(u,s);o(l)||(n[a]=l)}else(!r.isArray(u)||u.length>0)&&(n[a]=u)}return n},i.merge=function(){for(var t=arguments[0],e=1;e<arguments.length;e++)t=n(t,arguments[e]);return t}},{"../util":38}],38:[function(t,e){"use strict";var n=e.exports=t("datalib/src/util");n.extend(n,t("datalib/src/generate")),n.extend(n,t("datalib/src/stats")),n.bin=t("datalib/src/bins/bins"),n.isin=function(t,e){return-1!==e.indexOf(t)},n.forEach=function(t,e,n){if(t.forEach)t.forEach.call(n,e);else for(var i in t)e.call(n,t[i],i,t)},n.reduce=function(t,e,n,i){if(t.reduce)return t.reduce.call(i,e,n);for(var r in t)n=e.call(i,n,t[r],r,t);return n},n.map=function(t,e,n){if(t.map)return t.map.call(n,e);var i=[];for(var r in t)i.push(e.call(n,t[r],r,t))},n.any=function(t,e){var n,i=0;for(n in t)if(e(t[n],n,i++))return!0;return!1},n.all=function(t,e){var n,i=0;for(n in t)if(!e(t[n],n,i++))return!1;return!0},n.getbins=function(t,e){return n.bin({min:t.min,max:t.max,maxbins:e})},n.setter=function(t,e,n,i){for(var r=0;r<e.length-1;++r)t=i||e[r]in t?t[e[r]]:t[e[r]]={};t[e[r]]=n},n.getter=function(t,e,n){for(var i=0;i<e.length;++i)t=n||e[i]in t?t[e[i]]:t[e[i]]={};return t},n.error=function(t){console.error("[VL Error]",t)}},{"datalib/src/bins/bins":7,"datalib/src/generate":8,"datalib/src/stats":10,"datalib/src/util":12}]},{},[1])(1)}),/*!
 * ui-select
 * http://github.com/angular-ui/ui-select
 * Version: 0.11.2 - 2015-03-17T04:08:46.474Z
 * License: MIT
 */
function(){"use strict";var t={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(e){var n=e.which;switch(n){case t.COMMAND:case t.SHIFT:case t.CTRL:case t.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&123>=t},isVerticalMovement:function(e){return~[t.UP,t.DOWN].indexOf(e)},isHorizontalMovement:function(e){return~[t.LEFT,t.RIGHT,t.BACKSPACE,t.DELETE].indexOf(e)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(t){return angular.element(this[0].querySelectorAll(t))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(t){for(var e=this[0],n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e;){if(n.bind(e)(t))return e;e=e.parentElement}return!1});var e=0,n=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,generateId:function(){return e++},appendToBody:!1}).service("uiSelectMinErr",function(){var t=angular.$$minErr("ui.select");return function(){var e=t.apply(this,arguments),n=e.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(n)}}).directive("uisTranscludeAppend",function(){return{link:function(t,e,n,i,r){r(t,function(t){e.append(t)})}}}).filter("highlight",function(){function t(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(e,n){return n&&e?e.replace(new RegExp(t(n),"gi"),'<span class="ui-select-highlight">$&</span>'):e}}).factory("uisOffset",["$document","$window",function(t,e){return function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(e.pageYOffset||t[0].documentElement.scrollTop),left:i.left+(e.pageXOffset||t[0].documentElement.scrollLeft)}}}]);n.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile",function(t,e,n,i){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(e){var n=e.parent().attr("theme")||t.theme;return n+"/choices.tpl.html"},compile:function(r,o){if(!o.repeat)throw n("repeat","Expected 'repeat' expression.");return function(r,o,a,s,u){var l=a.groupBy;if(s.parseRepeatAttr(a.repeat,l),s.disableChoiceExpression=a.uiDisableChoice,s.onHighlightCallback=a.onHighlight,l){var c=o.querySelectorAll(".ui-select-choices-group");if(1!==c.length)throw n("rows","Expected 1 .ui-select-choices-group but got '{0}'.",c.length);c.attr("ng-repeat",e.getGroupNgRepeatExpression())}var f=o.querySelectorAll(".ui-select-choices-row");if(1!==f.length)throw n("rows","Expected 1 .ui-select-choices-row but got '{0}'.",f.length);f.attr("ng-repeat",e.getNgRepeatExpression(s.parserResult.itemName,"$select.items",s.parserResult.trackByExp,l)).attr("ng-if","$select.open").attr("ng-mouseenter","$select.setActiveItem("+s.parserResult.itemName+")").attr("ng-click","$select.select("+s.parserResult.itemName+",false,$event)");var h=o.querySelectorAll(".ui-select-choices-row-inner");if(1!==h.length)throw n("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",h.length);h.attr("uis-transclude-append",""),i(o,u)(r),r.$watch("$select.search",function(t){t&&!s.open&&s.multiple&&s.activate(!1,!0),s.activeIndex=s.tagging.isActivated?-1:0,s.refresh(a.refresh)}),a.$observe("refreshDelay",function(){var e=r.$eval(a.refreshDelay);s.refreshDelay=void 0!==e?e:t.refreshDelay})}}}}]),n.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig",function(e,n,i,r,o,a,s){function u(){(f.resetSearchInput||void 0===f.resetSearchInput&&s.resetSearchInput)&&(f.search=h,f.selected&&f.items.length&&!f.multiple&&(f.activeIndex=f.items.indexOf(f.selected)))}function l(e){var n=!0;switch(e){case t.DOWN:!f.open&&f.multiple?f.activate(!1,!0):f.activeIndex<f.items.length-1&&f.activeIndex++;break;case t.UP:!f.open&&f.multiple?f.activate(!1,!0):(f.activeIndex>0||0===f.search.length&&f.tagging.isActivated&&f.activeIndex>-1)&&f.activeIndex--;break;case t.TAB:(!f.multiple||f.open)&&f.select(f.items[f.activeIndex],!0);break;case t.ENTER:f.open&&f.activeIndex>=0?f.select(f.items[f.activeIndex]):f.activate(!1,!0);break;case t.ESC:f.close();break;default:n=!1}return n}function c(){var t=n.querySelectorAll(".ui-select-choices-content"),e=t.querySelectorAll(".ui-select-choices-row");if(e.length<1)throw a("choices","Expected multiple .ui-select-choices-row but got '{0}'.",e.length);if(!(f.activeIndex<0)){var i=e[f.activeIndex],r=i.offsetTop+i.clientHeight-t[0].scrollTop,o=t[0].offsetHeight;r>o?t[0].scrollTop+=r-o:r<i.clientHeight&&(f.isGrouped&&0===f.activeIndex?t[0].scrollTop=0:t[0].scrollTop-=i.clientHeight-r)}}var f=this,h="";if(f.placeholder=s.placeholder,f.searchEnabled=s.searchEnabled,f.sortable=s.sortable,f.refreshDelay=s.refreshDelay,f.removeSelected=!1,f.closeOnSelect=!0,f.search=h,f.activeIndex=0,f.items=[],f.open=!1,f.focus=!1,f.disabled=!1,f.selected=void 0,f.focusser=void 0,f.resetSearchInput=!0,f.multiple=void 0,f.disableChoiceExpression=void 0,f.tagging={isActivated:!1,fct:void 0},f.taggingTokens={isActivated:!1,tokens:void 0},f.lockChoiceExpression=void 0,f.clickTriggeredSelect=!1,f.$filter=r,f.searchInput=n.querySelectorAll("input.ui-select-search"),1!==f.searchInput.length)throw a("searchInput","Expected 1 input.ui-select-search but got '{0}'.",f.searchInput.length);f.isEmpty=function(){return angular.isUndefined(f.selected)||null===f.selected||""===f.selected},f.activate=function(t,n){f.disabled||f.open||(n||u(),e.$broadcast("uis:activate"),f.open=!0,f.activeIndex=f.activeIndex>=f.items.length?0:f.activeIndex,-1===f.activeIndex&&f.taggingLabel!==!1&&(f.activeIndex=0),i(function(){f.search=t||f.search,f.searchInput[0].focus()}))},f.findGroupByName=function(t){return f.groups&&f.groups.filter(function(e){return e.name===t})[0]},f.parseRepeatAttr=function(t,n){function i(t){f.groups=[],angular.forEach(t,function(t){var i=e.$eval(n),r=angular.isFunction(i)?i(t):t[i],o=f.findGroupByName(r);o?o.items.push(t):f.groups.push({name:r,items:[t]})}),f.items=[],f.groups.forEach(function(t){f.items=f.items.concat(t.items)})}function r(t){f.items=t}f.setItemsFn=n?i:r,f.parserResult=o.parse(t),f.isGrouped=!!n,f.itemProperty=f.parserResult.itemName,f.refreshItems=function(t){t=t||f.parserResult.source(e);var n=f.selected;if(angular.isArray(n)&&!n.length||!f.removeSelected)f.setItemsFn(t);else if(void 0!==t){var i=t.filter(function(t){return n.indexOf(t)<0});f.setItemsFn(i)}},e.$watchCollection(f.parserResult.source,function(t){if(void 0===t||null===t)f.items=[];else{if(!angular.isArray(t))throw a("items","Expected an array but got '{0}'.",t);f.refreshItems(t),f.ngModel.$modelValue=null}})};var d;f.refresh=function(t){void 0!==t&&(d&&i.cancel(d),d=i(function(){e.$eval(t)},f.refreshDelay))},f.setActiveItem=function(t){f.activeIndex=f.items.indexOf(t)},f.isActive=function(t){if(!f.open)return!1;var e=f.items.indexOf(t[f.itemProperty]),n=e===f.activeIndex;return!n||0>e&&f.taggingLabel!==!1||0>e&&f.taggingLabel===!1?!1:(n&&!angular.isUndefined(f.onHighlightCallback)&&t.$eval(f.onHighlightCallback),n)},f.isDisabled=function(t){if(f.open){var e,n=f.items.indexOf(t[f.itemProperty]),i=!1;return n>=0&&!angular.isUndefined(f.disableChoiceExpression)&&(e=f.items[n],i=!!t.$eval(f.disableChoiceExpression),e._uiSelectChoiceDisabled=i),i}},f.select=function(t,n,r){if(void 0===t||!t._uiSelectChoiceDisabled){if(!f.items&&!f.search)return;if(!t||!t._uiSelectChoiceDisabled){if(f.tagging.isActivated){if(f.taggingLabel===!1)if(f.activeIndex<0){if(t=void 0!==f.tagging.fct?f.tagging.fct(f.search):f.search,!t||angular.equals(f.items[0],t))return}else t=f.items[f.activeIndex];else if(0===f.activeIndex){if(void 0===t)return;if(void 0!==f.tagging.fct&&"string"==typeof t){if(t=f.tagging.fct(f.search),!t)return}else"string"==typeof t&&(t=t.replace(f.taggingLabel,"").trim())}if(f.selected&&angular.isArray(f.selected)&&f.selected.filter(function(e){return angular.equals(e,t)}).length>0)return void f.close(n)}e.$broadcast("uis:select",t);var o={};o[f.parserResult.itemName]=t,i(function(){f.onSelectCallback(e,{$item:t,$model:f.parserResult.modelMapper(e,o)})}),f.closeOnSelect&&f.close(n),r&&"click"===r.type&&(f.clickTriggeredSelect=!0)}}},f.close=function(t){f.open&&(f.ngModel&&f.ngModel.$setTouched&&f.ngModel.$setTouched(),u(),f.open=!1,e.$broadcast("uis:close",t))},f.setFocus=function(){f.focus||f.focusInput[0].focus()},f.clear=function(t){f.select(void 0),t.stopPropagation(),f.focusser[0].focus()},f.toggle=function(t){f.open?(f.close(),t.preventDefault(),t.stopPropagation()):f.activate()},f.isLocked=function(t,e){var n,i=f.selected[e];return i&&!angular.isUndefined(f.lockChoiceExpression)&&(n=!!t.$eval(f.lockChoiceExpression),i._uiSelectChoiceLocked=n),n};var p=null;f.sizeSearchInput=function(){var t=f.searchInput[0],n=f.searchInput.parent().parent()[0],r=function(){return n.clientWidth*!!t.offsetParent},o=function(e){if(0===e)return!1;var n=e-t.offsetLeft-10;return 50>n&&(n=e),f.searchInput.css("width",n+"px"),!0};f.searchInput.css("width","10px"),i(function(){null!==p||o(r())||(p=e.$watch(r,function(t){o(t)&&(p(),p=null)}))})},f.searchInput.on("keydown",function(n){var r=n.which;e.$apply(function(){var e=!1;if((f.items.length>0||f.tagging.isActivated)&&(l(r),f.taggingTokens.isActivated)){for(var o=0;o<f.taggingTokens.tokens.length;o++)f.taggingTokens.tokens[o]===t.MAP[n.keyCode]&&f.search.length>0&&(e=!0);e&&i(function(){f.searchInput.triggerHandler("tagged");var e=f.search.replace(t.MAP[n.keyCode],"").trim();f.tagging.fct&&(e=f.tagging.fct(e)),e&&f.select(e,!0)})}}),t.isVerticalMovement(r)&&f.items.length>0&&c()}),f.searchInput.on("paste",function(t){var e=t.originalEvent.clipboardData.getData("text/plain");if(e&&e.length>0&&f.taggingTokens.isActivated&&f.tagging.fct){var n=e.split(f.taggingTokens.tokens[0]);n&&n.length>0&&(angular.forEach(n,function(t){var e=f.tagging.fct(t);e&&f.select(e,!0)}),t.preventDefault(),t.stopPropagation())}}),f.searchInput.on("tagged",function(){i(function(){u()})}),e.$on("$destroy",function(){f.searchInput.off("keyup keydown tagged blur paste")})}]),n.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(t,e,n,i,r,o,a){return{restrict:"EA",templateUrl:function(t,n){var i=n.theme||e.theme;return i+(angular.isDefined(n.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(r,s){return angular.isDefined(s.multiple)?r.append("<ui-select-multiple/>").removeAttr("multiple"):r.append("<ui-select-single/>"),function(r,s,u,l,c){function f(t){if(p.open){var e=!1;if(e=window.jQuery?window.jQuery.contains(s[0],t.target):s[0].contains(t.target),!e&&!p.clickTriggeredSelect){var n=["input","button","textarea"],i=angular.element(t.target).scope(),o=i&&i.$select&&i.$select!==p;o||(o=~n.indexOf(t.target.tagName.toLowerCase())),p.close(o),r.$digest()}p.clickTriggeredSelect=!1}}function h(){var e=i(s);v=angular.element('<div class="ui-select-placeholder"></div>'),v[0].style.width=e.width+"px",v[0].style.height=e.height+"px",s.after(v),y=s[0].style.width,t.find("body").append(s),s[0].style.position="absolute",s[0].style.left=e.left+"px",s[0].style.top=e.top+"px",s[0].style.width=e.width+"px"}function d(){null!==v&&(v.replaceWith(s),v=null,s[0].style.position="",s[0].style.left="",s[0].style.top="",s[0].style.width=y)}var p=l[0],g=l[1];p.generatedId=e.generateId(),p.baseTitle=u.title||"Select box",p.focusserTitle=p.baseTitle+" focus",p.focusserId="focusser-"+p.generatedId,p.closeOnSelect=function(){return angular.isDefined(u.closeOnSelect)?o(u.closeOnSelect)():e.closeOnSelect}(),p.onSelectCallback=o(u.onSelect),p.onRemoveCallback=o(u.onRemove),p.ngModel=g,p.choiceGrouped=function(t){return p.isGrouped&&t&&t.name},u.tabindex&&u.$observe("tabindex",function(t){p.focusInput.attr("tabindex",t),s.removeAttr("tabindex")}),r.$watch("searchEnabled",function(){var t=r.$eval(u.searchEnabled);p.searchEnabled=void 0!==t?t:e.searchEnabled}),r.$watch("sortable",function(){var t=r.$eval(u.sortable);p.sortable=void 0!==t?t:e.sortable}),u.$observe("disabled",function(){p.disabled=void 0!==u.disabled?u.disabled:!1}),u.$observe("resetSearchInput",function(){var t=r.$eval(u.resetSearchInput);p.resetSearchInput=void 0!==t?t:!0}),u.$observe("tagging",function(){if(void 0!==u.tagging){var t=r.$eval(u.tagging);p.tagging={isActivated:!0,fct:t!==!0?t:void 0}}else p.tagging={isActivated:!1,fct:void 0}}),u.$observe("taggingLabel",function(){void 0!==u.tagging&&(p.taggingLabel="false"===u.taggingLabel?!1:void 0!==u.taggingLabel?u.taggingLabel:"(new)")}),u.$observe("taggingTokens",function(){if(void 0!==u.tagging){var t=void 0!==u.taggingTokens?u.taggingTokens.split("|"):[",","ENTER"];p.taggingTokens={isActivated:!0,tokens:t}}}),angular.isDefined(u.autofocus)&&a(function(){p.setFocus()}),angular.isDefined(u.focusOn)&&r.$on(u.focusOn,function(){a(function(){p.setFocus()})}),t.on("click",f),r.$on("$destroy",function(){t.off("click",f)}),c(r,function(t){var e=angular.element("<div>").append(t),i=e.querySelectorAll(".ui-select-match");if(i.removeAttr("ui-select-match"),i.removeAttr("data-ui-select-match"),1!==i.length)throw n("transcluded","Expected 1 .ui-select-match but got '{0}'.",i.length);s.querySelectorAll(".ui-select-match").replaceWith(i);var r=e.querySelectorAll(".ui-select-choices");if(r.removeAttr("ui-select-choices"),r.removeAttr("data-ui-select-choices"),1!==r.length)throw n("transcluded","Expected 1 .ui-select-choices but got '{0}'.",r.length);s.querySelectorAll(".ui-select-choices").replaceWith(r)});var m=r.$eval(u.appendToBody);(void 0!==m?m:e.appendToBody)&&(r.$watch("$select.open",function(t){t?h():d()}),r.$on("$destroy",function(){d()}));var v=null,y=""}}}}]),n.directive("uiSelectMatch",["uiSelectConfig",function(t){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(e){var n=e.parent().attr("theme")||t.theme,i=e.parent().attr("multiple");return n+(i?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(e,n,i,r){function o(t){r.allowClear=angular.isDefined(t)?""===t?!0:"true"===t.toLowerCase():!1}r.lockChoiceExpression=i.uiLockChoice,i.$observe("placeholder",function(e){r.placeholder=void 0!==e?e:t.placeholder}),i.$observe("allowClear",o),o(i.allowClear),r.multiple&&r.sizeSearchInput()}}}]),n.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(e,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(t,e){var n,i=this,r=t.$select;t.$evalAsync(function(){n=t.ngModel}),i.activeMatchIndex=-1,i.updateModel=function(){n.$setViewValue(Date.now()),i.refreshComponent()},i.refreshComponent=function(){r.refreshItems(),r.sizeSearchInput()},i.removeChoice=function(n){var o=r.selected[n];if(!o._uiSelectChoiceLocked){var a={};a[r.parserResult.itemName]=o,r.selected.splice(n,1),i.activeMatchIndex=-1,r.sizeSearchInput(),e(function(){r.onRemoveCallback(t,{$item:o,$model:r.parserResult.modelMapper(t,a)})}),i.updateModel()}},i.getPlaceholder=function(){return r.selected.length?void 0:r.placeholder}}],controllerAs:"$selectMultiple",link:function(i,r,o,a){function s(t){return angular.isNumber(t.selectionStart)?t.selectionStart:t.value.length}function u(e){function n(){switch(e){case t.LEFT:return~d.activeMatchIndex?c:a;case t.RIGHT:return~d.activeMatchIndex&&u!==a?l:(f.activate(),!1);case t.BACKSPACE:return~d.activeMatchIndex?(d.removeChoice(u),c):a;case t.DELETE:return~d.activeMatchIndex?(d.removeChoice(d.activeMatchIndex),u):!1}}var i=s(f.searchInput[0]),r=f.selected.length,o=0,a=r-1,u=d.activeMatchIndex,l=d.activeMatchIndex+1,c=d.activeMatchIndex-1,h=u;return i>0||f.search.length&&e==t.RIGHT?!1:(f.close(),h=n(),d.activeMatchIndex=f.selected.length&&h!==!1?Math.min(a,Math.max(o,h)):-1,!0)}function l(t){if(void 0===t||void 0===f.search)return!1;var e=t.filter(function(t){return void 0===f.search.toUpperCase()||void 0===t?!1:t.toUpperCase()===f.search.toUpperCase()}).length>0;return e}function c(t,e){var n=-1;if(angular.isArray(t))for(var i=angular.copy(t),r=0;r<i.length;r++)if(void 0===f.tagging.fct)i[r]+" "+f.taggingLabel===e&&(n=r);else{var o=i[r];o.isTag=!0,angular.equals(o,e)&&(n=r)}return n}var f=a[0],h=i.ngModel=a[1],d=i.$selectMultiple;f.multiple=!0,f.removeSelected=!0,f.focusInput=f.searchInput,h.$parsers.unshift(function(){for(var t,e={},n=[],r=f.selected.length-1;r>=0;r--)e={},e[f.parserResult.itemName]=f.selected[r],t=f.parserResult.modelMapper(i,e),n.unshift(t);return n}),h.$formatters.unshift(function(t){var e,n=f.parserResult.source(i,{$select:{search:""}}),r={};if(!n)return t;var o=[],a=function(t,n){if(t&&t.length){for(var a=t.length-1;a>=0;a--){if(r[f.parserResult.itemName]=t[a],e=f.parserResult.modelMapper(i,r),f.parserResult.trackByExp){var s=/\.(.+)/.exec(f.parserResult.trackByExp);if(s.length>0&&e[s[1]]==n[s[1]])return o.unshift(t[a]),!0}if(angular.equals(e,n))return o.unshift(t[a]),!0}return!1}};if(!t)return o;for(var s=t.length-1;s>=0;s--)a(f.selected,t[s])||a(n,t[s])||o.unshift(t[s]);return o}),i.$watchCollection(function(){return h.$modelValue},function(t,e){e!=t&&(h.$modelValue=null,d.refreshComponent())}),h.$render=function(){if(!angular.isArray(h.$viewValue)){if(!angular.isUndefined(h.$viewValue)&&null!==h.$viewValue)throw e("multiarr","Expected model value to be array but got '{0}'",h.$viewValue);f.selected=[]}f.selected=h.$viewValue,i.$evalAsync()},i.$on("uis:select",function(t,e){f.selected.push(e),d.updateModel()}),i.$on("uis:activate",function(){d.activeMatchIndex=-1}),i.$watch("$select.disabled",function(t,e){e&&!t&&f.sizeSearchInput()}),f.searchInput.on("keydown",function(e){var n=e.which;i.$apply(function(){var i=!1;t.isHorizontalMovement(n)&&(i=u(n)),i&&n!=t.TAB&&(e.preventDefault(),e.stopPropagation())})}),f.searchInput.on("keyup",function(e){if(t.isVerticalMovement(e.which)||i.$evalAsync(function(){f.activeIndex=f.taggingLabel===!1?-1:0}),f.tagging.isActivated&&f.search.length>0){if(e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||t.isVerticalMovement(e.which))return;if(f.activeIndex=f.taggingLabel===!1?-1:0,f.taggingLabel===!1)return;var n,r,o,a,s=angular.copy(f.items),u=angular.copy(f.items),h=!1,d=-1;if(void 0!==f.tagging.fct){if(o=f.$filter("filter")(s,{isTag:!0}),o.length>0&&(a=o[0]),s.length>0&&a&&(h=!0,s=s.slice(1,s.length),u=u.slice(1,u.length)),n=f.tagging.fct(f.search),n.isTag=!0,u.filter(function(t){return angular.equals(t,f.tagging.fct(f.search))}).length>0)return;n.isTag=!0}else{if(o=f.$filter("filter")(s,function(t){return t.match(f.taggingLabel)}),o.length>0&&(a=o[0]),r=s[0],void 0!==r&&s.length>0&&a&&(h=!0,s=s.slice(1,s.length),u=u.slice(1,u.length)),n=f.search+" "+f.taggingLabel,c(f.selected,f.search)>-1)return;if(l(u.concat(f.selected)))return void(h&&(s=u,i.$evalAsync(function(){f.activeIndex=0,f.items=s})));if(l(u))return void(h&&(f.items=u.slice(1,u.length)))}h&&(d=c(f.selected,n)),d>-1?s=s.slice(d+1,s.length-1):(s=[],s.push(n),s=s.concat(u)),i.$evalAsync(function(){f.activeIndex=0,f.items=s})}}),f.searchInput.on("blur",function(){n(function(){d.activeMatchIndex=-1})})}}}]),n.directive("uiSelectSingle",["$timeout","$compile",function(e,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(i,r,o,a){var s=a[0],u=a[1];u.$parsers.unshift(function(t){var e,n={};return n[s.parserResult.itemName]=t,e=s.parserResult.modelMapper(i,n)}),u.$formatters.unshift(function(t){var e,n=s.parserResult.source(i,{$select:{search:""}}),r={};if(n){var o=function(n){return r[s.parserResult.itemName]=n,e=s.parserResult.modelMapper(i,r),e==t};if(s.selected&&o(s.selected))return s.selected;for(var a=n.length-1;a>=0;a--)if(o(n[a]))return n[a]}return t}),i.$watch("$select.selected",function(t){u.$viewValue!==t&&u.$setViewValue(t)}),u.$render=function(){s.selected=u.$viewValue},i.$on("uis:select",function(t,e){s.selected=e}),i.$on("uis:close",function(t,n){e(function(){s.focusser.prop("disabled",!1),n||s.focusser[0].focus()},0,!1)}),i.$on("uis:activate",function(){l.prop("disabled",!0)});var l=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");n(l)(i),s.focusser=l,s.focusInput=l,r.parent().append(l),l.bind("focus",function(){i.$evalAsync(function(){s.focus=!0})}),l.bind("blur",function(){i.$evalAsync(function(){s.focus=!1})}),l.bind("keydown",function(e){return e.which===t.BACKSPACE?(e.preventDefault(),e.stopPropagation(),s.select(void 0),void i.$apply()):void(e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||((e.which==t.DOWN||e.which==t.UP||e.which==t.ENTER||e.which==t.SPACE)&&(e.preventDefault(),e.stopPropagation(),s.activate()),i.$digest()))}),l.bind("keyup input",function(e){e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||e.which==t.ENTER||e.which===t.BACKSPACE||(s.activate(l.val()),l.val(""),i.$digest())})}}}]),n.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(t,e,n){return{require:"^uiSelect",link:function(e,i,r,o){if(null===e[r.uiSelectSort])throw n("sort","Expected a list to sort");var a=angular.extend({axis:"horizontal"},e.$eval(r.uiSelectSortOptions)),s=a.axis,u="dragging",l="dropping",c="dropping-before",f="dropping-after";e.$watch(function(){return o.sortable},function(t){t?i.attr("draggable",!0):i.removeAttr("draggable")}),i.on("dragstart",function(t){i.addClass(u),(t.dataTransfer||t.originalEvent.dataTransfer).setData("text/plain",e.$index)}),i.on("dragend",function(){i.removeClass(u)});var h,d=function(t,e){this.splice(e,0,this.splice(t,1)[0])},p=function(t){t.preventDefault();var e="vertical"===s?t.offsetY||t.layerY||(t.originalEvent?t.originalEvent.offsetY:0):t.offsetX||t.layerX||(t.originalEvent?t.originalEvent.offsetX:0);e<this["vertical"===s?"offsetHeight":"offsetWidth"]/2?(i.removeClass(f),i.addClass(c)):(i.removeClass(c),i.addClass(f))},g=function(e){e.preventDefault();var n=parseInt((e.dataTransfer||e.originalEvent.dataTransfer).getData("text/plain"),10);t.cancel(h),h=t(function(){m(n)},20)},m=function(t){var n=e.$eval(r.uiSelectSort),o=n[t],a=null;a=i.hasClass(c)?t<e.$index?e.$index-1:e.$index:t<e.$index?e.$index:e.$index+1,d.apply(n,[t,a]),e.$apply(function(){e.$emit("uiSelectSort:change",{array:n,item:o,from:t,to:a})}),i.removeClass(l),i.removeClass(c),i.removeClass(f),i.off("drop",g)};i.on("dragenter",function(){i.hasClass(u)||(i.addClass(l),i.on("dragover",p),i.on("drop",g))}),i.on("dragleave",function(t){t.target==i&&(i.removeClass(l),i.removeClass(c),i.removeClass(f),i.off("dragover",p),i.off("drop",g))})}}}]),n.service("uisRepeatParser",["uiSelectMinErr","$parse",function(t,e){var n=this;n.parse=function(n){var i=n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?([\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!i)throw t("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);return{itemName:i[2],source:e(i[3]),trackByExp:i[4],modelMapper:e(i[1]||i[2])}},n.getGroupNgRepeatExpression=function(){return"$group in $select.groups"},n.getNgRepeatExpression=function(t,e,n,i){var r=t+" in "+(i?"$group.items":e);return n&&(r+=" track by "+n),r}}])}(),angular.module("ui.select").run(["$templateCache",function(t){t.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content dropdown-menu" role="listbox" ng-show="$select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="javascript:void(0)" class="ui-select-choices-row-inner"></a></div></li></ul>'),t.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),t.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),t.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>'),t.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>'),t.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),t.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),t.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),t.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>'),t.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'),t.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),t.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'),t.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')
}]),/**
 * sifter.js
 * Copyright (c) 2013 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */
function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.Sifter=e()}(this,function(){var t=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};t.prototype.tokenize=function(t){if(t=i(String(t||"").toLowerCase()),!t||!t.length)return[];var e,n,o,s,u=[],l=t.split(/ +/);for(e=0,n=l.length;n>e;e++){if(o=r(l[e]),this.settings.diacritics)for(s in a)a.hasOwnProperty(s)&&(o=o.replace(new RegExp(s,"g"),a[s]));u.push({string:l[e],regex:new RegExp(o,"i")})}return u},t.prototype.iterator=function(t,e){var n;n=o(t)?Array.prototype.forEach||function(t){for(var e=0,n=this.length;n>e;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)},n.apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var n,i,r,o;n=this,t=n.prepareSearch(t,e),r=t.tokens,i=t.options.fields,o=r.length;var a=function(t,e){var n,i;return t?(t=String(t||""),i=t.search(e.regex),-1===i?0:(n=e.string.length/t.length,0===i&&(n+=.5),n)):0},s=function(){var t=i.length;return t?1===t?function(t,e){return a(e[i[0]],t)}:function(e,n){for(var r=0,o=0;t>r;r++)o+=a(n[i[r]],e);return o/t}:function(){return 0}}();return o?1===o?function(t){return s(r[0],t)}:"and"===t.options.conjunction?function(t){for(var e,n=0,i=0;o>n;n++){if(e=s(r[n],t),0>=e)return 0;i+=e}return i/o}:function(t){for(var e=0,n=0;o>e;e++)n+=s(r[e],t);return n/o}:function(){return 0}},t.prototype.getSortFunction=function(t,n){var i,r,o,a,s,u,l,c,f,h,d;if(o=this,t=o.prepareSearch(t,n),d=!t.query&&n.sort_empty||n.sort,f=function(t,e){return"$score"===t?e.score:o.items[e.id][t]},s=[],d)for(i=0,r=d.length;r>i;i++)(t.query||"$score"!==d[i].field)&&s.push(d[i]);if(t.query){for(h=!0,i=0,r=s.length;r>i;i++)if("$score"===s[i].field){h=!1;break}h&&s.unshift({field:"$score",direction:"desc"})}else for(i=0,r=s.length;r>i;i++)if("$score"===s[i].field){s.splice(i,1);break}for(c=[],i=0,r=s.length;r>i;i++)c.push("desc"===s[i].direction?-1:1);return u=s.length,u?1===u?(a=s[0].field,l=c[0],function(t,n){return l*e(f(a,t),f(a,n))}):function(t,n){var i,r,o;for(i=0;u>i;i++)if(o=s[i].field,r=c[i]*e(f(o,t),f(o,n)))return r;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"==typeof t)return t;e=n({},e);var i=e.fields,r=e.sort,a=e.sort_empty;return i&&!o(i)&&(e.fields=[i]),r&&!o(r)&&(e.sort=[r]),a&&!o(a)&&(e.sort_empty=[a]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,e){var n,i,r,o,a=this;return i=this.prepareSearch(t,e),e=i.options,t=i.query,o=e.score||a.getScoreFunction(i),t.length?a.iterator(a.items,function(t,r){n=o(t),(e.filter===!1||n>0)&&i.items.push({score:n,id:r})}):a.iterator(a.items,function(t,e){i.items.push({score:1,id:e})}),r=a.getSortFunction(i,e),r&&i.items.sort(r),i.total=i.items.length,"number"==typeof e.limit&&(i.items=i.items.slice(0,e.limit)),i};var e=function(t,e){return"number"==typeof t&&"number"==typeof e?t>e?1:e>t?-1:0:(t=s(String(t||"")),e=s(String(e||"")),t>e?1:e>t?-1:0)},n=function(t){var e,n,i,r;for(e=1,n=arguments.length;n>e;e++)if(r=arguments[e])for(i in r)r.hasOwnProperty(i)&&(t[i]=r[i]);return t},i=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},r=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},o=Array.isArray||$&&$.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a={a:"[aÀÁÂÃÄÅàáâãäåĀāąĄ]",c:"[cÇçćĆčČ]",d:"[dđĐďĎ]",e:"[eÈÉÊËèéêëěĚĒēęĘ]",i:"[iÌÍÎÏìíîïĪī]",l:"[lłŁ]",n:"[nÑñňŇńŃ]",o:"[oÒÓÔÕÕÖØòóôõöøŌō]",r:"[rřŘ]",s:"[sŠšśŚ]",t:"[tťŤ]",u:"[uÙÚÛÜùúûüůŮŪū]",y:"[yŸÿýÝ]",z:"[zŽžżŻźŹ]"},s=function(){var t,e,n,i,r="",o={};for(n in a)if(a.hasOwnProperty(n))for(i=a[n].substring(2,a[n].length-1),r+=i,t=0,e=i.length;e>t;t++)o[i.charAt(t)]=n;var s=new RegExp("["+r+"]","g");return function(t){return t.replace(s,function(t){return o[t]}).toLowerCase()}}();return t}),/**
 * microplugin.js
 * Copyright (c) 2013 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */
function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.MicroPlugin=e()}(this,function(){var t={};t.mixin=function(t){t.plugins={},t.prototype.initializePlugins=function(t){var n,i,r,o=this,a=[];if(o.plugins={names:[],settings:{},requested:{},loaded:{}},e.isArray(t))for(n=0,i=t.length;i>n;n++)"string"==typeof t[n]?a.push(t[n]):(o.plugins.settings[t[n].name]=t[n].options,a.push(t[n].name));else if(t)for(r in t)t.hasOwnProperty(r)&&(o.plugins.settings[r]=t[r],a.push(r));for(;a.length;)o.require(a.shift())},t.prototype.loadPlugin=function(e){var n=this,i=n.plugins,r=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');i.requested[e]=!0,i.loaded[e]=r.fn.apply(n,[n.plugins.settings[e]||{}]),i.names.push(e)},t.prototype.require=function(t){var e=this,n=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(n.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return n.loaded[t]},t.define=function(e,n){t.plugins[e]={name:e,fn:n}}};var e={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t}),/**
 * selectize.js (v0.12.1)
 * Copyright (c) 2013–2015 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */
function(t,e){"function"==typeof define&&define.amd?define(["jquery","sifter","microplugin"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("sifter"),require("microplugin")):t.Selectize=e(t.jQuery,t.Sifter,t.MicroPlugin)}(this,function(t,e,n){"use strict";var i=function(t,e){if("string"!=typeof e||e.length){var n="string"==typeof e?new RegExp(e,"i"):e,i=function(t){var e=0;if(3===t.nodeType){var r=t.data.search(n);if(r>=0&&t.data.length>0){var o=t.data.match(n),a=document.createElement("span");a.className="highlight";var s=t.splitText(r),u=(s.splitText(o[0].length),s.cloneNode(!0));a.appendChild(u),s.parentNode.replaceChild(a,s),e=1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName))for(var l=0;l<t.childNodes.length;++l)l+=i(t.childNodes[l]);return e};return t.each(function(){i(this)})}},r=function(){};r.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},r.mixin=function(t){for(var e=["on","off","trigger"],n=0;n<e.length;n++)t.prototype[e[n]]=r.prototype[e[n]]};var o=/Mac/.test(navigator.userAgent),a=65,s=13,u=27,l=37,c=38,f=80,h=39,d=40,p=78,g=8,m=46,v=16,y=o?91:17,b=o?18:17,w=9,_=1,x=2,$=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,C=function(t){return"undefined"!=typeof t},E=function(t){return"undefined"==typeof t||null===t?null:"boolean"==typeof t?t?"1":"0":t+""},k=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},S=function(t){return(t+"").replace(/\$/g,"$$$$")},T={};T.before=function(t,e,n){var i=t[e];t[e]=function(){return n.apply(t,arguments),i.apply(t,arguments)}},T.after=function(t,e,n){var i=t[e];t[e]=function(){var e=i.apply(t,arguments);return n.apply(t,arguments),e}};var O=function(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}},M=function(t,e){var n;return function(){var i=this,r=arguments;window.clearTimeout(n),n=window.setTimeout(function(){t.apply(i,r)},e)}},A=function(t,e,n){var i,r=t.trigger,o={};t.trigger=function(){var n=arguments[0];return-1===e.indexOf(n)?r.apply(t,arguments):void(o[n]=arguments)},n.apply(t,[]),t.trigger=r;for(i in o)o.hasOwnProperty(i)&&r.apply(t,o[i])},D=function(t,e,n,i){t.on(e,n,function(e){for(var n=e.target;n&&n.parentNode!==t[0];)n=n.parentNode;return e.currentTarget=n,i.apply(this,[e])})},I=function(t){var e={};if("selectionStart"in t)e.start=t.selectionStart,e.length=t.selectionEnd-e.start;else if(document.selection){t.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-t.value.length),e.start=n.text.length-i,e.length=i}return e},N=function(t,e,n){var i,r,o={};if(n)for(i=0,r=n.length;r>i;i++)o[n[i]]=t.css(n[i]);else o=t.css();e.css(o)},P=function(e,n){if(!e)return 0;var i=t("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(e).appendTo("body");N(n,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var r=i.width();return i.remove(),r},R=function(t){var e=null,n=function(n,i){var r,o,a,s,u,l,c,f;n=n||window.event||{},i=i||{},n.metaKey||n.altKey||(i.force||t.data("grow")!==!1)&&(r=t.val(),n.type&&"keydown"===n.type.toLowerCase()&&(o=n.keyCode,a=o>=97&&122>=o||o>=65&&90>=o||o>=48&&57>=o||32===o,o===m||o===g?(f=I(t[0]),f.length?r=r.substring(0,f.start)+r.substring(f.start+f.length):o===g&&f.start?r=r.substring(0,f.start-1)+r.substring(f.start+1):o===m&&"undefined"!=typeof f.start&&(r=r.substring(0,f.start)+r.substring(f.start+1))):a&&(l=n.shiftKey,c=String.fromCharCode(n.keyCode),c=l?c.toUpperCase():c.toLowerCase(),r+=c)),s=t.attr("placeholder"),!r&&s&&(r=s),u=P(r,t)+4,u!==e&&(e=u,t.width(u),t.triggerHandler("resize")))};t.on("keydown keyup update blur",n),n()},L=function(n,i){var r,o,a,s,u=this;s=n[0],s.selectize=u;var l=window.getComputedStyle&&window.getComputedStyle(s,null);if(a=l?l.getPropertyValue("direction"):s.currentStyle&&s.currentStyle.direction,a=a||n.parents("[dir]:first").attr("dir")||"",t.extend(u,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===s.tagName.toLowerCase()?_:x,rtl:/rtl/i.test(a),eventNS:".selectize"+ ++L.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?u.onSearchChange:M(u.onSearchChange,i.loadThrottle)}),u.sifter=new e(this.options,{diacritics:i.diacritics}),u.settings.options){for(r=0,o=u.settings.options.length;o>r;r++)u.registerOption(u.settings.options[r]);delete u.settings.options}if(u.settings.optgroups){for(r=0,o=u.settings.optgroups.length;o>r;r++)u.registerOptionGroup(u.settings.optgroups[r]);delete u.settings.optgroups}u.settings.mode=u.settings.mode||(1===u.settings.maxItems?"single":"multi"),"boolean"!=typeof u.settings.hideSelected&&(u.settings.hideSelected="multi"===u.settings.mode),u.initializePlugins(u.settings.plugins),u.setupCallbacks(),u.setupTemplates(),u.setup()};return r.mixin(L),n.mixin(L),t.extend(L.prototype,{setup:function(){var e,n,i,r,a,s,u,l,c,f=this,h=f.settings,d=f.eventNS,p=t(window),g=t(document),m=f.$input;if(u=f.settings.mode,l=m.attr("class")||"",e=t("<div>").addClass(h.wrapperClass).addClass(l).addClass(u),n=t("<div>").addClass(h.inputClass).addClass("items").appendTo(e),i=t('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",m.is(":disabled")?"-1":f.tabIndex),s=t(h.dropdownParent||e),r=t("<div>").addClass(h.dropdownClass).addClass(u).hide().appendTo(s),a=t("<div>").addClass(h.dropdownContentClass).appendTo(r),f.settings.copyClassesToDropdown&&r.addClass(l),e.css({width:m[0].style.width}),f.plugins.names.length&&(c="plugin-"+f.plugins.names.join(" plugin-"),e.addClass(c),r.addClass(c)),(null===h.maxItems||h.maxItems>1)&&f.tagType===_&&m.attr("multiple","multiple"),f.settings.placeholder&&i.attr("placeholder",h.placeholder),!f.settings.splitOn&&f.settings.delimiter){var w=f.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");f.settings.splitOn=new RegExp("\\s*"+w+"+\\s*")}m.attr("autocorrect")&&i.attr("autocorrect",m.attr("autocorrect")),m.attr("autocapitalize")&&i.attr("autocapitalize",m.attr("autocapitalize")),f.$wrapper=e,f.$control=n,f.$control_input=i,f.$dropdown=r,f.$dropdown_content=a,r.on("mouseenter","[data-selectable]",function(){return f.onOptionHover.apply(f,arguments)}),r.on("mousedown click","[data-selectable]",function(){return f.onOptionSelect.apply(f,arguments)}),D(n,"mousedown","*:not(input)",function(){return f.onItemSelect.apply(f,arguments)}),R(i),n.on({mousedown:function(){return f.onMouseDown.apply(f,arguments)},click:function(){return f.onClick.apply(f,arguments)}}),i.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return f.onKeyDown.apply(f,arguments)},keyup:function(){return f.onKeyUp.apply(f,arguments)},keypress:function(){return f.onKeyPress.apply(f,arguments)},resize:function(){f.positionDropdown.apply(f,[])},blur:function(){return f.onBlur.apply(f,arguments)},focus:function(){return f.ignoreBlur=!1,f.onFocus.apply(f,arguments)},paste:function(){return f.onPaste.apply(f,arguments)}}),g.on("keydown"+d,function(t){f.isCmdDown=t[o?"metaKey":"ctrlKey"],f.isCtrlDown=t[o?"altKey":"ctrlKey"],f.isShiftDown=t.shiftKey}),g.on("keyup"+d,function(t){t.keyCode===b&&(f.isCtrlDown=!1),t.keyCode===v&&(f.isShiftDown=!1),t.keyCode===y&&(f.isCmdDown=!1)}),g.on("mousedown"+d,function(t){if(f.isFocused){if(t.target===f.$dropdown[0]||t.target.parentNode===f.$dropdown[0])return!1;f.$control.has(t.target).length||t.target===f.$control[0]||f.blur(t.target)}}),p.on(["scroll"+d,"resize"+d].join(" "),function(){f.isOpen&&f.positionDropdown.apply(f,arguments)}),p.on("mousemove"+d,function(){f.ignoreHover=!1}),this.revertSettings={$children:m.children().detach(),tabindex:m.attr("tabindex")},m.attr("tabindex",-1).hide().after(f.$wrapper),t.isArray(h.items)&&(f.setValue(h.items),delete h.items),$&&m.on("invalid"+d,function(t){t.preventDefault(),f.isInvalid=!0,f.refreshState()}),f.updateOriginalInput(),f.refreshItems(),f.refreshState(),f.updatePlaceholder(),f.isSetup=!0,m.is(":disabled")&&f.disable(),f.on("change",this.onChange),m.data("selectize",f),m.addClass("selectized"),f.trigger("initialize"),h.preload===!0&&f.onSearchChange("")},setupTemplates:function(){var e=this,n=e.settings.labelField,i=e.settings.optgroupLabelField,r={optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[i])+"</div>"},option:function(t,e){return'<div class="option">'+e(t[n])+"</div>"},item:function(t,e){return'<div class="item">'+e(t[n])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>"}};e.settings.render=t.extend({},r,e.settings.render)},setupCallbacks:function(){var t,e,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in n)n.hasOwnProperty(t)&&(e=this.settings[n[t]],e&&this.on(t,e))},onClick:function(t){var e=this;e.isFocused||(e.focus(),t.preventDefault())},onMouseDown:function(e){{var n=this,i=e.isDefaultPrevented();t(e.target)}if(n.isFocused){if(e.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var n=this;n.isFull()||n.isInputHidden||n.isLocked?e.preventDefault():n.settings.splitOn&&setTimeout(function(){for(var e=t.trim(n.$control_input.val()||"").split(n.settings.splitOn),i=0,r=e.length;r>i;i++)n.createItem(e[i])},0)},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){var e=(t.target===this.$control_input[0],this);if(e.isLocked)return void(t.keyCode!==w&&t.preventDefault());switch(t.keyCode){case a:if(e.isCmdDown)return void e.selectAll();break;case u:return void(e.isOpen&&(t.preventDefault(),t.stopPropagation(),e.close()));case p:if(!t.ctrlKey||t.altKey)break;case d:if(!e.isOpen&&e.hasOptions)e.open();else if(e.$activeOption){e.ignoreHover=!0;var n=e.getAdjacentOption(e.$activeOption,1);n.length&&e.setActiveOption(n,!0,!0)}return void t.preventDefault();case f:if(!t.ctrlKey||t.altKey)break;case c:if(e.$activeOption){e.ignoreHover=!0;var i=e.getAdjacentOption(e.$activeOption,-1);i.length&&e.setActiveOption(i,!0,!0)}return void t.preventDefault();case s:return void(e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),t.preventDefault()));case l:return void e.advanceSelection(-1,t);case h:return void e.advanceSelection(1,t);case w:return e.settings.selectOnTab&&e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),e.isFull()||t.preventDefault()),void(e.settings.create&&e.createItem()&&t.preventDefault());case g:case m:return void e.deleteSelection(t)}return!e.isFull()&&!e.isInputHidden||(o?t.metaKey:t.ctrlKey)?void 0:void t.preventDefault()},onKeyUp:function(t){var e=this;if(e.isLocked)return t&&t.preventDefault();var n=e.$control_input.val()||"";e.lastValue!==n&&(e.lastValue=n,e.onSearchChange(n),e.refreshOptions(),e.trigger("type",n))},onSearchChange:function(t){var e=this,n=e.settings.load;n&&(e.loadedSearches.hasOwnProperty(t)||(e.loadedSearches[t]=!0,e.load(function(i){n.apply(e,[t,i])})))},onFocus:function(t){var e=this,n=e.isFocused;return e.isDisabled?(e.blur(),t&&t.preventDefault(),!1):void(e.ignoreFocus||(e.isFocused=!0,"focus"===e.settings.preload&&e.onSearchChange(""),n||e.trigger("focus"),e.$activeItems.length||(e.showInput(),e.setActiveItem(null),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState()))},onBlur:function(t,e){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(t);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),(e||document.body).focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(e){var n,i,r=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),i=t(e.currentTarget),i.hasClass("create")?r.createItem(null,function(){r.settings.closeAfterSelect&&r.close()}):(n=i.attr("data-value"),"undefined"!=typeof n&&(r.lastQuery=null,r.setTextboxValue(""),r.addItem(n),r.settings.closeAfterSelect?r.close():!r.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&r.setActiveOption(r.getOption(n))))},onItemSelect:function(t){var e=this;e.isLocked||"multi"===e.settings.mode&&(t.preventDefault(),e.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,n=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||n.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},setTextboxValue:function(t){var e=this.$control_input,n=e.val()!==t;n&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return this.tagType===_&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){var n=e?[]:["change"];A(this,n,function(){this.clear(e),this.addItems(t,e)})},setActiveItem:function(e,n){var i,r,o,a,s,u,l,c,f=this;if("single"!==f.settings.mode){if(e=t(e),!e.length)return t(f.$activeItems).removeClass("active"),f.$activeItems=[],void(f.isFocused&&f.showInput());if(i=n&&n.type.toLowerCase(),"mousedown"===i&&f.isShiftDown&&f.$activeItems.length){for(c=f.$control.children(".active:last"),a=Array.prototype.indexOf.apply(f.$control[0].childNodes,[c[0]]),s=Array.prototype.indexOf.apply(f.$control[0].childNodes,[e[0]]),a>s&&(l=a,a=s,s=l),r=a;s>=r;r++)u=f.$control[0].childNodes[r],-1===f.$activeItems.indexOf(u)&&(t(u).addClass("active"),f.$activeItems.push(u));n.preventDefault()}else"mousedown"===i&&f.isCtrlDown||"keydown"===i&&this.isShiftDown?e.hasClass("active")?(o=f.$activeItems.indexOf(e[0]),f.$activeItems.splice(o,1),e.removeClass("active")):f.$activeItems.push(e.addClass("active")[0]):(t(f.$activeItems).removeClass("active"),f.$activeItems=[e.addClass("active")[0]]);f.hideInput(),this.isFocused||f.focus()}},setActiveOption:function(e,n,i){var r,o,a,s,u,l=this;l.$activeOption&&l.$activeOption.removeClass("active"),l.$activeOption=null,e=t(e),e.length&&(l.$activeOption=e.addClass("active"),(n||!C(n))&&(r=l.$dropdown_content.height(),o=l.$activeOption.outerHeight(!0),n=l.$dropdown_content.scrollTop()||0,a=l.$activeOption.offset().top-l.$dropdown_content.offset().top+n,s=a,u=a-r+o,a+o>r+n?l.$dropdown_content.stop().animate({scrollTop:u},i?l.settings.scrollDuration:0):n>a&&l.$dropdown_content.stop().animate({scrollTop:s},i?l.settings.scrollDuration:0)))},selectAll:function(){var t=this;"single"!==t.settings.mode&&(t.$activeItems=Array.prototype.slice.apply(t.$control.children(":not(input)").addClass("active")),t.$activeItems.length&&(t.hideInput(),t.close()),t.focus())},hideInput:function(){var t=this;t.setTextboxValue(""),t.$control_input.css({opacity:0,position:"absolute",left:t.rtl?1e4:-1e4}),t.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout(function(){t.ignoreFocus=!1,t.onFocus()},0))},blur:function(t){this.$control_input[0].blur(),this.onBlur(null,t)},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e=[{field:e}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e}},search:function(e){var n,i,r,o=this,a=o.settings,s=this.getSearchOptions();if(a.score&&(r=o.settings.score.apply(this,[e]),"function"!=typeof r))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==o.lastQuery?(o.lastQuery=e,i=o.sifter.search(e,t.extend(s,{score:r})),o.currentResults=i):i=t.extend(!0,{},o.currentResults),a.hideSelected)for(n=i.items.length-1;n>=0;n--)-1!==o.items.indexOf(E(i.items[n].id))&&i.items.splice(n,1);return i},refreshOptions:function(e){var n,r,o,a,s,u,l,c,f,h,d,p,g,m,v,y;"undefined"==typeof e&&(e=!0);var b=this,w=t.trim(b.$control_input.val()),_=b.search(w),x=b.$dropdown_content,$=b.$activeOption&&E(b.$activeOption.attr("data-value"));for(a=_.items.length,"number"==typeof b.settings.maxOptions&&(a=Math.min(a,b.settings.maxOptions)),s={},u=[],n=0;a>n;n++)for(l=b.options[_.items[n].id],c=b.render("option",l),f=l[b.settings.optgroupField]||"",h=t.isArray(f)?f:[f],r=0,o=h&&h.length;o>r;r++)f=h[r],b.optgroups.hasOwnProperty(f)||(f=""),s.hasOwnProperty(f)||(s[f]=[],u.push(f)),s[f].push(c);for(this.settings.lockOptgroupOrder&&u.sort(function(t,e){var n=b.optgroups[t].$order||0,i=b.optgroups[e].$order||0;return n-i}),d=[],n=0,a=u.length;a>n;n++)f=u[n],b.optgroups.hasOwnProperty(f)&&s[f].length?(p=b.render("optgroup_header",b.optgroups[f])||"",p+=s[f].join(""),d.push(b.render("optgroup",t.extend({},b.optgroups[f],{html:p})))):d.push(s[f].join(""));if(x.html(d.join("")),b.settings.highlight&&_.query.length&&_.tokens.length)for(n=0,a=_.tokens.length;a>n;n++)i(x,_.tokens[n].regex);if(!b.settings.hideSelected)for(n=0,a=b.items.length;a>n;n++)b.getOption(b.items[n]).addClass("selected");g=b.canCreate(w),g&&(x.prepend(b.render("option_create",{input:w})),y=t(x[0].childNodes[0])),b.hasOptions=_.items.length>0||g,b.hasOptions?(_.items.length>0?(v=$&&b.getOption($),v&&v.length?m=v:"single"===b.settings.mode&&b.items.length&&(m=b.getOption(b.items[0])),m&&m.length||(m=y&&!b.settings.addPrecedence?b.getAdjacentOption(y,1):x.find("[data-selectable]:first"))):m=y,b.setActiveOption(m),e&&!b.isOpen&&b.open()):(b.setActiveOption(null),e&&b.isOpen&&b.close())},addOption:function(e){var n,i,r,o=this;if(t.isArray(e))for(n=0,i=e.length;i>n;n++)o.addOption(e[n]);else(r=o.registerOption(e))&&(o.userOptions[r]=!0,o.lastQuery=null,o.trigger("option_add",r,e))},registerOption:function(t){var e=E(t[this.settings.valueField]);return!e||this.options.hasOwnProperty(e)?!1:(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=E(t[this.settings.optgroupValueField]);return e?(t.$order=t.$order||++this.order,this.optgroups[e]=t,e):!1},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,n){var i,r,o,a,s,u,l,c=this;if(e=E(e),o=E(n[c.settings.valueField]),null!==e&&c.options.hasOwnProperty(e)){if("string"!=typeof o)throw new Error("Value must be set in option data");l=c.options[e].$order,o!==e&&(delete c.options[e],a=c.items.indexOf(e),-1!==a&&c.items.splice(a,1,o)),n.$order=n.$order||l,c.options[o]=n,s=c.renderCache.item,u=c.renderCache.option,s&&(delete s[e],delete s[o]),u&&(delete u[e],delete u[o]),-1!==c.items.indexOf(o)&&(i=c.getItem(e),r=t(c.render("item",n)),i.hasClass("active")&&r.addClass("active"),i.replaceWith(r)),c.lastQuery=null,c.isOpen&&c.refreshOptions(!1)}},removeOption:function(t,e){var n=this;t=E(t);var i=n.renderCache.item,r=n.renderCache.option;i&&delete i[t],r&&delete r[t],delete n.userOptions[t],delete n.options[t],n.lastQuery=null,n.trigger("option_remove",t),n.removeItem(t,e)},clearOptions:function(){var t=this;t.loadedSearches={},t.userOptions={},t.renderCache={},t.options=t.sifter.items={},t.lastQuery=null,t.trigger("option_clear"),t.clear()},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,n){var i=this.$dropdown.find("[data-selectable]"),r=i.index(e)+n;return r>=0&&r<i.length?i.eq(r):t()},getElementWithValue:function(e,n){if(e=E(e),"undefined"!=typeof e&&null!==e)for(var i=0,r=n.length;r>i;i++)if(n[i].getAttribute("data-value")===e)return t(n[i]);return t()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},addItems:function(e,n){for(var i=t.isArray(e)?e:[e],r=0,o=i.length;o>r;r++)this.isPending=o-1>r,this.addItem(i[r],n)},addItem:function(e,n){var i=n?[]:["change"];A(this,i,function(){var i,r,o,a,s,u=this,l=u.settings.mode;return e=E(e),-1!==u.items.indexOf(e)?void("single"===l&&u.close()):void(u.options.hasOwnProperty(e)&&("single"===l&&u.clear(n),"multi"===l&&u.isFull()||(i=t(u.render("item",u.options[e])),s=u.isFull(),u.items.splice(u.caretPos,0,e),u.insertAtCaret(i),(!u.isPending||!s&&u.isFull())&&u.refreshState(),u.isSetup&&(o=u.$dropdown_content.find("[data-selectable]"),u.isPending||(r=u.getOption(e),a=u.getAdjacentOption(r,1).attr("data-value"),u.refreshOptions(u.isFocused&&"single"!==l),a&&u.setActiveOption(u.getOption(a))),!o.length||u.isFull()?u.close():u.positionDropdown(),u.updatePlaceholder(),u.trigger("item_add",e,i),u.updateOriginalInput({silent:n})))))})},removeItem:function(t,e){var n,i,r,o=this;n="object"==typeof t?t:o.getItem(t),t=E(n.attr("data-value")),i=o.items.indexOf(t),-1!==i&&(n.remove(),n.hasClass("active")&&(r=o.$activeItems.indexOf(n[0]),o.$activeItems.splice(r,1)),o.items.splice(i,1),o.lastQuery=null,!o.settings.persist&&o.userOptions.hasOwnProperty(t)&&o.removeOption(t,e),i<o.caretPos&&o.setCaret(o.caretPos-1),o.refreshState(),o.updatePlaceholder(),o.updateOriginalInput({silent:e}),o.positionDropdown(),o.trigger("item_remove",t,n))},createItem:function(e,n){var i=this,r=i.caretPos;e=e||t.trim(i.$control_input.val()||"");var o=arguments[arguments.length-1];if("function"!=typeof o&&(o=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(e))return o(),!1;i.lock();var a="function"==typeof i.settings.create?this.settings.create:function(t){var e={};return e[i.settings.labelField]=t,e[i.settings.valueField]=t,e},s=O(function(t){if(i.unlock(),!t||"object"!=typeof t)return o();var e=E(t[i.settings.valueField]);return"string"!=typeof e?o():(i.setTextboxValue(""),i.addOption(t),i.setCaret(r),i.addItem(e),i.refreshOptions(n&&"single"!==i.settings.mode),void o(t))}),u=a.apply(this,[e,s]);return"undefined"!=typeof u&&s(u),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){var t,e=this;e.isRequired&&(e.items.length&&(e.isInvalid=!1),e.$control_input.prop("required",t)),e.refreshClasses()},refreshClasses:function(){var e=this,n=e.isFull(),i=e.isLocked;e.$wrapper.toggleClass("rtl",e.rtl),e.$control.toggleClass("focus",e.isFocused).toggleClass("disabled",e.isDisabled).toggleClass("required",e.isRequired).toggleClass("invalid",e.isInvalid).toggleClass("locked",i).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",e.isFocused&&!e.isInputHidden).toggleClass("dropdown-active",e.isOpen).toggleClass("has-options",!t.isEmptyObject(e.options)).toggleClass("has-items",e.items.length>0),e.$control_input.data("grow",!n&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,n,i,r,o=this;if(t=t||{},o.tagType===_){for(i=[],e=0,n=o.items.length;n>e;e++)r=o.options[o.items[e]][o.settings.labelField]||"",i.push('<option value="'+k(o.items[e])+'" selected="selected">'+k(r)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),o.$input.html(i.join(""))}else o.$input.val(o.getValue()),o.$input.attr("value",o.$input.val());o.isSetup&&(t.silent||o.trigger("change",o.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var t=this.$control_input;this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0})}},open:function(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.focus(),t.isOpen=!0,t.refreshState(),t.$dropdown.css({visibility:"hidden",display:"block"}),t.positionDropdown(),t.$dropdown.css({visibility:"visible"}),t.trigger("dropdown_open",t.$dropdown))},close:function(){var t=this,e=t.isOpen;"single"===t.settings.mode&&t.items.length&&t.hideInput(),t.isOpen=!1,t.$dropdown.hide(),t.setActiveOption(null),t.refreshState(),e&&t.trigger("dropdown_close",t.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),this.$dropdown.css({width:t.outerWidth(),top:e.top,left:e.left})},clear:function(t){var e=this;e.items.length&&(e.$control.children(":not(input)").remove(),e.items=[],e.lastQuery=null,e.setCaret(0),e.setActiveItem(null),e.updatePlaceholder(),e.updateOriginalInput({silent:t}),e.refreshState(),e.showInput(),e.trigger("clear"))},insertAtCaret:function(e){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(e):t(this.$control[0].childNodes[n]).before(e),this.setCaret(n+1)},deleteSelection:function(e){var n,i,r,o,a,s,u,l,c,f=this;if(r=e&&e.keyCode===g?-1:1,o=I(f.$control_input[0]),f.$activeOption&&!f.settings.hideSelected&&(u=f.getAdjacentOption(f.$activeOption,-1).attr("data-value")),a=[],f.$activeItems.length){for(c=f.$control.children(".active:"+(r>0?"last":"first")),s=f.$control.children(":not(input)").index(c),r>0&&s++,n=0,i=f.$activeItems.length;i>n;n++)a.push(t(f.$activeItems[n]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(f.isFocused||"single"===f.settings.mode)&&f.items.length&&(0>r&&0===o.start&&0===o.length?a.push(f.items[f.caretPos-1]):r>0&&o.start===f.$control_input.val().length&&a.push(f.items[f.caretPos]));if(!a.length||"function"==typeof f.settings.onDelete&&f.settings.onDelete.apply(f,[a])===!1)return!1;for("undefined"!=typeof s&&f.setCaret(s);a.length;)f.removeItem(a.pop());return f.showInput(),f.positionDropdown(),f.refreshOptions(!0),u&&(l=f.getOption(u),l.length&&f.setActiveOption(l)),!0},advanceSelection:function(t,e){var n,i,r,o,a,s,u=this;0!==t&&(u.rtl&&(t*=-1),n=t>0?"last":"first",i=I(u.$control_input[0]),u.isFocused&&!u.isInputHidden?(o=u.$control_input.val().length,a=0>t?0===i.start&&0===i.length:i.start===o,a&&!o&&u.advanceCaret(t,e)):(s=u.$control.children(".active:"+n),s.length&&(r=u.$control.children(":not(input)").index(s),u.setActiveItem(null),u.setCaret(t>0?r+1:r))))},advanceCaret:function(t,e){var n,i,r=this;0!==t&&(n=t>0?"next":"prev",r.isShiftDown?(i=r.$control_input[n](),i.length&&(r.hideInput(),r.setActiveItem(i),e&&e.preventDefault())):r.setCaret(r.caretPos+t))},setCaret:function(e){var n=this;if(e="single"===n.settings.mode?n.items.length:Math.max(0,Math.min(n.items.length,e)),!n.isPending){var i,r,o,a;for(o=n.$control.children(":not(input)"),i=0,r=o.length;r>i;i++)a=t(o[i]).detach(),e>i?n.$control_input.before(a):n.$control.append(a)}n.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var t=this;t.$input.prop("disabled",!0),t.$control_input.prop("disabled",!0).prop("tabindex",-1),t.isDisabled=!0,t.lock()},enable:function(){var t=this;t.$input.prop("disabled",!1),t.$control_input.prop("disabled",!1).prop("tabindex",t.tabIndex),t.isDisabled=!1,t.unlock()},destroy:function(){var e=this,n=e.eventNS,i=e.revertSettings;e.trigger("destroy"),e.off(),e.$wrapper.remove(),e.$dropdown.remove(),e.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),e.$control_input.removeData("grow"),e.$input.removeData("selectize"),t(window).off(n),t(document).off(n),t(document.body).off(n),delete e.$input[0].selectize},render:function(t,e){var n,i,r="",o=!1,a=this,s=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return("option"===t||"item"===t)&&(n=E(e[a.settings.valueField]),o=!!n),o&&(C(a.renderCache[t])||(a.renderCache[t]={}),a.renderCache[t].hasOwnProperty(n))?a.renderCache[t][n]:(r=a.settings.render[t].apply(this,[e,k]),("option"===t||"option_create"===t)&&(r=r.replace(s,"<$1 data-selectable")),"optgroup"===t&&(i=e[a.settings.optgroupValueField]||"",r=r.replace(s,'<$1 data-group="'+S(k(i))+'"')),("option"===t||"item"===t)&&(r=r.replace(s,'<$1 data-value="'+S(k(n||""))+'"')),o&&(a.renderCache[t][n]=r),r)},clearCache:function(t){var e=this;"undefined"==typeof t?e.renderCache={}:delete e.renderCache[t]},canCreate:function(t){var e=this;if(!e.settings.create)return!1;var n=e.settings.createFilter;return!(!t.length||"function"==typeof n&&!n.apply(e,[t])||"string"==typeof n&&!new RegExp(n).test(t)||n instanceof RegExp&&!n.test(t))}}),L.count=0,L.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},t.fn.selectize=function(e){var n=t.fn.selectize.defaults,i=t.extend({},n,e),r=i.dataAttr,o=i.labelField,a=i.valueField,s=i.optgroupField,u=i.optgroupLabelField,l=i.optgroupValueField,c=function(e,n){var s,u,l,c,f=e.attr(r);if(f)for(n.options=JSON.parse(f),s=0,u=n.options.length;u>s;s++)n.items.push(n.options[s][a]);else{var h=t.trim(e.val()||"");if(!i.allowEmptyOption&&!h.length)return;for(l=h.split(i.delimiter),s=0,u=l.length;u>s;s++)c={},c[o]=l[s],c[a]=l[s],n.options.push(c);n.items=l}},f=function(e,n){var c,f,h,d,p=n.options,g={},m=function(t){var e=r&&t.attr(r);return"string"==typeof e&&e.length?JSON.parse(e):null},v=function(e,r){e=t(e);var u=E(e.attr("value"));if(u||i.allowEmptyOption)if(g.hasOwnProperty(u)){if(r){var l=g[u][s];l?t.isArray(l)?l.push(r):g[u][s]=[l,r]:g[u][s]=r}}else{var c=m(e)||{};c[o]=c[o]||e.text(),c[a]=c[a]||u,c[s]=c[s]||r,g[u]=c,p.push(c),e.is(":selected")&&n.items.push(u)
}},y=function(e){var i,r,o,a,s;for(e=t(e),o=e.attr("label"),o&&(a=m(e)||{},a[u]=o,a[l]=o,n.optgroups.push(a)),s=t("option",e),i=0,r=s.length;r>i;i++)v(s[i],o)};for(n.maxItems=e.attr("multiple")?null:1,d=e.children(),c=0,f=d.length;f>c;c++)h=d[c].tagName.toLowerCase(),"optgroup"===h?y(d[c]):"option"===h&&v(d[c])};return this.each(function(){if(!this.selectize){var r,o=t(this),a=this.tagName.toLowerCase(),s=o.attr("placeholder")||o.attr("data-placeholder");s||i.allowEmptyOption||(s=o.children('option[value=""]').text());var u={placeholder:s,options:[],optgroups:[],items:[]};"select"===a?f(o,u):c(o,u),r=new L(o,t.extend(!0,{},n,u,e))}})},t.fn.selectize.defaults=L.defaults,t.fn.selectize.support={validity:$},L.define("drag_drop",function(){if(!t.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var e=this;e.lock=function(){var t=e.lock;return function(){var n=e.$control.data("sortable");return n&&n.disable(),t.apply(e,arguments)}}(),e.unlock=function(){var t=e.unlock;return function(){var n=e.$control.data("sortable");return n&&n.enable(),t.apply(e,arguments)}}(),e.setup=function(){var n=e.setup;return function(){n.apply(this,arguments);var i=e.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:e.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var n=e.$activeItems?e.$activeItems.slice():null,r=[];i.children("[data-value]").each(function(){r.push(t(this).attr("data-value"))}),e.setValue(r),e.setActiveItem(n)}})}}()}}),L.define("dropdown_header",function(e){var n=this;e=t.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},e),n.setup=function(){var i=n.setup;return function(){i.apply(n,arguments),n.$dropdown_header=t(e.html(e)),n.$dropdown.prepend(n.$dropdown_header)}}()}),L.define("optgroup_columns",function(e){var n=this;e=t.extend({equalizeWidth:!0,equalizeHeight:!0},e),this.getAdjacentOption=function(e,n){var i=e.closest("[data-group]").find("[data-selectable]"),r=i.index(e)+n;return r>=0&&r<i.length?i.eq(r):t()},this.onKeyDown=function(){var t=n.onKeyDown;return function(e){var i,r,o,a;return!this.isOpen||e.keyCode!==l&&e.keyCode!==h?t.apply(this,arguments):(n.ignoreHover=!0,a=this.$activeOption.closest("[data-group]"),i=a.find("[data-selectable]").index(this.$activeOption),a=e.keyCode===l?a.prev("[data-group]"):a.next("[data-group]"),o=a.find("[data-selectable]"),r=o.eq(Math.min(o.length-1,i)),void(r.length&&this.setActiveOption(r)))}}();var i=function(){var t,e=i.width,n=document;return"undefined"==typeof e&&(t=n.createElement("div"),t.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',t=t.firstChild,n.body.appendChild(t),e=i.width=t.offsetWidth-t.clientWidth,n.body.removeChild(t)),e},r=function(){var r,o,a,s,u,l,c;if(c=t("[data-group]",n.$dropdown_content),o=c.length,o&&n.$dropdown_content.width()){if(e.equalizeHeight){for(a=0,r=0;o>r;r++)a=Math.max(a,c.eq(r).height());c.css({height:a})}e.equalizeWidth&&(l=n.$dropdown_content.innerWidth()-i(),s=Math.round(l/o),c.css({width:s}),o>1&&(u=l-s*(o-1),c.eq(o-1).css({width:u})))}};(e.equalizeHeight||e.equalizeWidth)&&(T.after(this,"positionDropdown",r),T.after(this,"refreshOptions",r))}),L.define("remove_button",function(e){if("single"!==this.settings.mode){e=t.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e);var n=this,i='<a href="javascript:void(0)" class="'+e.className+'" tabindex="-1" title="'+k(e.title)+'">'+e.label+"</a>",r=function(t,e){var n=t.search(/(<\/[^>]+>\s*)$/);return t.substring(0,n)+e+t.substring(n)};this.setup=function(){var o=n.setup;return function(){if(e.append){var a=n.settings.render.item;n.settings.render.item=function(){return r(a.apply(this,arguments),i)}}o.apply(this,arguments),this.$control.on("click","."+e.className,function(e){if(e.preventDefault(),!n.isLocked){var i=t(e.currentTarget).parent();n.setActiveItem(i),n.deleteSelection()&&n.setCaret(n.items.length)}})}}()}}),L.define("restore_on_backspace",function(t){var e=this;t.text=t.text||function(t){return t[this.settings.labelField]},this.onKeyDown=function(){var n=e.onKeyDown;return function(e){var i,r;return e.keyCode===g&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1,i>=0&&i<this.items.length)?(r=this.options[this.items[i]],this.deleteSelection(e)&&(this.setTextboxValue(t.text.apply(this,[r])),this.refreshOptions(!0)),void e.preventDefault()):n.apply(this,arguments)}}()}),L}),function(){"use strict";angular.module("vlui",["LocalStorageModule","ui.select","angular-websql"]).constant("_",window._).constant("dl",window.dl).constant("vl",window.vl).constant("vg",window.vg).constant("Papa",window.Papa).constant("Blob",window.Blob).constant("URL",window.URL).constant("Drop",window.Drop).constant("Heap",window.Heap).constant("consts",{addCount:!0,debug:!0,useUrl:!0,logging:!1,defaultConfigSet:"large",appId:"vlui",priority:{bookmark:0,popup:0,vislist:1e3},myriaRest:"http://ec2-52-1-38-182.compute-1.amazonaws.com:8753"})}(),function(){angular.module("vlui").run(["$templateCache",function(t){t.put("bookmarklist/bookmarklist.html",'<div class="modal" ng-show="active"><div class="wrapper"><div class="vflex full-width full-height" id="evs" ng-if="active"><div class="modal-header no-shrink card no-top-margin no-right-margin"><div class="right"><a ng-click="deactivate()" class="right">Close</a></div><h2 class="no-bottom-margin">Bookmarks ({{ Bookmarks.length }})</h2><a ng-click="Bookmarks.clear()"><i class="fa fa-trash-o"></i> Clear all</a></div><div class="flex-grow-1 scroll-y"><div ng-if="Bookmarks.length > 0" class="vis-list hflex flex-wrap"><vl-plot-group ng-repeat="chart in Bookmarks.dict | orderObjectBy : \'timeAdded\' : false" class="wrapped-vl-plot-group" chart="chart" field-set="chart.fieldSet" show-bookmark="true" show-debug="consts.debug" show-expand="false" always-selected="true" highlighted="highlighted" ng-mouseover="(highlighted||{})[field.name] = true" ng-mouseout="(highlighted||{})[field.name] = false" overflow="true" tooltip="true" priority="consts.priority.bookmark"></vl-plot-group></div><div class="vis-list-empty" ng-if="Bookmarks.length === 0">You have no bookmarks</div></div></div></div></div>'),t.put("dataset/addmyriadataset.html",'<div class="add-myria-dataset"><h3>Add a dataset from Myria</h3><p>Select a dataset from the Myria instance at <code>{{myriaRestUrl}}</code>.</p><form><ui-select ng-model="$parent.myriaDataset" style="width: 300px" theme="selectize" ng-disabled="disabled" reset-search-input="false"><ui-select-match placeholder="Select dataset...">{{$select.selected.relationName}}</ui-select-match><ui-select-choices id="dataset-name" repeat="dataset in myriaDatasets" refresh="loadDatasets($select.search)" refresh-delay="100">{{ dataset.userName}}:{{dataset.programName}}:{{dataset.relationName }}</ui-select-choices></ui-select><button type="submit" ng-click="addFromMyria(myriaDataset)">Add dataset</button></form></div>'),t.put("dataset/addurldataset.html",'<div class="add-url-dataset"><h3>Add a dataset from URL</h3><p>Add the name of the dataset and the URL to a <b>JSON</b> or <b>CSV</b> (with header) file. Make sure that the formatting is correct and clean the data before adding it to Voyager. The added dataset is only visible to you.</p><form><div class="form-group"><label for="dataset-name">Name</label> <input ng-model="addedDataset.name" id="dataset-name" type="text"></div><div class="form-group"><label for="dataset-url">URL</label> <input ng-model="addedDataset.url" id="dataset-url" type="url"><p>Make sure that you host the file on a server that has <code>Access-Control-Allow-Origin: *</code> set.</p></div><button type="submit" ng-click="addFromUrl(addedDataset)">Add dataset</button></form></div>'),t.put("dataset/datasetselector.html",'<div><div class="open-dataset-popup"></div><select id="dataset-select" ng-model="Dataset.dataset" ng-change="datasetChanged()" ng-options="dataset.name group by dataset.group for dataset in Dataset.datasets track by dataset.id"><option value="">Add dataset...</option></select><div class="drop-container"><div class="popup-menu popup-new-dataset"><div class="right"><a class="fa fa-close" ng-click="doneAdd()"></a></div><div class="hflex"><add-url-dataset></add-url-dataset><add-myria-dataset></add-myria-dataset><paste-dataset></paste-dataset></div></div></div></div>'),t.put("dataset/pastedataset.html",'<div class="paste-data"><h3>Paste raw data</h3><p>Paste data in <a href="https://en.wikipedia.org/wiki/Comma-separated_values">CSV</a> format. Please include a header with field names.</p><form><div class="form-group"><label for="dataset-name">Name</label> <input ng-model="datasetName" id="dataset-name" type="name"></div><div class="form-group"><textarea ng-model="data"></textarea></div><button type="submit" ng-click="addPasted()">Add data</button></form></div>'),t.put("fieldinfo/fieldinfo.html",'<span class="field-info"><span class="hflex full-width" ng-click="clicked($event)"><span class="type-caret" ng-class="{active: !disableCountCaret || field.aggregate!==\'count\'}"><i class="fa fa-caret-down" ng-show="showCaret"></i> <span class="type icon-small icon-type-{{typeNames[field.type]}}" ng-show="showType" title="{{typeNames[field.type]}}">{{field.type}}</span></span> <span ng-if="field.aggregate!==\'count\'" class="field-info-text"><span ng-if="func(field)" class="field-func" ng-class="{any: field._any}">{{ func(field) }}</span><span class="field-name" ng-class="{hasfunc: func(field), any: field._any}">{{ field.name | underscore2space }}</span></span> <span ng-if="field.aggregate===\'count\'" class="field-count field-info-text"><span class="field-name">COUNT</span></span> <span class="no-shrink remove" ng-show="showRemove"><a class="remove-field" ng-click="removeAction()"><i class="fa fa-times"></i></a></span> <span class="no-shrink info" ng-show="showInfo"><i ng-if="field.aggregate !== \'count\' && isTypes(field, [\'N\', \'O\'])" class="fa fa-info-circle" tooltips="" tooltip-size="small" tooltip-html="<div class=\'tooltip-content\'> <strong>Name:</strong> {{field.name}}<br> <strong>Cardinality:</strong> {{stats.distinct | number}}<br> <strong>Min:</strong> {{stats.min}}<br> <strong>Max:</strong> {{stats.max}}<br> <strong>Max length:</strong> {{stats.maxlength | number}}<br> <strong>Sample:</strong> <span class=\'sample\'>{{stats.sample.join(\', \')}}</span> </div>" tooltip-side="right"></i> <i ng-if="field.aggregate !== \'count\' && field.type === \'T\'" class="fa fa-info-circle" tooltips="" tooltip-size="small" tooltip-html="<div class=\'tooltip-content\'> <strong>Name:</strong> {{field.name}}<br> <strong>Cardinality:</strong> {{stats.distinct | number}}<br> <strong>Min:</strong> {{stats.min | date: short}}<br> <strong>Max:</strong> {{stats.max | date: short}}<br> <strong>Sample:</strong> <span class=\'sample\'>{{stats.sample.join(\', \')}}</span> </div>" tooltip-side="right"></i> <i ng-if="field.aggregate !== \'count\' && field.type === \'Q\'" class="fa fa-info-circle" tooltips="" tooltip-size="small" tooltip-html="<div class=\'tooltip-content\'> <strong>Name:</strong> {{field.name}}<br> <strong>Cardinality:</strong> {{stats.distinct | number}}<br> <strong>Min:</strong> {{stats.min | number}}<br> <strong>Max:</strong> {{stats.max | number}}<br> <strong>Stdev:</strong> {{stats.stdev | number:2}}<br> <strong>Mean:</strong> {{stats.mean | number:2}}<br> <strong>Median:</strong> {{stats.median | number}}<br> <strong>Sample:</strong> <span class=\'sample\'>{{stats.sample.join(\', \')}}</span> </div>" tooltip-side="right"></i><i ng-if="field.aggregate === \'count\'" class="fa fa-info-circle" tooltips="" tooltip-size="small" tooltip-html="<div class=\'tooltip-content\'> <strong>Count:</strong> {{count}} </div>" tooltip-side="right"></i></span></span></span>'),t.put("vlplot/vlplot.html",'<div class="vis" id="vis-{{visId}}" ng-class="{ fit: !alwaysScrollable && !overflow && (maxHeight && (!height || height <= maxHeight)) && (maxWidth && (!width || width <= maxWidth)), overflow: alwaysScrollable || overflow || (maxHeight && height && height > maxHeight) || (maxWidth && width && width > maxWidth), scroll: alwaysScrollable || unlocked || hoverFocus }" ng-mousedown="unlocked=!thumbnail" ng-mouseup="unlocked=false" ng-mouseover="mouseover()" ng-mouseout="mouseout()"><div class="vis-tooltip" ng-show="tooltipActive"><table><tr ng-repeat="p in data"><td class="key">{{p[0]}}</td><td class="value"><b ng-if="p.isNumber">{{p[1]| number: 2}}</b> <b ng-if="!p.isNumber">{{p[1]}}</b></td></tr></table></div></div>'),t.put("vlplotgroup/vlplotgroup.html",'<div class="vl-plot-group card vflex"><div ng-show="showExpand || fieldSet || showBookmark || showToggle" class="vl-plot-group-header full-width no-shrink"><div class="field-set-info"><field-info ng-repeat="field in fieldSet" ng-if="fieldSet" field="field" show-type="true" ng-class="{ selected: alwaysSelected || (isSelected && isSelected(field.name)), unselected: isSelected && !isSelected(field.name), highlighted: (highlighted||{})[field.name] }" ng-mouseover="(highlighted||{})[field.name] = true" ng-mouseout="(highlighted||{})[field.name] = false"></field-info></div><div class="toolbox"><a ng-show="consts.debug && showDebug" class="command debug"><i class="fa fa-wrench" ng-click="shCopied=false; vlCopied=false; vgCopied=false;"></i></a><div class="drop-container"><div class="popup-menu popup-command no-shrink dev-tool"><a class="command debug" ui-zeroclip="" zeroclip-copied="shCopied=true" zeroclip-model="chart.shorthand">Copy Vls <span ng-show="shCopied">(Copied)</span></a> <a class="command debug" ui-zeroclip="" zeroclip-copied="vlCopied=true" zeroclip-model="chart.cleanSpec | compactJSON">Copy Vl <span ng-show="vlCopied">(Copied)</span></a> <a class="command debug" ui-zeroclip="" zeroclip-copied="vgCopied=true" zeroclip-model="chart.vgSpec | compactJSON">Copy Vg <span ng-show="vgCopied">(Copied)</span></a> <a class="command debug" ng-href="{{ {type:\'vl\', encoding: chart.cleanSpec} | reportUrl }}" target="_blank">Report Bad Render</a> <a ng-click="showFeature=!showFeature" class="command debug">{{chart.score}}</a><div ng-repeat="f in chart.scoreFeatures track by f.reason">[{{f.score}}] {{f.reason}}</div></div></div><a ng-if="showMarkType" class="command disabled"><i class="fa fa-font"></i> <i class="fa fa-line-chart"></i> <i class="fa fa-area-chart"></i> <i class="fa fa-bar-chart"></i> <i class="fa fa-circle-o"></i></a> <a ng-if="showLog && chart.vlSpec && log.support(chart.vlSpec, \'x\')" class="command" ng-click="log.toggle(chart.vlSpec, \'x\')" ng-class="{active: log.active(chart.vlSpec, \'x\')}"><i class="fa fa-long-arrow-right"></i> <small>LOG X</small></a> <a ng-if="showLog && chart.vlSpec && log.support(chart.vlSpec, \'y\')" class="command" ng-click="log.toggle(chart.vlSpec, \'y\')" ng-class="{active: log.active(chart.vlSpec, \'y\')}"><i class="fa fa-long-arrow-up"></i> <small>LOG Y</small></a> <a ng-show="showSort && chart.vlSpec && toggleSort.support(chart.vlSpec, Dataset.stats)" class="command" ng-click="toggleSort(chart.vlSpec)"><i class="fa sort" ng-class="toggleSortClass(chart.vlSpec)"></i> <small ng-if="showLabel">Sort</small></a> <a ng-if="showFilterNull && chart.vlSpec && toggleFilterNull.support(chart.vlSpec, Dataset.stats)" class="command" ng-click="toggleFilterNull(chart.vlSpec)" ng-class="{active: chart.vlSpec && chart.vlSpec.cfg.filterNull.O}"><i class="fa fa-filter"></i> <small ng-if="showLabel">Filter</small> <small>NULL</small></a> <a ng-if="showTranspose" class="command" ng-click="transpose()"><i class="fa fa-refresh transpose"></i> <small ng-if="showLabel">Transpose</small></a> <a ng-if="showBookmark" class="command" ng-click="Bookmarks.toggle(chart)" ng-class="{disabled: !chart.vlSpec.encoding, active: Bookmarks.isBookmarked(chart.shorthand)}"><i class="fa fa-bookmark"></i> <small ng-if="showLabel">Bookmark</small></a> <a ng-if="showExpand" ng-click="expandAction()" class="command"><i class="fa fa-expand"></i></a></div></div><div class="vl-plot-wrapper full-width vis-{{fieldSet.key}} flex-grow-1"><vl-plot chart="chart" disabled="disabled" is-in-list="isInList" always-scrollable="alwaysScrollable" config-set="{{configSet||\'small\'}}" max-height="maxHeight" max-width="maxWidth" overflow="overflow" priority="priority" rescale="rescale" thumbnail="thumbnail" tooltip="tooltip"></vl-plot></div></div>')}])}(),function(){"use strict";angular.module("vlui").service("Alerts",["$timeout","_",function(t,e){var n={};return n.alerts=[],n.add=function(i,r){var o={msg:i};n.alerts.push(o),r&&t(function(){var t=e.findIndex(n.alerts,o);n.closeAlert(t)},r)},n.closeAlert=function(t){n.alerts.splice(t,1)},n}])}(),function(){"use strict";angular.module("vlui").directive("bookmarkList",["Bookmarks","consts",function(t,e){return{templateUrl:"bookmarklist/bookmarklist.html",restrict:"E",replace:!0,scope:{active:"=",deactivate:"&",highlighted:"="},link:function(n){n.Bookmarks=t,n.consts=e}}}])}(),function(){"use strict";angular.module("vlui").service("Bookmarks",["_","vl","localStorageService","Logger",function(t,e,n,i){var r=function(){this.dict={},this.length=0},o=r.prototype;return o.updateLength=function(){this.length=Object.keys(this.dict).length},o.save=function(){n.set("bookmarks",this.dict)},o.load=function(){this.dict=n.get("bookmarks")||{},this.updateLength()},o.clear=function(){this.dict={},this.updateLength(),this.save(),i.logInteraction(i.actions.BOOKMARKS_CLEAR)},o.toggle=function(t){var e=t.shorthand;this.dict[e]?this.remove(t):this.add(t)},o.add=function(e){var n=e.shorthand;console.log("adding",e.vlSpec,n),e.timeAdded=(new Date).getTime(),this.dict[n]=t.cloneDeep(e),this.updateLength(),this.save(),i.logInteraction(i.actions.BOOKMARK_ADD,n)},o.remove=function(t){var e=t.shorthand;console.log("removing",t.vlSpec,e),delete this.dict[e],this.updateLength(),this.save(),i.logInteraction(i.actions.BOOKMARK_REMOVE,e)},o.isBookmarked=function(t){return t in this.dict},new r}])}(),function(){"use strict";angular.module("vlui").factory("Config",["vl","_",function(t,e){var n={};return n.schema=t.schema.schema.properties.config,n.dataschema=t.schema.schema.properties.data,n.data=t.schema.util.instantiate(n.dataschema),n.config=t.schema.util.instantiate(n.schema),n.getConfig=function(){return e.cloneDeep(n.config)},n.getData=function(){return e.cloneDeep(n.data)},n.large=function(){return{singleWidth:400,singleHeight:400,largeBandMaxCardinality:20}},n.small=function(){return{}},n.updateDataset=function(t,e){t.values?(n.data.values=t.values,delete n.data.url,n.data.formatType=void 0):(n.data.url=t.url,delete n.data.values,n.data.formatType=e)},n}])}(),function(){"use strict";angular.module("vlui").directive("addMyriaDataset",["$http","Dataset","consts",function(t,e,n){return{templateUrl:"dataset/addmyriadataset.html",restrict:"E",replace:!0,scope:!1,link:function(i){i.myriaRestUrl=n.myriaRest,i.myriaDatasets=[],i.myriaDataset=null,i.loadDatasets=function(e){return t.get(i.myriaRestUrl+"/dataset/search/?q="+e).then(function(t){i.myriaDatasets=t.data})},i.addFromMyria=function(t){var n={group:"myria",name:t.relationName,url:i.myriaRestUrl+"/dataset/user-"+t.userName+"/program-"+t.programName+"/relation-"+t.relationName+"/data?format=json"};e.type="json",e.dataset=e.add(angular.copy(n)),i.datasetChanged(),i.myriaDataset=null,i.doneAdd()}}}}])}(),function(){"use strict";angular.module("vlui").directive("addUrlDataset",["Dataset",function(t){return{templateUrl:"dataset/addurldataset.html",restrict:"E",replace:!0,scope:!1,link:function(e){e.addedDataset={group:"user"},e.addFromUrl=function(n){t.dataset=t.add(angular.copy(n)),e.datasetChanged(),e.addedDataset.name="",e.addedDataset.url="",e.doneAdd()}}}}])}(),function(){"use strict";function t(t){return t.reduce(function(t,e){return t[e.name]=e,t},{})}var e=[{name:"Barley",url:"data/barley.json",id:"barley",group:"sample"},{name:"Cars",url:"data/cars.json",id:"cars",group:"sample"},{name:"Crimea",url:"data/crimea.json",id:"crimea",group:"sample"},{name:"Driving",url:"data/driving.json",id:"driving",group:"sample"},{name:"Iris",url:"data/iris.json",id:"iris",group:"sample"},{name:"Jobs",url:"data/jobs.json",id:"jobs",group:"sample"},{name:"Population",url:"data/population.json",id:"population",group:"sample"},{name:"Movies",url:"data/movies.json",id:"movies",group:"sample"},{name:"Birdstrikes",url:"data/birdstrikes.json",id:"birdstrikes",group:"sample"},{name:"Burtin",url:"data/burtin.json",id:"burtin",group:"sample"},{name:"Budget 2016",url:"data/budget.json",id:"budget",group:"sample"},{name:"Climate Normals",url:"data/climate.json",id:"climate",group:"sample"},{name:"Campaigns",url:"data/weball26.json",id:"weball26",group:"sample"}];angular.module("vlui").factory("Dataset",["$http","$q","Alerts","_","Papa","dl","vl",function(n,i,r,o,a,s,u){var l={};return l.datasets=e,l.dataset=e[1],l.currentDataset=void 0,l.dataschema=[],l.dataschema.byName={},l.stats={},l.type=void 0,l.typeNames={N:"text",O:"text-ordinal",Q:"number",T:"time",G:"geo"},l.fieldOrder=u.field.order.typeThenName,l.getSchema=function(t,e,n){var i=s.type.inferAll(t),r=o.reduce(i,function(t,n,i){var r={name:i,type:u.data.types[n],primitiveType:n};return"Q"===r.type&&e[r.name].distinct<=5&&(r.type="O"),t.push(r),t},[]);return r=s.stablesort(r,n||u.field.order.typeThenName,u.field.order.name),r.push(u.field.count()),r},l.getStats=function(t){var e=s.summary(t);return e.reduce(function(t,e){return t[e.field]=e,t},{count:t.length})},l.onUpdate=[],l.update=function(t){var e;return e=t.values?i(function(e){l.type=void 0,l.updateFromData(t,t.values),e()}):n.get(t.url,{cache:!0}).then(function(e){var n;if(o.isObject(e.data))n=e.data,l.type="json";else{var i=a.parse(e.data,{dynamicTyping:!0,header:!0});if(0!==i.errors.length)return void o.each(i.errors,function(t){r.add(t.message,2e3)});n=i.data,l.type="csv"}l.updateFromData(t,n)}),l.onUpdate.forEach(function(t){e=e.then(t)}),e},l.updateFromData=function(e,n){l.data=n,l.currentDataset=e,l.stats=l.getStats(l.data),l.dataschema=l.getSchema(l.data,l.stats),l.dataschema.byName=t(l.dataschema)},l.add=function(t){return t.id||(t.id=t.url),e.push(t),t},l}])}(),function(){"use strict";angular.module("vlui").directive("datasetSelector",["Drop","Dataset","Config","Logger",function(t,e,n,i){return{templateUrl:"dataset/datasetselector.html",restrict:"E",replace:!0,scope:{},link:function(r,o){r.Dataset=e,r.datasetChanged=function(){return e.dataset?(i.logInteraction(i.actions.DATASET_CHANGE,e.dataset.name),void e.update(e.dataset).then(function(){n.updateDataset(e.dataset,e.type)})):(e.dataset=e.currentDataset,void a.open())},r.doneAdd=function(){a.close()};var a=new t({content:o.find(".popup-new-dataset")[0],target:o.find(".open-dataset-popup")[0],position:"right top",openOn:!1});r.$on("$destroy",function(){a.destroy(),a=null})}}}])}(),function(){"use strict";angular.module("vlui").directive("pasteDataset",["Dataset","Alerts","Logger","Config","_","Papa",function(t,e,n,i,r,o){return{templateUrl:"dataset/pastedataset.html",restrict:"E",replace:!0,scope:!1,link:function(n){n.datasetName="",n.data="",n.addPasted=function(){var i,a=o.parse(n.data,{dynamicTyping:!0,header:!0});if(0!==a.errors.length)return void r.each(a.errors,function(t){e.add(t.message,2e3)});i=a.data;var s={id:Date.now(),name:n.datasetName,values:i,group:"pasted"};t.dataset=t.add(angular.copy(s)),n.datasetChanged(),n.datasetName="",n.data="",n.doneAdd()}}}}])}(),function(){"use strict";angular.module("vlui").directive("fieldInfo",["Dataset","Drop","vl",function(t,e,n){return{templateUrl:"fieldinfo/fieldinfo.html",restrict:"E",replace:!0,scope:{field:"=",showType:"=",showInfo:"=",showCaret:"=",popupContent:"=",showRemove:"=",removeAction:"&",action:"&",disableCountCaret:"="},link:function(i,r){var o;i.typeNames=t.typeNames,i.stats=t.stats[i.field.name],i.count=t.stats.count,i.isTypes=n.field.isTypes,i.clicked=function(t){i.action&&t.target!==r.find(".fa-caret-down")[0]&&t.target!==r.find("span.type")[0]&&i.action(t)},i.func=function(t){return t.aggregate||t.timeUnit||t.bin&&"bin"||t._aggr||t._timeUnit||t._bin&&"bin"||t._any&&"auto"},i.$watch("popupContent",function(t){t&&(o&&o.destroy(),o=new e({content:t,target:r.find(".type-caret")[0],position:"bottom left",openOn:"click"}))}),i.$on("$destroy",function(){o&&o.destroy()})}}}])}(),function(){"use strict";angular.module("vlui").service("Logger",["$location","$window","$webSql","consts","Papa","Blob","URL",function(t,e,n,i,r,o,a){var s={},u=t.search().user;return s.db=n.openDatabase("logs","1.0","Logs",2097152),s.tableName="log_"+i.appId,s.actions={INITIALIZE:"INITIALIZE",UNDO:"UNDO",REDO:"REDO",DATASET_CHANGE:"DATASET_CHANGE",CHART_MOUSEOVER:"CHART_MOUSEOVER",CHART_MOUSEOUT:"CHART_MOUSEOUT",CHART_RENDER:"CHART_RENDER",CHART_EXPOSE:"CHART_EXPOSE",CHART_TOOLTIP:"CHART_TOOLTIP",CHART_TOOLTIP_END:"CHART_TOOLTIP_END",BOOKMARK_ADD:"BOOKMARK_ADD",BOOKMARK_REMOVE:"BOOKMARK_REMOVE",BOOKMARKS_CLEAR:"BOOKMARKS_CLEAR",NULL_FILTER_TOGGLE:"NULL_FILTER_TOGGLE",TRANSPOSE_TOGGLE:"TRANSPOSE_TOGGLE",SORT_TOGGLE:"SORT_TOGGLE",MARKTYPE_TOGGLE:"MARKTYPE_TOGGLE",LOG_TOGGLE:"LOG_TOGGLE",FUNC_CHANGE:"FUNC_CHANGE",SPEC_CHANGE:"SPEC_CHANGE",FIELD_DROP:"FIELD_DROP",MARK_CHANGE:"MARK_CHANGE",FIELDS_CHANGE:"FIELDS_CHANGE",FIELDS_RESET:"FIELDS_RESET",DRILL_DOWN_OPEN:"DRILL_DOWN_OPEN",DRILL_DOWN_CLOSE:"DRILL_DOWN_CLOSE",CLUSTER_SELECT:"CLUSTER_SELECT",LOAD_MORE:"LOAD_MORE"},s.createTableIfNotExists=function(){s.db.createTable(s.tableName,{userid:{type:"INTEGER","null":"NOT NULL"},time:{type:"TIMESTAMP","null":"NOT NULL","default":"CURRENT_TIMESTAMP"},action:{type:"TEXT","null":"NOT NULL"},data:{type:"TEXT"},diff:{type:"TEXT"}})},s.clear=function(){var t=e.confirm("Really clear the logs?");t===!0&&(s.db.dropTable(s.tableName),s.createTableIfNotExists())},s.export=function(){s.db.selectAll(s.tableName).then(function(t){if(0===t.rows.length)return void console.warn("No logs");for(var e=[],n=0;n<t.rows.length;n++)e.push(t.rows.item(n));var i=r.unparse(e),u=new o([i],{type:"text/csv"}),l=a.createObjectURL(u),c=angular.element("<a/>");c.attr({href:l,target:"_blank",download:s.tableName+".csv"})[0].click()})},s.logInteraction=function(t,e,n){if(i.logging){var r={userid:u,action:t};void 0!==e&&(r.data=JSON.stringify(e)),void 0!==n&&(r.diff=JSON.stringify(n)),s.db.insert(s.tableName,r).then(function(){})}},s.createTableIfNotExists(),console.log("app:",i.appId,"started"),s.logInteraction(s.actions.INITIALIZE,i.appId),s}])}(),function(){(function(){function t(e,i){function o(t){if(o[t]!==m)return o[t];var e;if("bug-string-char-index"==t)e="a"!="a"[0];else if("json"==t)e=o("json-stringify")&&o("json-parse");else{var n,r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var u=i.stringify,c="function"==typeof u&&b;if(c){(n=function(){return 1}).toJSON=n;try{c="0"===u(0)&&"0"===u(new a)&&'""'==u(new s)&&u(y)===m&&u(m)===m&&u()===m&&"1"===u(n)&&"[1]"==u([n])&&"[null]"==u([m])&&"null"==u(null)&&"[null,null,null]"==u([m,y,null])&&u({a:[n,!0,!1,null,"\x00\b\n\f\r	"]})==r&&"1"===u(null,n)&&"[\n 1,\n 2\n]"==u([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==u(new l(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==u(new l(864e13))&&'"-000001-01-01T00:00:00.000Z"'==u(new l(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==u(new l(-1))}catch(f){c=!1}}e=c}if("json-parse"==t){var h=i.parse;if("function"==typeof h)try{if(0===h("0")&&!h(!1)){n=h(r);var d=5==n.a.length&&1===n.a[0];if(d){try{d=!h('"	"')}catch(f){}if(d)try{d=1!==h("01")}catch(f){}if(d)try{d=1!==h("1.")}catch(f){}}}}catch(f){d=!1}e=d}}return o[t]=!!e}e||(e=r.Object()),i||(i=r.Object());var a=e.Number||r.Number,s=e.String||r.String,u=e.Object||r.Object,l=e.Date||r.Date,c=e.SyntaxError||r.SyntaxError,f=e.TypeError||r.TypeError,h=e.Math||r.Math,d=e.JSON||r.JSON;"object"==typeof d&&d&&(i.stringify=d.stringify,i.parse=d.parse);var p,g,m,v=u.prototype,y=v.toString,b=new l(-0xc782b5b800cec);try{b=-109252==b.getUTCFullYear()&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(w){}var _="[object Function]",x="[object Date]",$="[object Number]",C="[object String]",E="[object Array]",k="[object Boolean]",S=o("bug-string-char-index");if(!b)var T=h.floor,O=[0,31,59,90,120,151,181,212,243,273,304,334],M=function(t,e){return O[e]+365*(t-1970)+T((t-1969+(e=+(e>1)))/4)-T((t-1901+e)/100)+T((t-1601+e)/400)};(p=v.hasOwnProperty)||(p=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=y?p=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,p=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,p.call(this,t)}),g=function(t,e){var i,r,o,a=0;(i=function(){this.valueOf=0}).prototype.valueOf=0,r=new i;for(o in r)p.call(r,o)&&a++;return i=r=null,a?g=2==a?function(t,e){var n,i={},r=y.call(t)==_;for(n in t)r&&"prototype"==n||p.call(i,n)||!(i[n]=1)||!p.call(t,n)||e(n)}:function(t,e){var n,i,r=y.call(t)==_;for(n in t)r&&"prototype"==n||!p.call(t,n)||(i="constructor"===n)||e(n);(i||p.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],g=function(t,e){var i,o,a=y.call(t)==_,s=!a&&"function"!=typeof t.constructor&&n[typeof t.hasOwnProperty]&&t.hasOwnProperty||p;for(i in t)a&&"prototype"==i||!s.call(t,i)||e(i);for(o=r.length;i=r[--o];s.call(t,i)&&e(i));}),g(t,e)};var A={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},D="000000",I=function(t,e){return(D+(e||0)).slice(-t)},N="\\u00",P=function(t){for(var e='"',n=0,i=t.length,r=!S||i>10,o=r&&(S?t.split(""):t);i>n;n++){var a=t.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=A[a];break;default:if(32>a){e+=N+I(2,a.toString(16));break}e+=r?o[n]:t.charAt(n)}}return e+'"'},R=function(t,e,n,i,r,o,a,s){var u,l,c,h,d,v,b,w,_,S,O,A,D,N,L,j;s=s||0;try{u=e[t]}catch(F){}if("object"==typeof u&&u)if(l=y.call(u),l!=x||p.call(u,"toJSON"))"function"==typeof u.toJSON&&(l!=$&&l!=C&&l!=E||p.call(u,"toJSON"))&&(u=u.toJSON(t));else if(u>-1/0&&1/0>u){if(M){for(d=T(u/864e5),c=T(d/365.2425)+1970-1;M(c+1,0)<=d;c++);for(h=T((d-M(c,0))/30.42);M(c,h+1)<=d;h++);d=1+d-M(c,h),v=(u%864e5+864e5)%864e5,b=T(v/36e5)%24,w=T(v/6e4)%60,_=T(v/1e3)%60,S=v%1e3}else c=u.getUTCFullYear(),h=u.getUTCMonth(),d=u.getUTCDate(),b=u.getUTCHours(),w=u.getUTCMinutes(),_=u.getUTCSeconds(),S=u.getUTCMilliseconds();u=(0>=c||c>=1e4?(0>c?"-":"+")+I(6,0>c?-c:c):I(4,c))+"-"+I(2,h+1)+"-"+I(2,d)+"T"+I(2,b)+":"+I(2,w)+":"+I(2,_)+"."+I(3,S)+"Z"}else u=null;if(n&&(u=n.call(e,t,u)),null===u)return"null";if(l=y.call(u),l==k)return""+u;if(l==$)return u>-1/0&&1/0>u?""+u:"null";if(l==C)return P(""+u);if("object"==typeof u){for(N=a.length;N--;)if(a[N]===u)throw f();if(a.push(u),O=[],L=o,o+=r,l==E){var j,H=o.length;for(D=0,N=u.length;N>D;D++)A=R(D,u,n,i,r,o,a,s),j=A===m?"null":A,H+=j.length+(D>0?1:0),O.push(j);j=O.length?r&&H>s?"[\n"+o+O.join(",\n"+o)+"\n"+L+"]":"["+O.join(",")+"]":"[]"}else{var H=o.length,D=0;g(i||u,function(t){var e,l=R(t,u,n,i,r,o,a,s);l!==m&&(e=P(t)+":"+(r?" ":"")+l,H+=e.length+(D++>0?1:0),O.push(e))}),j=O.length?r&&H>s?"{\n"+o+O.join(",\n"+o)+"\n"+L+"}":"{"+O.join(",")+"}":"{}"}return a.pop(),j}};if(i.stringify=function(t,e,i,r){var o,a,s,u;if(n[typeof e]&&e)if((u=y.call(e))==_)a=e;
else if(u==E){s={};for(var l,c=0,f=e.length;f>c;l=e[c++],u=y.call(l),(u==C||u==$)&&(s[l]=1));}if(i)if((u=y.call(i))==$){if((i-=i%1)>0)for(o="",i>10&&(i=10);o.length<i;o+=" ");}else u==C&&(o=i.length<=10?i:i.slice(0,10));return R("",(l={},l[""]=t,l),a,s,o,"",[],r)},i.compactStringify=function(t,e,n){return i.stringify(t,e,n,60)},!o("json-parse")){var L,j,F=s.fromCharCode,H={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},z=function(){throw L=j=null,c()},q=function(){for(var t,e,n,i,r,o=j,a=o.length;a>L;)switch(r=o.charCodeAt(L)){case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=S?o.charAt(L):o[L],L++,t;case 34:for(t="@",L++;a>L;)if(r=o.charCodeAt(L),32>r)z();else if(92==r)switch(r=o.charCodeAt(++L)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=H[r],L++;break;case 117:for(e=++L,n=L+4;n>L;L++)r=o.charCodeAt(L),r>=48&&57>=r||r>=97&&102>=r||r>=65&&70>=r||z();t+=F("0x"+o.slice(e,L));break;default:z()}else{if(34==r)break;for(r=o.charCodeAt(L),e=L;r>=32&&92!=r&&34!=r;)r=o.charCodeAt(++L);t+=o.slice(e,L)}if(34==o.charCodeAt(L))return L++,t;z();default:if(e=L,45==r&&(i=!0,r=o.charCodeAt(++L)),r>=48&&57>=r){for(48==r&&(r=o.charCodeAt(L+1),r>=48&&57>=r)&&z(),i=!1;a>L&&(r=o.charCodeAt(L),r>=48&&57>=r);L++);if(46==o.charCodeAt(L)){for(n=++L;a>n&&(r=o.charCodeAt(n),r>=48&&57>=r);n++);n==L&&z(),L=n}if(r=o.charCodeAt(L),101==r||69==r){for(r=o.charCodeAt(++L),(43==r||45==r)&&L++,n=L;a>n&&(r=o.charCodeAt(n),r>=48&&57>=r);n++);n==L&&z(),L=n}return+o.slice(e,L)}if(i&&z(),"true"==o.slice(L,L+4))return L+=4,!0;if("false"==o.slice(L,L+5))return L+=5,!1;if("null"==o.slice(L,L+4))return L+=4,null;z()}return"$"},U=function(t){var e,n;if("$"==t&&z(),"string"==typeof t){if("@"==(S?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=q(),"]"!=t;n||(n=!0))n&&(","==t?(t=q(),"]"==t&&z()):z()),","==t&&z(),e.push(U(t));return e}if("{"==t){for(e={};t=q(),"}"!=t;n||(n=!0))n&&(","==t?(t=q(),"}"==t&&z()):z()),(","==t||"string"!=typeof t||"@"!=(S?t.charAt(0):t[0])||":"!=q())&&z(),e[t.slice(1)]=U(q());return e}z()}return t},W=function(t,e,n){var i=B(t,e,n);i===m?delete t[e]:t[e]=i},B=function(t,e,n){var i,r=t[e];if("object"==typeof r&&r)if(y.call(r)==E)for(i=r.length;i--;)W(r,i,n);else g(r,function(t){W(r,t,n)});return n.call(t,e,r)};i.parse=function(t,e){var n,i;return L=0,j=""+t,n=U(q()),"$"!=q()&&z(),L=j=null,e&&y.call(e)==_?B((i={},i[""]=n,i),"",e):n}}return i.runInContext=t,i}var e="function"==typeof define&&define.amd,n={"function":!0,object:!0},i=n[typeof exports]&&exports&&!exports.nodeType&&exports,r=n[typeof window]&&window||this,o=i&&n[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!o||o.global!==o&&o.window!==o&&o.self!==o||(r=o),i&&!e)t(r,i);else{var a=r.JSON,s=r.JSON3,u=!1,l=t(r,r.JSON3={noConflict:function(){return u||(u=!0,r.JSON=a,r.JSON3=s,a=s=null),l}});r.JSON={parse:l.parse,stringify:l.stringify}}e&&define(function(){return l})}).call(this)}(),function(){"use strict";angular.module("vlui").directive("vlPlotGroup",["Bookmarks","consts","vl","Dataset","Drop","Logger",function(t,e,n,i,r,o){return{templateUrl:"vlplotgroup/vlplotgroup.html",restrict:"E",replace:!0,scope:{chart:"=",disabled:"=",isInList:"=",alwaysScrollable:"=",configSet:"@",maxHeight:"=",maxWidth:"=",overflow:"=",priority:"=",rescale:"=",thumbnail:"=",tooltip:"=",fieldSet:"=",showBookmark:"@",showDebug:"=",showExpand:"=",showFilterNull:"@",showLabel:"@",showLog:"@",showMarkType:"@",showSort:"@",showTranspose:"@",alwaysSelected:"=",isSelected:"=",highlighted:"=",expandAction:"&"},link:function(a,s){a.Bookmarks=t,a.consts=e,a.Dataset=i,a.log={},a.log.support=function(t,e){if(!t)return!1;var n=t.encoding,i=n[e];return i&&"Q"===i.type&&!i.bin},a.log.toggle=function(t,e){if(a.log.support(t,e)){var n=t.encoding[e],i=n.scale=n.scale||{};i.type="log"===i.type?"linear":"log",o.logInteraction(o.actions.LOG_TOGGLE,a.chart.shorthand)}},a.log.active=function(t,e){if(a.log.support(t,e)){var n=t.encoding[e],i=n.scale=n.scale||{};return"log"===i.type}};var u=a.toggleSort=function(t){o.logInteraction(o.actions.SORT_TOGGLE,a.chart.shorthand),n.Encoding.toggleSort(t)};u.support=n.Encoding.toggleSort.support,a.toggleFilterNull=function(t,e){o.logInteraction(o.actions.NULL_FILTER_TOGGLE,a.chart.shorthand),n.Encoding.toggleFilterNullO(t,e)},a.toggleFilterNull.support=n.Encoding.toggleFilterNullO.support;var l=new r({content:s.find(".dev-tool")[0],target:s.find(".fa-wrench")[0],position:"bottom right",openOn:"click",constrainToWindow:!0});a.toggleSortClass=function(t){var e=t&&n.Encoding.toggleSort.direction(t),i=t&&n.Encoding.toggleSort.mode(t);return"y"===e?"Q"===i?"fa-sort-amount-desc":"fa-sort-alpha-asc":"x"===e?"Q"===i?"fa-sort-amount-desc sort-x":"fa-sort-alpha-asc sort-x":"invisible"},a.transpose=function(){o.logInteraction(o.actions.TRANSPOSE_TOGGLE,a.chart.shorthand),n.Encoding.transpose(a.chart.vlSpec)},a.$on("$destroy",function(){a.chart=null,l.destroy()})}}}])}(),function(){"use strict";angular.module("vlui").directive("vlPlot",["vl","vg","$timeout","$q","Dataset","Config","consts","_","$document","Logger","Heap",function(t,e,n,i,r,o,a,s,u,l,c){function f(t,e){return t>d||e>d||t*e>p?"svg":"canvas"}var h=0,d=16383.5,p=67108864,g=new c(function(t,e){return e.priority-t.priority}),m=!1;return{templateUrl:"vlplot/vlplot.html",restrict:"E",scope:{chart:"=",disabled:"=",isInList:"=",alwaysScrollable:"=",configSet:"@",maxHeight:"=",maxWidth:"=",overflow:"=",priority:"=",rescale:"=",thumbnail:"=",tooltip:"="},replace:!0,link:function(i,c){function d(t,r){r.datum.data&&(i.tooltipPromise=n(function(){i.tooltipActive=!0,l.logInteraction(l.actions.CHART_TOOLTIP,r.datum),i.data=s.pairs(r.datum.data).map(function(t){return t.isNumber=e.isNumber(t[1]),t}),i.$digest();var n=c.find(".vis-tooltip"),o=angular.element(u),a=n.width(),f=n.height();t.pageY+10+f<o.height()?n.css("top",t.pageY+10):n.css("top",t.pageY-10-f),t.pageX+10+a<o.width()?n.css("left",t.pageX+10):n.css("left",t.pageX-10-a)},x))}function p(t,e){var r=c.find(".vis-tooltip");r.css("top",null),r.css("left",null),n.cancel(i.tooltipPromise),i.tooltipActive&&l.logInteraction(l.actions.CHART_TOOLTIP_END,e.datum),i.tooltipActive=!1,i.data=[],i.$digest()}function v(){var e=i.configSet||a.defaultConfigSet||{};if(i.chart.vlSpec){var n=s.cloneDeep(i.chart.vlSpec);return t.extend(n.config,o[e]()),t.compile(n,r.stats)}}function y(){if(i.rescale){for(var t=i.maxWidth>0?i.maxWidth/i.width:1,e=i.maxHeight>0?i.maxHeight/i.height:1,n=Math.min(t,e),r=1;.75*r>n;)r/=2;var o=100*r/2&&0;c.find(".vega").css("transform","translate(-"+o+"%, -"+o+"%) scale("+r+")")}else c.find(".vega").css("transform",null)}function b(){if(g.size()>0){var t=g.pop();t.parse()}else m=!1}function w(n){function o(){if(i.destroyed||i.disabled||i.isInList&&i.chart.fieldSetKey&&!i.isInList(i.chart.fieldSetKey))return console.log("cancel rendering",s),void b();var t=(new Date).getTime();e.parse.spec(n,function(e){try{var o=(new Date).getTime();$=null,$=e({el:c[0]}),a.useUrl||$.data({raw:r.data}),i.width=$.width(),i.height=$.height(),$.renderer(f(n.width,i.height)),$.update(),l.logInteraction(l.actions.CHART_RENDER,i.chart.vlSpec),y();var u=(new Date).getTime();console.log("parse spec",o-t,"charting",u-o,s),i.tooltip&&($.on("mouseover",d),$.on("mouseout",p))}catch(h){console.error(h)}finally{b()}})}if(!n)return void($&&($.off("mouseover"),$.off("mouseout")));i.height=n.height,c||console.error("can not find vis element");var s=i.chart.shorthand||(i.chart.vlSpec?t.Encoding.shorthand(i.chart.vlSpec):"");i.renderer=f(n),m?g.push({priority:i.priority||0,parse:o}):(m=!0,o())}var _=500,x=250;i.visId=h++,i.hoverPromise=null,i.tooltipPromise=null,i.hoverFocus=!1,i.tooltipActive=!1,i.destroyed=!1,i.mouseover=function(){i.hoverPromise=n(function(){l.logInteraction(l.actions.CHART_MOUSEOVER,i.chart.vlSpec),i.hoverFocus=!i.thumbnail},_)},i.mouseout=function(){i.hoverFocus&&l.logInteraction(l.actions.CHART_MOUSEOUT,i.chart.vlSpec),n.cancel(i.hoverPromise),i.hoverFocus=i.unlocked=!1};var $;i.$watch("chart.vlSpec",function(){var e=i.chart.vgSpec=v();i.chart.cleanSpec||(i.chart.cleanSpec=t.Encoding.fromSpec(i.chart.vlSpec).toSpec(!0)),w(e)},!0),i.$on("$destroy",function(){console.log("vlplot destroyed"),$&&($.off("mouseover"),$.off("mouseout"),$=null),i.destroyed=!0})}}}])}(),function(){"use strict";angular.module("vlui").filter("compactJSON",function(){return function(t){return JSON.stringify(t,null,"  ",80)}})}(),function(){"use strict";angular.module("vlui").filter("encodeURI",function(){return function(t){return window.encodeURI(t)}})}(),function(){"use strict";angular.module("vlui").filter("reportUrl",["compactJSONFilter","_","consts",function(t,e,n){function i(n){var i="https://docs.google.com/forms/d/1T9ZA14F3mmzrHR7JJVUKyPXzrMqF54CjLIOjv2E7ZEM/viewform?";if(n.fields){var r=encodeURI(t(e.values(n.fields)));i+="entry.1245199477="+r+"&"}if(n.encoding){var o=e.omit(n.encoding,"config");o=encodeURI(t(o)),i+="entry.1323680136="+o+"&"}if(n.encoding2){var a=e.omit(n.encoding2,"config");a=encodeURI(t(a)),i+="entry.853137786="+a+"&"}var s="entry.1940292677=";switch(n.type){case"vl":i+=s+"Visualization+Rendering+(Vegalite)&";break;case"vr":i+=s+"Recommender+Algorithm+(Visrec)&";break;case"fv":i+=s+"Recommender+UI+(FacetedViz)&"}return i}function r(n){var i="https://docs.google.com/forms/d/1xKs-qGaLZEUfbTmhdmSoS13OKOEpuu_NNWE5TAAml_Y/viewform?";if(n.encoding){var r=e.omit(n.encoding,"config");r=encodeURI(t(r)),i+="entry.1245199477="+r+"&"}return i}return"voyager"===n.appId?i:r}])}(),function(){"use strict";angular.module("vlui").filter("underscore2space",function(){return function(t){return t?t.replace(/_+/g," "):""}})}(),function(){"use strict";angular.module("vlui").filter("scaleType",function(){return function(t){var e={Q:"Quantitative",N:"Nominal",O:"Ordinal",T:"Time"};return e[t]}})}();